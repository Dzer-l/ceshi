{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/business/entryDetailsOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/business/entryDetailsOrder.vue","mtime":1634724784704},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDbGlwYm9hcmQgZnJvbSAnY2xpcGJvYXJkJwppbXBvcnQgewoJZ2V0RW50cnlEYXRlaWwsCglnZXRBbGxBZGRyZXNzLAoJZ2V0QWNjb3VudEluZm8sCglnZXRNYXRlcmlhbERlcG90LAoJbW9kaWZpY2F0aW9uT3JkZXJJbmZvLAoJZGV0ZXJtaW5lV2hldGhlciwKCWFkZERldGVybWluZSwKCWFkZE5lZWREZXRlcm1pbmUsCglnZXRSZWNlaXZlckluZm8sCglTaWduZWRDb2RlQ29weSwKCXNlbmRUZXh0TWVzc2FnZSwKCW1vZGlmaWNhdGlvblJlY2VpdmVJbmZvLCBnZXRQcm9wb3NlSW5mbywgc2VuZFNtc1RvVGhlUGFydGllcywKCWdldEVudGVycHJpc2VQcml2eUluZm8sCglnZXRSZWNpcGllbnRzSW5mbywKCXNlbmROb3RhcnlQYXBlciwKfSBmcm9tICcuLi8uLi9hcGkvY2xvdWRNYWlsJwppbXBvcnQgeyBhcHBvaW50bWVudFRpbWUgfSBmcm9tICcuLi8uLi9hcGkvbWFpbE1hbmFnZScKaW1wb3J0IHsgZ2V0UmVwbGFjZUpzb24sIHJlcGxhY2VWYXJpYWJsZSwgc2F2ZURlZmVuc2VQYXJraW5nSG9sZGVySW5mbyB9IGZyb20gIi4uLy4uL2FwaS9wYXJraW5nU3BhY2UiOwppbXBvcnQgKiBhcyBuZXdIb3VzZSBmcm9tICcuLi8uLi9hcGkvbmV3aG91c2UnCmltcG9ydCBhcHBsaWNhdGlvbkluZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lbnRyeVRhYi9hcHBsaWNhdGlvbkluZm8nCmltcG9ydCBkb2N1bWVudE1hdGVyaWFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvZG9jdW1lbnRNYXRlcmlhbCcKaW1wb3J0IGxvZ2lzdGljc0luZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lbnRyeVRhYi9sb2dpc3RpY3NJbmZvJwppbXBvcnQgZGVwb3NpdENlcnRpZmljYXRlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvZGVwb3NpdENlcnRpZmljYXRlJwppbXBvcnQgcmVjZWl2ZXJJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvcmVjZWl2ZXJJbmZvJwppbXBvcnQgZXZpZGVuY2VNYXRlcmlhbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL2V2aWRlbmNlTWF0ZXJpYWwnCmltcG9ydCB3aWxsUGF5Q2VydGlmaWNhdGVJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvd2lsbFBheUNlcnRpZmljYXRlSW5mbycKaW1wb3J0IHByb3BlcnR5SW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL3Byb3BlcnR5SW5mbycKaW1wb3J0IHF1YWxpZmljYXRpb25JbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvcXVhbGlmaWNhdGlvbkluZm8nCmltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcycKaW1wb3J0IHsgZmlsdGVyQ2FyZFR5cGUgfSBmcm9tICdAL2ZpbHRlcnMvaW5kZXgnCmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHsKCQlhcHBsaWNhdGlvbkluZm8sCgkJZG9jdW1lbnRNYXRlcmlhbCwKCQlsb2dpc3RpY3NJbmZvLAoJCWRlcG9zaXRDZXJ0aWZpY2F0ZSwKCQlyZWNlaXZlckluZm8sCgkJZXZpZGVuY2VNYXRlcmlhbCwKCQl3aWxsUGF5Q2VydGlmaWNhdGVJbmZvLAoJCXByb3BlcnR5SW5mbywKCQlxdWFsaWZpY2F0aW9uSW5mbywKCX0sCglmaWx0ZXJzOiB7CgkJZmlsdGVyQ2FyZFR5cGUsCgkJLy8gY2VydGlmaWNhdGVUeXBlKHZhbCkgewoJCS8vICAgdmFyIHN0ciA9ICcnCgkJLy8gICBzd2l0Y2ggKHRydWUpIHsKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTExOnN0ciA9ICflsYXmsJHouqvku73or4EnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTI6c3RyID0gJ+S4tOaXtuWxheawkei6q+S7veivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDExMzpzdHIgPSAn5oi35Y+j57C/JwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTE0OnN0ciA9ICfkuK3lm73kurrmsJHop6PmlL7lhpvlhpvlrpjor4EnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTY6c3RyID0gJ+mmmea4r+Wxheawkei6q+S7veivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDExNzpzdHIgPSAn5r6z6Zeo5bGF5rCR6Lqr5Lu96K+BJwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTE4OnN0ciA9ICfmuK/mvrPlsYXmsJHmnaXlvoDlhoXlnLDpgJrooYzor4EnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTk6c3RyID0gJ+WPsOa5vuWxheawkeadpeW+gOWGheWcsOmAmuihjOivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDEyMTpzdHIgPSAn6JCl5Lia5omn54Wn5rOo5YaM5Y+3JwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTIyOnN0ciA9ICfmnLrmnoTnu4Tnu4fku6PnoIEnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjM6c3RyID0gJ+Wjq+WFteivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDEyNDpzdHIgPSAn5Y+w5rm+5bGF5rCR6Lqr5Lu96K+BJwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTI2OnN0ciA9ICfnu5/kuIDnpL7kvJrkv6HnlKjku6PnoIEnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjU6c3RyID0gJ+W+i+W4iOivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDEyNzpzdHIgPSAn5LyB5Lia5rOo5YaM57yW56CBJwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTI4OnN0ciA9ICfpqb7pqbbor4EnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzA6c3RyID0gJ+a4r+a+s+WxheawkeWxheS9j+ivgScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICAgIGNhc2UgcGFyZW50KHZhbCkgPT09IDEzMTpzdHIgPSAn5Y+w5rm+5bGF5rCR5bGF5L2P6K+BJwoJCS8vICAgICAgIHJldHVybiBzdHIKCQkvLyAgICAgY2FzZSBwYXJlbnQodmFsKSA9PT0gMTMzOnN0ciA9ICflpJblm73miqTnhacnCgkJLy8gICAgICAgcmV0dXJuIHN0cgoJCS8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzI6c3RyID0gJ+aZrumAmuaKpOeFp++8iOS4reWbve+8iScKCQkvLyAgICAgICByZXR1cm4gc3RyCgkJLy8gICB9CgkJLy8gICByZXR1cm4gc3RyCgkJLy8gfSwKCQl1c2VyVHlwZSh2YWwpIHsKCQkJdmFyIHN0ciA9ICcnCgkJCWlmIChwYXJzZUludCh2YWwpID09PSAxKSB7CgkJCQlzdHIgPSAn5Liq5Lq655So5oi3JwoJCQl9IGVsc2UgaWYgKHBhcnNlSW50KHZhbCkgPT09IDIpIHsKCQkJCXN0ciA9ICfkvIHkuJrnlKjmiLcnCgkJCX0KCQkJcmV0dXJuIHN0cgoJCX0sCgkJb3JkZXJTdGF0ZSh2YWwpIHsKCQkJdmFyIHN0ciA9ICcnCgkJCXN3aXRjaCAodHJ1ZSkgewoJCQkJY2FzZSB2YWwgPT09IDE6CgkJCQkJc3RyID0gJ+W+heaPkOS6pCcKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gMTA0OgoJCQkJCXN0ciA9ICflvoXmi5/lkIjlkIwnCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDEwNToKCQkJCQlzdHIgPSAn5b6F5b2V5Yi2JwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSAyOgoJCQkJCXN0ciA9ICflj5fnkIbkuK0nCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDIwMToKCQkJCQlzdHIgPSAn5b6F5a6h5qC4JwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSAyMDI6CgkJCQkJc3RyID0gJ+mcgOihpeadkOaWmScKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gMzAxOgoJCQkJCXN0ciA9ICfliLbor4HkuK0nCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDMwMjoKCQkJCQlzdHIgPSAn5b6F6YKu5a+EJwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSAzMDM6CgkJCQkJc3RyID0gJ+W+hemihOe6picKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gMzA0OgoJCQkJCXN0ciA9ICflt7Lpgq7lr4QnCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDMwNToKCQkJCQlzdHIgPSAn5bey6aKE57qmJwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSAzMDY6CgkJCQkJc3RyID0gJ+W3suWujOaIkCcKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gNDAxOgoJCQkJCXN0ciA9ICfmi5Lnu53lj5fnkIYnCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDEwMzoKCQkJCQlzdHIgPSAn5b6F6KeG6aKRJwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSA0MDI6CgkJCQkJc3RyID0gJ+W3sue7iOatoicKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gMTAyOgoJCQkJCXN0ciA9ICflvoXnrb7nvbInCgkJCQkJcmV0dXJuIHN0cgoJCQkJY2FzZSB2YWwgPT09IDQwMzoKCQkJCQlzdHIgPSAn5bey5pKk6ZSAJwoJCQkJCXJldHVybiBzdHIKCQkJCWNhc2UgdmFsID09PSA0MDQ6CgkJCQkJc3RyID0gJ+W3suWIoOmZpCcKCQkJCQlyZXR1cm4gc3RyCgkJCQljYXNlIHZhbCA9PT0gMTAxOgoJCQkJCXN0ciA9ICflvoXmlK/ku5gnCgkJCQkJcmV0dXJuIHN0cgoJCQkJZGVmYXVsdDoKCQkJCQlyZXR1cm4gdmFsCgkJCX0KCQl9LAoJCXRleHRDb21wdXRlZCh2YWwpIHsKCQkJY29uc3QgdGV4dCA9IHsKCQkJCTQ6ICLnrb7nvbLnoIEiLAoJCQkJZGVmYXVsdDogIuetvue9si/op4bpopHnoIEiCgkJCX0KCQkJaWYgKHRleHRbdmFsXSkgcmV0dXJuIHRleHRbdmFsXQoJCQlyZXR1cm4gdGV4dC5kZWZhdWx0CgkJfQoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2VuZFNtczogZmFsc2UsCgkJCXBpY2tlck9wdGlvbnMwOiB7CgkJCQlkaXNhYmxlZERhdGUodGltZSkgewoJCQkJCXJldHVybiB0aW1lLmdldFRpbWUoKSA8IERhdGUubm93KCkgLSA4LjY0ZTcvLyDlpoLmnpzmsqHmnInlkI7pnaLnmoQtOC42NGU35bCx5piv5LiN5Y+v5Lul6YCJ5oup5LuK5aSp55qECgkJCQl9CgkJCX0sCgkJCWp1cmlzZGljdGlvbjogZmFsc2UsCgkJCXBlcnNvbm5lbFFSQ29kZUxpc3Q6IGZhbHNlLAoJCQlzdWJtaXRTdGF0dTogZmFsc2UsCgkJCXRhYmxlc3RhOiBmYWxzZSwKCQkJb3JkZXJJZDogJycsCgkJCW1haW5TdGF0dTogdHJ1ZSwKCQkJYmFzaWNEYXRhOiB7fSwKCQkJLy8gdm9sdW1lRGF0YTogewoJCQkvLyAgIHZvbHVtZU51bTogJycsCgkJCS8vICAgbmFtZTogJycsCgkJCS8vICAgYXNzaXN0YW50OiAnJwoJCQkvLyB9LAoJCQl2b2x1bWVSdWxlczogewoJCQkJZG9zc2llck51bTogWwoJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTljbflrpflj7cnLCB0cmlnZ2VyOiAnYmx1cicgfQoJCQkJXSwKCQkJCW5vdGFyeVBlcnNvbklkOiBbCgkJCQkJewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJbWVzc2FnZTogJ+WFgeiuuOi+k+WFpeaxieWtl+OAgeaVsOWtl+OAgeWtl+avjeaIlu+8iO+8iS0nLAoJCQkJCQl0cmlnZ2VyOiAnYmx1cicKCQkJCQl9CgkJCQldLAoJCQkJYXNzaXN0YW50TmFtZTogWwoJCQkJCXsKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCW1lc3NhZ2U6ICflhYHorrjovpPlhaXmsYnlrZfjgIHmlbDlrZfjgIHlrZfmr43miJbvvIjvvIktJywKCQkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQkJfQoJCQkJXSwKCQkJCW5vdGFyeU51bTogWwoJCQkJCXsKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCW1lc3NhZ2U6ICflhYHorrjovpPlhaXmsYnlrZfjgIHmlbDlrZfjgIHlrZfmr43miJbvvIjvvIktJywKCQkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQkJfQoJCQkJXQoJCQl9LAoJCQl2b2x1bWVOdW1TdGF0dTogdHJ1ZSwKCQkJYWNjb3VudERpYWxvZ1Zpc2libGU6IGZhbHNlLAoJCQlhY2NvdW50RGF0YToge30sCgkJCXJlZnVzZWRBY2NlcHREaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCgkJCXJlZnVzZWRBY2NlcHRGb3JtOiB7IHJlYXNvbjogJycgfSwKCQkJcmVmdXNlZEFjY2VwdFJ1bGVzOiB7CgkJCQlyZWFzb246IFsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5ouS57ud55CG55SxJywgdHJpZ2dlcjogJ2JsdXInIH0sCgkJCQkJewoJCQkJCQltaW46IDUsCgkJCQkJCW1heDogMTIwLAoJCQkJCQltZXNzYWdlOiAn6K+36L6T5YWlIDUg5YiwIDEyMCDkuKrlrZcnLAoJCQkJCQl0cmlnZ2VyOiAnYmx1cicKCQkJCQl9CgkJCQldCgkJCX0sCgkJCW1hdGVyaWFsc0RpYWxvZ1Zpc2libGU6IGZhbHNlLAoJCQlhY3RpdmVOYW1lOiAnZmlyc3QnLAoJCQlzZWFyY2hNYXRlcmlhbDogJycsCgkJCWNoZWNrTGlzdDogW10sCgkJCWFkZE1hdGVyaWFsOiB7CgkJCQluYW1lOiAnJywKCQkJCXJlbWFyazogJycKCQkJfSwKCQkJYWRkTWF0ZXJpYWxEYXRhOiBbCgkJCQl7CgkJCQkJaWQ6IDEsCgkJCQkJbmV3TmFtZTogJ+aWsOadkOaWmeWQjeensCcsCgkJCQkJbmV3UmVtYXJrOiAn5p2Q5paZ5aSH5rOoJywKCQkJCQlidG46ICfmt7vliqAnLAoJCQkJCW1vZGVsOiB7IG5hbWU6ICcnLCByZW1hcms6ICcnIH0KCQkJCX0KCQkJXSwKCQkJdGFiQWN0aXZlTmFtZTogJ2ZpcnN0JywKCQkJbWF0ZXJpYWxEYXRhOiBbXSwKCQkJdGVybWluYXRpb25EaWFsb2dWaXNpYmxlOiBmYWxzZSwKCQkJdGVybWluYXRpb25EYXRhOiB7CgkJCQl0ZXJtaW5hdGlvbkNhdXNlOiAnJwoJCQl9LAoJCQl0ZXJtaW5hdGlvblJ1bGVzOiB7CgkJCQl0ZXJtaW5hdGlvbkNhdXNlOiBbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpee7iOatouWOn+WboCcsIHRyaWdnZXI6ICdibHVyJyB9LAoJCQkJCXsKCQkJCQkJbWluOiA1LAoJCQkJCQltYXg6IDEyMCwKCQkJCQkJbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCAxMjAg5Liq5a2XJywKCQkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQkJfQoJCQkJXQoJCQl9LAoJCQlhcHBvaW50bWVudERpYWxvZ1Zpc2libGU6IGZhbHNlLAoJCQlzZXREYXRhOiB7CgkJCQl0aW1lOiAnJywKCQkJCXNpdGU6ICcnLAoJCQkJbnVtOiAnJwoJCQl9LAoJCQlvcHRpb25zOiBbXSwKCQkJc2V0UnVsc2U6IHsKCQkJCXRpbWU6IFsKCQkJCQl7CgkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQltZXNzYWdlOiAn6K+36YCJ5oup6aKG6K+B5pel5pyfJywKCQkJCQkJdHJpZ2dlcjogJ2NoYW5nZScKCQkJCQl9CgkJCQldLAoJCQkJc2l0ZTogWwoJCQkJCXsKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCW1lc3NhZ2U6ICfor7fpgInmi6npoobor4HlnLDngrknLAoJCQkJCQl0cmlnZ2VyOiAnY2hhbmdlJwoJCQkJCX0KCQkJCV0sCgkJCQludW06IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6aKG6K+B5Y+3JywgdHJpZ2dlcjogJ2JsdXInIH1dCgkJCX0sCgkJCWNvZGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKCQkJY29kZVVybDogJycsCgkJCXByaXZ5RGF0YToge30sCgkJCXNldFVwQUNvbnRyYWN0b3JEaWFsb2dWaXNpYmxlOiBmYWxzZSwKCQkJbGlzdE9mT3JnYW5pemVyczogW10sCgkJCW9yZ2FuaXplcjogJycsCgkJCXJvdXRpbmVEYXRhOiB7IGRvc3NpZXJOdW06ICcnLCBub3RhcnlOdW06ICcnLCBub3RhcnlQZXJzb25OYW1lOiAnJywgYXNzaXN0YW50TmFtZTogJycsIG5vdGFyeVBlcnNvbklkOiAnJyB9LAoJCQlvcmRlck9wZXJhdGlvbjogZmFsc2UsCgkJCWNvbnRyYWN0U3RhdHVzOiAiIiwKCQkJZXhwcmVzc0lkOiAnJywKCQkJc2lnblN0YXR1c0ZpbmlzaDogZmFsc2UsCS8vIOWPr+WHuuWFt+ivgeS5pueKtuaAgQoJCX0KCX0sCgljb21wdXRlZDogewoJCXRleHQoKSB7CgkJCXZhciBzdHIgPSAnJwoJCQlpZiAodGhpcy52b2x1bWVOdW1TdGF0dSkgewoJCQkJc3RyID0gJ+e8lui+kScKCQkJfSBlbHNlIHsKCQkJCXN0ciA9ICfkv53lrZgnCgkJCX0KCQkJcmV0dXJuIHN0cgoJCX0sCgl9LAoJd2F0Y2g6IHsKCQkvLyDot6/nlLHnm5HlkKzvvJrnm5HlkKzot6/nlLHnmoTlj5jljJbvvIzku47ogIzlgZrlh7rnm7jlupTmk43kvZwKCQkkcm91dGU6IHsKCQkJaW1tZWRpYXRlOiB0cnVlLCAvLyDkuIDml6bnm5HlkKzliLDot6/nlLHnmoTlj5jljJbnq4vljbPmiafooYwKCQkJaGFuZGxlcih0bywgZnJvbSkgewoJCQkJLy8g5Zue6LCD5Ye95pWw77yM5Lik5Liq5Y+C5pWw77yMdG/vvJrlvZPliY3nmoTnu4Tku7bvvIxmcm9t77ya5LiK5LiA5Liq57uE5Lu2CgkJCQlpZiAodG8ubmFtZSAhPT0gJ2VudHJ5RGV0YWlsc09yZGVyJykgewoJCQkJCXRoaXMubWFpblN0YXR1ID0gZmFsc2UKCQkJCX0KCQkJfQoJCX0sCgkJJyRzdG9yZS5zdGF0ZS5hcHAubWFzayc6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewoJCQlpZiAobmV3VmFsKSB7CgkJCQl0aGlzLnNlbmRTbXMgPSBmYWxzZQoJCQl9CgkJfQoJfSwKCWJlZm9yZUNyZWF0ZSgpIHsgfSwKCWNyZWF0ZWQoKSB7CgkJaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVySWQpIHsKCQkJdGhpcy5vcmRlcklkID0gdGhpcy4kcm91dGUucXVlcnkub3JkZXJJZAoJCX0gZWxzZSB7CgkJCXRoaXMub3JkZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5vcmRlcklkCgkJCXZhciB1cmwgPSBgLyMke3RoaXMuJHJvdXRlLnBhdGh9P29yZGVySWQ9JHt0aGlzLm9yZGVySWR9YAoJCQloaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCB1cmwpCgkJfQoJCXZhciBkYXRhID0geyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfQoKCQkvLyBnZXRKdXJpc2RpY3Rpb24oeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbigocmVzKSA9PiB7CgkJLy8gaWYgKHJlcy5zdWNjZXNzKSB7CgkJLy8gdGhpcy5qdXJpc2RpY3Rpb24gPSAhcmVzLmRhdGEKCQl0aGlzLmdldERhdGEoZGF0YSkKCQkvLyB9CgkJLy8gfSkKCX0sCgltZXRob2RzOiB7CgkJLy8g5Y+v5Ye65YW36K+B5Lmm54q25oCBCgkJaGFuZGxlU2lnblN0YXR1c0ZpbmlzaCh2YWwpIHsKCQkJdGhpcy5zaWduU3RhdHVzRmluaXNoID0gdmFsCgkJfSwKCQlzZXRVcEFDb250cmFjdG9yKCkgewoJCQkvLyBuZXdIb3VzZS5nZXRBTGlzdE9mT3JnYW5pemVycygpLnRoZW4ocmVzID0+IHsKCQkJLy8gICBpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJLy8gICAgIHRoaXMubGlzdE9mT3JnYW5pemVycyA9IHJlcy5kYXRhCgkJCXRoaXMub3JnYW5pemVyID0gJycvLyB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicgPyB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkIDogdGhpcy5iYXNpY0RhdGEuYWNjZXB0U3lzVXNlcklkID09PSBudWxsID8gJycgOiB0aGlzLmJhc2ljRGF0YS5hY2NlcHRTeXNVc2VySWQKCQkJdGhpcy5zZXRVcEFDb250cmFjdG9yRGlhbG9nVmlzaWJsZSA9IHRydWUKCQkJLy8gbmV3SG91c2Uuc2V0VGhlT3JkZXJIYW5kbGVyKHtvcmRlcklkOnRoaXMub3JkZXJJZCxvcmdVc2VySWQ6dGhpcy5vcmdhbml6ZXJ9KS50aGVuKHJlcz0+ewoJCQkvLyB9KQoJCQkvLyB9CgkJCS8vIH0pCgkJfSwKCQlkZXRlcm1pbmVUaGVTZXR0aW5ncygpIHsKCQkJbmV3SG91c2Uuc2V0VGhlT3JkZXJIYW5kbGVyKHsgb3JkZXJJZDogdGhpcy5vcmRlcklkLCBvcmdVc2VySWQ6IHRoaXMub3JnYW5pemVyIH0pLnRoZW4ocmVzID0+IHsKCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJfQoJCQl9KQoJCX0sCgkJZ2V0RGF0YShkYXRhKSB7CgkJCW5ld0hvdXNlLmdldEFMaXN0T2ZPcmdhbml6ZXJzKCkudGhlbihyZXMgPT4gewoJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJdGhpcy5saXN0T2ZPcmdhbml6ZXJzID0gcmVzLmRhdGEKCQkJCX0KCQkJfSkKCQkJZ2V0RW50cnlEYXRlaWwoeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbihhc3luYyAocmVzKSA9PiB7CgkJCQl0aGlzLmJhc2ljRGF0YSA9IHJlcy5kYXRhCgoJCQkJaWYgKHJlcy5kYXRhLnByb2RDb2RlID09PSAneXNmJykgewoJCQkJCWxldCBjb250cmFjdFN0YXR1cyA9IGF3YWl0IG5ld0hvdXNlLmNvbnRyYWN0U3RhdHVzKHRoaXMub3JkZXJJZCkKCQkJCQl0aGlzLmNvbnRyYWN0U3RhdHVzID0gY29udHJhY3RTdGF0dXMuc3VjY2VzcyA/IGNvbnRyYWN0U3RhdHVzLmRhdGEgOiAiIgoJCQkJCWNvbnN0IHN0YSA9IGF3YWl0IG5ld0hvdXNlLmdldE9yZGVyT3BlcmF0aW9uUGVybWlzc2lvbnMoeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkKCQkJCQlpZiAoc3RhLmNvZGUgPT09IDIwMDA2KSB7CgkJCQkJCXRoaXMuanVyaXNkaWN0aW9uID0gdHJ1ZQoJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKHN0YS5tc2cpCgkJCQkJCS8vIHNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQkvLyAgIHRoaXMuJHJvdXRlci5nbygtMSkKCQkJCQkJLy8gfSwgMjAwMCkKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLm9yZGVyT3BlcmF0aW9uID0gc3RhLmNvZGUgPT09IDIKCQkJCQkJbmV3SG91c2UuZ2V0Vm9sdW1lSW5mb3JtYXRpb24oeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbih2YWwgPT4gewoJCQkJCQkJdGhpcy5yb3V0aW5lRGF0YS5kb3NzaWVyTnVtID0gdmFsLmRhdGEuZG9zc2llck51bQoJCQkJCQkJdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlOdW0gPSB2YWwuZGF0YS5ub3RhcnlOdW0KCQkJCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSA9IHZhbC5kYXRhLmRvc3NpZXJOdW0KCQkJCQkJCXRoaXMucm91dGluZURhdGEuYXNzaXN0YW50TmFtZSA9IHZhbC5kYXRhLmFzc2lzdGFudFVzZXJOYW1lCgkJCQkJCQl0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkID0gdmFsLmRhdGEubm90YXJ5VXNlcklkCgkJCQkJCX0pCgkJCQkJfQoKCQkJCX0gZWxzZSBpZiAocmVzLmRhdGEucHJvZENvZGUgPT09ICdyZmN3JykgewoJCQkJCXRoaXMub3JkZXJPcGVyYXRpb24gPSB0cnVlCgkJCQkJbmV3SG91c2UuZ2V0Vm9sdW1lSW5mb3JtYXRpb24oeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbih2YWwgPT4gewoJCQkJCQl0aGlzLnJvdXRpbmVEYXRhLmRvc3NpZXJOdW0gPSB2YWwuZGF0YS5kb3NzaWVyTnVtCgkJCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5TnVtID0gdmFsLmRhdGEubm90YXJ5TnVtCgkJCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSA9IHZhbC5kYXRhLmRvc3NpZXJOdW0KCQkJCQkJdGhpcy5yb3V0aW5lRGF0YS5hc3Npc3RhbnROYW1lID0gdmFsLmRhdGEuYXNzaXN0YW50VXNlck5hbWUKCQkJCQkJdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCA9IHZhbC5kYXRhLm5vdGFyeVVzZXJJZAoJCQkJCX0pCgkJCQkJCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMucm91dGluZURhdGEuZG9zc2llck51bSA9IHJlcy5kYXRhLmRvc3NpZXJOdW0KCQkJCQl0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeU51bSA9IHJlcy5kYXRhLm5vdGFyeU51bQoJCQkJCXRoaXMucm91dGluZURhdGEuYXNzaXN0YW50TmFtZSA9IHJlcy5kYXRhLmFzc2lzdGFudE5hbWUKCQkJCQlmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5saXN0T2ZPcmdhbml6ZXJzLmxlbmd0aDsgaW5kZXgrKykgewoJCQkJCQlpZiAodGhpcy5iYXNpY0RhdGEubm90YXJ5UGVyc29uTmFtZSA9PT0gdGhpcy5saXN0T2ZPcmdhbml6ZXJzW2luZGV4XS5yZWFsTmFtZSkgewoJCQkJCQkJdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCA9IHRoaXMubGlzdE9mT3JnYW5pemVyc1tpbmRleF0uaWQKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCS8vIHRoaXMudm9sdW1lRGF0YS52b2x1bWVOdW0gPSByZXMuZGF0YS5kb3NzaWVyTnVtCgkJCQkvLyB0aGlzLnZvbHVtZURhdGEubmFtZSA9IHJlcy5kYXRhLm5vdGFyeVBlcnNvbk5hbWUKCQkJCS8vIHRoaXMudm9sdW1lRGF0YS5hc3Npc3RhbnQgPSByZXMuZGF0YS5hc3Npc3RhbnROYW1lCgkJCQlpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlICE9PSA1KSB7CgkJCQkJaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSkgewoJCQkJCQl0aGlzLnRhYkFjdGl2ZU5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLnRhYkFjdGl2ZU5hbWUgPSAnZmlyc3QnCgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQlpZiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CgkJCQkJCWlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykpIHsKCQkJCQkJCWlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykgPT09ICdmb3VydGgnIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSA9PT0gJ2ZpZnRoJyB8fCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykgPT09ICdzaXh0aCcpIHsKCQkJCQkJCQl0aGlzLnRhYkFjdGl2ZU5hbWUgPSAnZmlyc3QnCgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXRoaXMudGFiQWN0aXZlTmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKQoJCQkJCQkJfQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGhpcy50YWJBY3RpdmVOYW1lID0gJ2ZpcnN0JwoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSkgewoJCQkJCQkJaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSA9PT0gJ3NlY29uZCcgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGFiQWN0aXZlTmFtZScpID09PSAndGhpcmQnKSB7CgkJCQkJCQkJdGhpcy50YWJBY3RpdmVOYW1lID0gJ2ZpcnN0JwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0aGlzLnRhYkFjdGl2ZU5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXRoaXMudGFiQWN0aXZlTmFtZSA9ICdmaXJzdCcKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCXRoaXMudGFibGVzdGEgPSB0cnVlCgkJCQl0aGlzLmdldEV4cHJlc3NJZCh7IG9yZGVyTnVtOiByZXMuZGF0YS5vcmRlck51bSB9KQoJCQl9KQoJCX0sCgkJZ2V0RXhwcmVzc0lkKGRhdGEpIHsKCQkJZ2V0UmVjaXBpZW50c0luZm8oZGF0YSkudGhlbigocmVzKSA9PiB7CgkJCQlpZiAocmVzLnN1Y2Nlc3MgJiYgcmVzLmRhdGEpIHsKCQkJCQl0aGlzLmV4cHJlc3NJZCA9IHJlcy5kYXRhLmlkCgkJCQl9CgkJCX0pLmNhdGNoKChlcnIpID0+IHsKCQkJCWNvbnNvbGUubG9nKGVycik7CgkJCX0pCgkJfSwKCQkvLyDngrnlh7vlpI3liLborqLljZXnvJblj7cKCQljb3B5TnVtKCkgewoJCQl0aGlzLmNvcHkoJy5jb3B5LW9yZGVyLW51bScpCgkJfSwKCQkvLyDngrnlh7vlpI3liLbmlK/ku5jnvJblj7cKCQljb3B5UGF5TnVtKCkgewoJCQl0aGlzLmNvcHkoJy5jb3B5LXBheS1udW0nKQoJCX0sCgkJY29weSh2YWwpIHsKCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCgkJCWNvbnN0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQodmFsKSAvLyDov5nph4zmi6zlj7fph4zloavlhpnkuIrpnaLngrnlh7vkuovku7bnu5HlrprnmoRjbGFzc+WQjQoJCQljbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCAoZSkgPT4gewoJCQkJLy8g5aSN5Yi25oiQ5Yqf77yM5o+Q56S65qC55o2u6Ieq5bex6aG555uu5a6e6ZmF5L2/55So55qEVUnmnaXlhpkKCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCXNob3dDbG9zZTogdHJ1ZSwKCQkJCQltZXNzYWdlOiAn5aSN5Yi25oiQ5YqfJywKCQkJCQl0eXBlOiAnc3VjY2VzcycsCgkJCQkJZHVyYXRpb246IDIwMDAKCQkJCX0pCgkJCQkvLyDph4rmlL7lhoXlrZgKCQkJCWNsaXBib2FyZC5kZXN0cm95KCkKCQkJfSkKCQkJY2xpcGJvYXJkLm9uKCdlcnJvcicsIChlKSA9PiB7CgkJCQkvLyDkuI3mlK/mjIHlpI3liLbvvIzmj5DnpLrmoLnmja7oh6rlt7Hpobnnm67lrp7pmYXkvb/nlKjnmoRVSeadpeWGmQoJCQkJLy8g6YeK5pS+5YaF5a2YCgkJCQljbGlwYm9hcmQuZGVzdHJveSgpCgkJCX0pCgkJfSwKCQkvLyDkv67mlLnljbflrpflj7cKCQlhc3luYyBzYXZlVm9sdW1lTnVtKCkgewoJCQlpZiAoIXRoaXMudm9sdW1lTnVtU3RhdHUpIHsKCQkJCWlmICh0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkKSB7CgkJCQkJZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGlzdE9mT3JnYW5pemVycy5sZW5ndGg7IGluZGV4KyspIHsKCQkJCQkJaWYgKHRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uSWQgPT09IHRoaXMubGlzdE9mT3JnYW5pemVyc1tpbmRleF0uaWQpIHsKCQkJCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSA9IHRoaXMubGlzdE9mT3JnYW5pemVyc1tpbmRleF0ucmVhbE5hbWUKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCS8vIGNvbnN0IGZ1RGF0YSA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyB8fCB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3JmY3cnID8geyBvcmRlcklkOiB0aGlzLm9yZGVySWQsIGRvc3NpZXJOdW06IHRoaXMucm91dGluZURhdGEuZG9zc2llck51bSwgbm90YXJ5TnVtOiB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeU51bSwgbm90YXJ5VXNlcklkOiB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkLCBub3RhcnlVc2VyTmFtZTogdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25OYW1lLCBhc3Npc3RhbnRVc2VyTmFtZTogdGhpcy5yb3V0aW5lRGF0YS5hc3Npc3RhbnROYW1lIH0gOiB0aGlzLmJhc2ljRGF0YQoJCQkJY29uc3QgZnVEYXRhID0gewoJCQkJCW9yZGVySWQ6IHRoaXMub3JkZXJJZCwKCQkJCQlkb3NzaWVyTnVtOiB0aGlzLnJvdXRpbmVEYXRhLmRvc3NpZXJOdW0sCgkJCQkJbm90YXJ5TnVtOiB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeU51bSwgbm90YXJ5VXNlcklkOgoJCQkJCQl0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkLAoJCQkJCW5vdGFyeVVzZXJOYW1lOiB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbk5hbWUsCgkJCQkJYXNzaXN0YW50VXNlck5hbWU6IHRoaXMucm91dGluZURhdGEuYXNzaXN0YW50TmFtZQoJCQkJfQoKCQkJCWlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSAhPT0gJ3lzZicpIHsKCQkJCQl0aGlzLmJhc2ljRGF0YS5kb3NzaWVyTnVtID0gdGhpcy5yb3V0aW5lRGF0YS5kb3NzaWVyTnVtCgkJCQkJdGhpcy5iYXNpY0RhdGEuYWNjZXB0U3lzVXNlcklkID0gdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZAoJCQkJCXRoaXMuYmFzaWNEYXRhLm5vdGFyeVBlcnNvbk5hbWUgPSB0aGlzLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbk5hbWUKCQkJCQl0aGlzLmJhc2ljRGF0YS5hc3Npc3RhbnROYW1lID0gdGhpcy5yb3V0aW5lRGF0YS5hc3Npc3RhbnROYW1lCgkJCQl9CgkJCQkvLyBjb25zdCB1cmwgPSB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicgfHwgdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICdyZmN3Jz8gYG9yZy91cGRhdGUtb3JkZXItZG9zc2llcmAgOiBgb3JnL3VwZGF0ZS1vcmRlci1pbmZvYAoJCQkJY29uc3QgdXJsID0gYG9yZy91cGRhdGUtb3JkZXItZG9zc2llcmAKCQkJCWNvbnN0IHN0YSA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlICE9PSAneXNmJyAmJiB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSAhPT0gJ3JmY3cnID8gdHJ1ZSA6IGF3YWl0IHRoaXMudmVyaWZ5VGhlVm9sdW1lRm9ybSgpCgkJCQljb25zb2xlLmxvZyhzdGEpCgkJCQlpZiAoIXN0YSkgewoJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWujOaVtOWNt+Wul+S/oeaBrycpCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQl9CgkJCQlsZXQgcmV0ID0gYXdhaXQgdGhpcy4kYXhpb3ModXJsLCBmdURhdGEsIHsgbWV0aG9kOiAnUE9TVCcgfSkKCQkJCS8vIC50aGVuKHJlcyA9PiB7CgkJCQlpZiAocmV0LnN1Y2Nlc3MpIHsKCQkJCQl0aGlzLnZvbHVtZU51bVN0YXR1ID0gIXRoaXMudm9sdW1lTnVtU3RhdHUKCQkJCQkvLyBpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewkvLyDkurrpmLLovabkvY0KCQkJCQkvLyAJCXRoaXMucGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKQoJCQkJCS8vIH0gZWxzZSB7CgkJCQkJLy8gCXRoaXMuJGZ1bi5yZXBsYWNlSW5zdHJ1bWVudCh0aGlzLm9yZGVySWQpCgkJCQkJLy8gfQoJCQkJfQoJCQkJLy8gfSkKCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5TnVtID0gdGhpcy5iYXNpY0RhdGEuYXNzaXN0YW50VXNlck5hbWUKCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSA9IHRoaXMuYmFzaWNEYXRhLmRvc3NpZXJOdW0KCQkJCXRoaXMucm91dGluZURhdGEuYXNzaXN0YW50TmFtZSA9IHRoaXMuYmFzaWNEYXRhLmFzc2lzdGFudE5hbWUKCQkJCXRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uSWQgPSB0aGlzLmJhc2ljRGF0YS5ub3RhcnlVc2VySWQKCQkJCW1vZGlmaWNhdGlvbk9yZGVySW5mbyh0aGlzLmJhc2ljRGF0YSkudGhlbigocmVzKSA9PiB7CgkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCXRoaXMudm9sdW1lTnVtU3RhdHUgPSAhdGhpcy52b2x1bWVOdW1TdGF0dQoJCQkJCQlpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewkvLyDkurrpmLLovabkvY0KCQkJCQkJCXRoaXMucGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGhpcy4kZnVuLnJlcGxhY2VJbnN0cnVtZW50KHRoaXMub3JkZXJJZCkKCQkJCQkJfQoJCQkJCX0KCQkJCX0pCgkJCX0gZWxzZSB7CgkJCQl0aGlzLnZvbHVtZU51bVN0YXR1ID0gIXRoaXMudm9sdW1lTnVtU3RhdHUKCQkJfQoJCX0sCgkJYXN5bmMgcGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKSB7CgkJCWxldCByZXMgPSBhd2FpdCBnZXRSZXBsYWNlSnNvbih0aGlzLm9yZGVySWQpCgkJCWlmIChyZXMpIHsKCQkJCWxldCB2YXJpYWJsZSA9IHsKCQkJCQlvcmdJZDogdGhpcy5iYXNpY0RhdGEub3JnSWQsCgkJCQkJcHJvQ29kZTogInJmY3ciLAoJCQkJCW9yZGVySWQ6IHRoaXMub3JkZXJJZCwKCQkJCQl0ZW1wbGF0ZVR5cGU6IDAsCgkJCQkJdHlwZTogIiIsCgkJCQkJanNvbjogSlNPTi5zdHJpbmdpZnkocmVzKSwKCQkJCQlpZERlbGV0ZTogMAoJCQkJfQoJCQkJY29uc29sZS5sb2codmFyaWFibGUpOwoKCQkJCWxldCByZXN1bHQgPSBhd2FpdCByZXBsYWNlVmFyaWFibGUodmFyaWFibGUpCgkJCQljb25zb2xlLmxvZygn5pu/5o2i57uT5p6cJywgcmVzdWx0KTsKCQkJCWlmIChyZXN1bHQuc3VjY2VzcykgewoJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oMCkKCQkJCQl9LCA1MCk7CgkJCQl9CgkJCX0KCQl9LAoJCXZlcmlmeVRoZVZvbHVtZUZvcm0oKSB7CgkJCXJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgkJCQl0aGlzLiRyZWZzWyd2b2x1bWVGb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7CgkJCQkJaWYgKHZhbGlkKSB7CgkJCQkJCXJlc29sdmUodHJ1ZSkKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXNvbHZlKGZhbHNlKQoJCQkJCX0KCQkJCX0pCgkJCX0pCgkJfSwKCQkvLyDmn6XnnIvotKblj7fkv6Hmga8KCQljaGVja0FjY291bnRJbmZvKCkgewoJCQlnZXRBY2NvdW50SW5mbyh7IGFjY291bnRJZDogdGhpcy5iYXNpY0RhdGEudXNlckFjY291bnRJbmZvSWQgfSkudGhlbigocmVzKSA9PiB7CgkJCQl0aGlzLmFjY291bnREYXRhID0gcmVzLmRhdGEKCQkJCWlmIChyZXMuZGF0YS51c2VyVHlwZSAhPT0gMSkgewoJCQkJCS8vIGdldEVudGVycHJpc2VQcml2eUluZm8oeyBhY2NvdW50SWQ6IHJlcy5kYXRhLmlkIH0pLnRoZW4oZGF0YSA9PiB7CgkJCQkJdGhpcy5wcml2eURhdGEgPSByZXMuZGF0YS51c2VySW5mb0RUTwoJCQkJCXRoaXMucHJpdnlEYXRhLm1vYmlsZSA9IHJlcy5kYXRhLm1vYmlsZQoJCQkJCXRoaXMuYWNjb3VudERpYWxvZ1Zpc2libGUgPSB0cnVlCgkJCQkJLy8gfSkKCQkJCQkvLyB9IGVsc2UgewoJCQkJCS8vIH0KCQkJCX0KCQkJCXRoaXMuYWNjb3VudERpYWxvZ1Zpc2libGUgPSB0cnVlCgkJCX0pCgkJfSwKCQkvLyDmi5Lnu53lj5fnkIYKCQlyZWZ1c2VkQWNjZXB0KCkgewoJCQl0aGlzLnJlZnVzZWRBY2NlcHREaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKCQkJdGhpcy5zdWJtaXRTdGF0dSA9IGZhbHNlCgkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCXRoaXMuJHJlZnNbJ3JlZnVzZWRBY2NlcHQnXS5yZXNldEZpZWxkcygpCgkJCX0pCgkJfSwKCQkvLyDooaXlhYXmnZDmlpkKCQlyZWplY3RlZE1hdGVyaWFsKCkgewoJCQl0aGlzLnN1Ym1pdFN0YXR1ID0gZmFsc2UKCQkJZ2V0TWF0ZXJpYWxEZXBvdCh7CgkJCQlvcmRlcklkOiB0aGlzLm9yZGVySWQsCgkJCQltYXRlcmlhbE5hbWU6ICcnCgkJCX0pLnRoZW4oKHJlcykgPT4gewoJCQkJLy8gaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHsKCQkJCS8vICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlcy5kYXRhLmxlbmd0aDsgaW5kZXgrKykgewoJCQkJLy8gICAgIGlmIChyZXMuZGF0YVtpbmRleF0ub3JnTWF0ZXJpYWxEVE9TLmxlbmd0aCA+IDApIHsKCQkJCS8vICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmRhdGFbaW5kZXhdLm9yZ01hdGVyaWFsRFRPUy5sZW5ndGg7IGkrKykgewoJCQkJLy8gICAgICAgICBpZiAocmVzLmRhdGFbaW5kZXhdLm9yZ01hdGVyaWFsRFRPU1tpXS5pc0ZsYWcgPT09IDEpIHsKCQkJCS8vICAgICAgICAgICB0aGlzLmNoZWNrTGlzdC5wdXNoKHJlcy5kYXRhW2luZGV4XS5vcmdNYXRlcmlhbERUT1NbaV0uaWQpCgkJCQkvLyAgICAgICAgIH0KCQkJCS8vICAgICAgIH0KCQkJCS8vICAgICB9CgkJCQkvLyAgIH0KCQkJCS8vIH0KCQkJCXRoaXMubWF0ZXJpYWxEYXRhID0gcmVzLmRhdGEKCQkJCXRoaXMuc2VhcmNoTWF0ZXJpYWwgPSAnJwoJCQkJdGhpcy5jaGVja0xpc3QgPSBbXQoJCQkJdGhpcy5hZGRNYXRlcmlhbERhdGEgPSBbCgkJCQkJewoJCQkJCQlpZDogMSwKCQkJCQkJbmV3TmFtZTogJ+aWsOadkOaWmeWQjeensCcsCgkJCQkJCW5ld1JlbWFyazogJ+adkOaWmeWkh+azqCcsCgkJCQkJCWJ0bjogJ+a3u+WKoCcsCgkJCQkJCW1vZGVsOiB7IG5hbWU6ICcnLCByZW1hcms6ICcnIH0KCQkJCQl9CgkJCQldCgkJCQl0aGlzLm1hdGVyaWFsc0RpYWxvZ1Zpc2libGUgPSB0cnVlCgkJCX0pCgkJfSwKCQlzdXBwbGVtZW50TWF0ZXJpYWwoKSB7CgkJCWlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICdmaXJzdCcpIHsKCQkJCWlmICh0aGlzLmNoZWNrTGlzdC5sZW5ndGggPCAxKSB7CgkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCW1lc3NhZ2U6ICfor7foh7PlsJHpgInmi6nkuIDpobknLAoJCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCQl9KQoJCQkJfSBlbHNlIHsKCQkJCQlpZiAodGhpcy5zdWJtaXRTdGF0dSkgewoJCQkJCQlyZXR1cm4KCQkJCQl9CgkJCQkJdGhpcy5zdWJtaXRTdGF0dSA9IHRydWUKCQkJCQl2YXIgYXJyID0gW10KCQkJCQlmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY2hlY2tMaXN0Lmxlbmd0aDsgaisrKSB7CgkJCQkJCWZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1hdGVyaWFsRGF0YS5sZW5ndGg7IGluZGV4KyspIHsKCQkJCQkJCWZvciAoCgkJCQkJCQkJbGV0IGkgPSAwOwoJCQkJCQkJCWkgPCB0aGlzLm1hdGVyaWFsRGF0YVtpbmRleF0ub3JnTWF0ZXJpYWxEVE9TLmxlbmd0aDsKCQkJCQkJCQlpKysKCQkJCQkJCSkgewoJCQkJCQkJCWlmICgKCQkJCQkJCQkJdGhpcy5jaGVja0xpc3Rbal0gPT09CgkJCQkJCQkJCXRoaXMubWF0ZXJpYWxEYXRhW2luZGV4XS5vcmdNYXRlcmlhbERUT1NbaV0uaWQKCQkJCQkJCQkpIHsKCQkJCQkJCQkJYXJyLnB1c2godGhpcy5tYXRlcmlhbERhdGFbaW5kZXhdLm9yZ01hdGVyaWFsRFRPU1tpXSkKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQkJZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFyci5sZW5ndGg7IGluZGV4KyspIHsKCQkJCQkJYXJyW2luZGV4XS5vcmRlcklkID0gdGhpcy5vcmRlcklkCgkJCQkJfQoKCQkJCQlhZGREZXRlcm1pbmUoYXJyKS50aGVuKChyZXMpID0+IHsKCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQljb25zdCB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQoJCQkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSAyMDIKCQkJCQkJCW1vZGlmaWNhdGlvbk9yZGVySW5mbyh0ZGF0YSkudGhlbigocmVzKSA9PiB7CgkJCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkJCX0KCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9KQoJCQkJfQoJCQl9IGVsc2UgewoJCQkJZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuYWRkTWF0ZXJpYWxEYXRhLmxlbmd0aDsgaW5kZXgrKykgewoJCQkJCWlmICh0aGlzLmFkZE1hdGVyaWFsRGF0YVtpbmRleF0ubW9kZWwubmFtZS5sZW5ndGggPiAwKSB7CgkJCQkJCXZhciBkYXRhID0gewoJCQkJCQkJb3JkZXJJZDogdGhpcy5vcmRlcklkLAoJCQkJCQkJbWF0ZXJpYWxOYW1lOiB0aGlzLmFkZE1hdGVyaWFsRGF0YVtpbmRleF0ubW9kZWwubmFtZSwKCQkJCQkJCXR5cGU6IDIsCgkJCQkJCQlzdGF0dXM6IDAsCgkJCQkJCQljb250ZW50OiB0aGlzLmFkZE1hdGVyaWFsRGF0YVtpbmRleF0ubW9kZWwucmVtYXJrCgkJCQkJCX0KCQkJCQkJYXJyLnB1c2goZGF0YSkKCQkJCQl9CgkJCQl9CgkJCQlpZiAoYXJyLmxlbmd0aCA+IDApIHsKCQkJCQlpZiAodGhpcy5zdWJtaXRTdGF0dSkgewoJCQkJCQlyZXR1cm4KCQkJCQl9CgkJCQkJdGhpcy5zdWJtaXRTdGF0dSA9IHRydWUKCQkJCQlhZGROZWVkRGV0ZXJtaW5lKGFycikudGhlbigocmVzKSA9PiB7CgkJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQkJY29uc3QgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYmFzaWNEYXRhKSkKCQkJCQkJCXRkYXRhLm9yZGVyU3RhdHVzID0gMjAyCgkJCQkJCQltb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oMCkKCQkJCQkJCQl9CgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCW1lc3NhZ2U6ICfor7fmt7vliqDkuLTml7bmnZDmlpknLAoJCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCQl9KQoJCQkJfQoJCQl9CgkJfSwKCQlibGFua1Jlc2V0KHZhbCkgewoJCQlpZiAodmFsLmxlbmd0aCA9PT0gMCkgewoJCQkJdGhpcy5yZWplY3RlZE1hdGVyaWFsKCkKCQkJfQoJCX0sCgkJLy8g6YCa6L+H5a6h5qC4CgkJb3BlcmF0ZVN1Y2Nlc3NmdWxseSgpIHsKCQkJY29uc3QgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQKCQkJaWYgKHRoaXMuc3VibWl0U3RhdHUpIHsKCQkJCXJldHVybgoJCQl9CgkJCXRoaXMuc3VibWl0U3RhdHUgPSB0cnVlCgkJCWRldGVybWluZVdoZXRoZXIoeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbigocmVzKSA9PiB7CgkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkvLyBjb25zdCB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQoJCQkJCS8vIHRkYXRhLm9yZGVyU3RhdHVzID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5emRsJyA/IDEwMiA6IDEwMQoKCQkJCQl0aGlzLiRtc2dib3goewoJCQkJCQl0aXRsZTogJ+aPkOekuicsCgkJCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQkJCXR5cGU6ICd3YXJuaW5nJywKCQkJCQkJbWVzc2FnZTogaCgncCcsIG51bGwsIFsKCQkJCQkJCWgoJ3AnLCBudWxsLCAn56Gu6K6k5a6h5qC46YCa6L+H6K+l6K6i5Y2V77yfJyksCgkJCQkJCQloKAoJCQkJCQkJCSdzcGFuJywKCQkJCQkJCQl7IHN0eWxlOiAnY29sb3I6ICNFNkEyM0MnIH0sCgkJCQkJCQkJJ+WuoeaguOmAmui/h+WQju+8jOaXoOazleWGjeasoeWuoeaguOOAgicKCQkJCQkJCSkKCQkJCQkJXSkKCQkJCQl9KQoJCQkJCQkudGhlbigoKSA9PiB7CgkJCQkJCQljb25zdCB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQoJCQkJCQkJaWYgKHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXpkbCcgfHwgdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICdyZmN3JykgewoJCQkJCQkJCXRkYXRhLm9yZGVyU3RhdHVzID0gMTAyCS8vIDEwMiwgIuW+heetvue9siIKCQkJCQkJCX0gZWxzZSBpZiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CgkJCQkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSAxMDMJLy8gMTAzLCAi5b6F6KeG6aKRIgoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDEwMQkvLyAxMDEsICLlvoXmlK/ku5giCgkJCQkJCQl9CgkJCQkJCQkvLyB0ZGF0YS5vcmRlclN0YXR1cyA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXpkbCcgPyAxMDIgOiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gMTAzIDogMTAxKQoKCQkJCQkJCW1vZGlmaWNhdGlvbk9yZGVySW5mbyh0ZGF0YSkudGhlbigocmVzKSA9PiB7CgkJCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkJCX0KCQkJCQkJCX0pCgkJCQkJCX0pCgkJCQkJCS5jYXRjaCgoKSA9PiB7CgkJCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKCQkJCQkJCX0pCgkJCQkJCQl0aGlzLnN1Ym1pdFN0YXR1ID0gZmFsc2UKCQkJCQkJfSkKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5zdWJtaXRTdGF0dSA9IGZhbHNlCgkJCQkJaWYgKHJlcy5jb2RlID09PSAyMDUwOSkgewoJCQkJCQl0aGlzLiRtc2dib3goewoJCQkJCQkJdGl0bGU6ICfmj5DnpLonLAoJCQkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICflpb3nmoQnLAoJCQkJCQkJdHlwZTogJ3dhcm5pbmcnLAoJCQkJCQkJbWVzc2FnZTogaCgncCcsIG51bGwsIFsKCQkJCQkJCQloKCdwJywgbnVsbCwgJ+aCqOacquWuoeaguOadkOaWme+8jOivt+WFiOWuoeaguOadkOaWmScpCgkJCQkJCQkJLy8gaCgKCQkJCQkJCQkvLyAgICdzcGFuJywKCQkJCQkJCQkvLyAgIHsgc3R5bGU6ICdjb2xvcjogI0U2QTIzQycgfSwKCQkJCQkJCQkvLyAgICflrqHmoLjpgJrov4flkI7vvIzml6Dms5Xlho3mrKHlrqHmoLjjgIInCgkJCQkJCQkJLy8gKQoJCQkJCQkJXSkKCQkJCQkJfSkKCQkJCQkJCS50aGVuKCgpID0+IHsKCgkJCQkJCQl9KQoJCQkJCQkJLmNhdGNoKCgpID0+IHsKCQkJCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJCQkJdHlwZTogJ2luZm8nLAoJCQkJCQkJCQltZXNzYWdlOiAn5bey5Y+W5raI5pON5L2cJwoJCQkJCQkJCX0pCgkJCQkJCQl9KQoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuJG1zZ2JveCh7CgkJCQkJCQl0aXRsZTogJ+aPkOekuicsCgkJCQkJCQljb25maXJtQnV0dG9uVGV4dDogJ+WlveeahCcsCgkJCQkJCQl0eXBlOiAnd2FybmluZycsCgkJCQkJCQltZXNzYWdlOiBoKCdwJywgbnVsbCwgW2goJ3AnLCBudWxsLCByZXMubXNnKV0pCgkJCQkJCX0pCgkJCQkJCQkudGhlbigoKSA9PiB7IH0pCgkJCQkJCQkuY2F0Y2goKCkgPT4gewoJCQkJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJCQkJCW1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwnCgkJCQkJCQkJfSkKCQkJCQkJCX0pCgkJCQkJfQoJCQkJfQoJCQl9KQoJCX0sCgkJLy8g5aGr5YaZ5a6M5ouS57ud55CG55Sx5ZCO55qE5o+Q5LqkCgkJcmVmdXNlZEFjY2VwdFJlYXNvblN1YmltdCgpIHsKCQkJdGhpcy4kcmVmc1sncmVmdXNlZEFjY2VwdCddLnZhbGlkYXRlKCh2YWxpZCwgb2JqKSA9PiB7CgkJCQlpZiAodmFsaWQpIHsKCQkJCQlpZiAodGhpcy5zdWJtaXRTdGF0dSkgewoJCQkJCQlyZXR1cm4KCQkJCQl9CgkJCQkJdGhpcy5zdWJtaXRTdGF0dSA9IHRydWUKCQkJCQl0aGlzLnJlZnVzZWRBY2NlcHREaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCgkJCQkJY29uc3QgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYmFzaWNEYXRhKSkKCQkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDQwMQoJCQkJCXRkYXRhLm9yZGVyUmVtYXJrID0gdGhpcy5yZWZ1c2VkQWNjZXB0Rm9ybS5yZWFzb24KCQkJCQltb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQl9CgkJCQkJfSkKCQkJCQkvLyBiYXNpY0RhdGEKCQkJCX0KCQkJfSkKCQl9LAoJCS8vIOWKqOaAgea3u+WKoOihqOWNlQoJCWFkZEZvcm0odmFsLCBpbmRleCkgewoJCQlpZiAodmFsLmJ0biA9PT0gJ+a3u+WKoCcpIHsKCQkJCXZhciBkYXRhID0gewoJCQkJCWlkOiB0aGlzLmFkZE1hdGVyaWFsRGF0YS5sZW5ndGggKyAxLAoJCQkJCW5ld05hbWU6ICfmlrDmnZDmlpnlkI3np7AnLAoJCQkJCW5ld1JlbWFyazogJ+adkOaWmeWkh+azqCcsCgkJCQkJYnRuOiAn5Yig6ZmkJywKCQkJCQltb2RlbDogeyBuYW1lOiAnJywgcmVtYXJrOiAnJyB9CgkJCQl9CgkJCQl0aGlzLmFkZE1hdGVyaWFsRGF0YS5wdXNoKGRhdGEpCgkJCX0gZWxzZSB7CgkJCQl0aGlzLmFkZE1hdGVyaWFsRGF0YS5zcGxpY2UoaW5kZXgsIDEpCgkJCX0KCQl9LAoJCS8vIOe7iOatouWKnueQhgoJCXRlcm1pbmF0aW9uKCkgewoJCQl0aGlzLnRlcm1pbmF0aW9uRGlhbG9nVmlzaWJsZSA9IHRydWUKCQl9LAoJCWNvbmZpcm1UZXJtaW5hdGlvbigpIHsKCQkJdGhpcy4kcmVmc1sndGVybWluYXRpb25Gb3JtJ10udmFsaWRhdGUoKHZhbGlkLCBvYmopID0+IHsKCQkJCWlmICh2YWxpZCkgewoJCQkJCWNvbnN0IHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmJhc2ljRGF0YSkpCgkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSA0MDIKCQkJCQl0ZGF0YS5vcmRlclJlbWFyayA9IHRoaXMudGVybWluYXRpb25EYXRhLnRlcm1pbmF0aW9uQ2F1c2UKCQkJCQltb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0KCQkJfSkKCQl9LAoJCS8vIOWkjeWItuetvue9sueggQoJCWNvcHlTaWduQ29kZSgpIHsKCQkJdmFyIGRhdGEgPSB7CgkJCQlvcmRlcklkOiB0aGlzLm9yZGVySWQsCgkJCQlxckNvZGVOYW1lOiAn562+572y56CBJywKCQkJCS8vIHVzZXJUeXBlOiAwCgkJCX0KCQkJaWYgKHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAicmZjdyIpIHsKCQkJCWRhdGEudXNlclR5cGUgPSAiMTAsMTEsMTYiCgkJCX0gZWxzZSB7CgkJCQlkYXRhLnVzZXJUeXBlID0gMAoJCQl9CgkJCVNpZ25lZENvZGVDb3B5KGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJdGhpcy5jb2RlVXJsID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcmVzLmRhdGEKCQkJCQl0aGlzLmNvZGVEaWFsb2dWaXNpYmxlID0gdHJ1ZQoJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQlodG1sMmNhbnZhcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUVItY29kZScpKS50aGVuKGFzeW5jIChjYW52YXMpID0+IHsKCQkJCQkJCXZhciBpbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKCkKCQkJCQkJCWNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaChpbWdVcmwpCgkJCQkJCQljb25zdCBibG9iID0gYXdhaXQgZGF0YS5ibG9iKCkKCQkJCQkJCXRoaXMuYmxvYkZpbGUoYmxvYiwgJ+etvue9sueggScpCgkJCQkJCQkvLyBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlKFsKCQkJCQkJCS8vIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgoJCQkJCQkJLy8gICBuZXcgQ2xpcGJvYXJkSXRlbSh7CgkJCQkJCQkvLyAgICAgW2Jsb2IudHlwZV06IGJsb2IKCQkJCQkJCS8vICAgfSkKCQkJCQkJCS8vIF0pCgkJCQkJCX0pCgkJCQkJfSwgMTAwMCkKCQkJCX0KCQkJfSkKCQl9LAoJCWJsb2JGaWxlKGJsb2IsIGZpbGVOYW1lKSB7CgkJCWlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHsKCQkJCW5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVOYW1lKQoJCQl9IGVsc2UgewoJCQkJY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQoJCQkJY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKQoJCQkJLy8gbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICd2aWV3X3dpbmRvdycpCgkJCQlsaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSAvLyDliJvlu7rlr7nosaF1cmwKCQkJCWxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZQoJCQkJLy8gZml4IEZpcmVmb3gKCQkJCWxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJwoJCQkJYm9keS5hcHBlbmRDaGlsZChsaW5rKQoJCQkJbGluay5jbGljaygpCgkJCQlib2R5LnJlbW92ZUNoaWxkKGxpbmspCgkJCQl3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpIC8vIOmAmui/h+iwg+eUqCBVUkwuY3JlYXRlT2JqZWN0VVJMKCkg5Yib5bu655qEIFVSTCDlr7nosaEKCQkJfQoJCX0sCgkJLy8g5Ye65YW36K+B5LmmCgkJY2VydGlmaWNhdGVJc3N1ZWQoKSB7CgkJCWlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3JmY3cnICYmICF0aGlzLnNpZ25TdGF0dXNGaW5pc2gpIHsKCQkJCXRoaXMuJGNvbmZpcm0oJzxwIj7or7flhYjlsIblhazor4Hkuabov5vooYznm5bnq6Dnrb7nvbLlkI7vvIzlho3lj5HpgIHnlLXlrZDlhazor4HkuaY8L3A+JywgJ+aTjeS9nOaPkOekuicsIHsKCQkJCQlkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCgkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICflpb0g55qEJywKCQkJCQlzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKCQkJCQl0eXBlOiAnd2FybmluZycsCgkJCQl9KQoJCQkJcmV0dXJuCgkJCX0KCgkJCWNvbnN0IHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmJhc2ljRGF0YSkpCgkJCWlmICh0aGlzLmJhc2ljRGF0YS5vYnRhaW5DZXJ0VHlwZSA9PT0gMSkgewkvLyDpgq7lr4TpgIHovr4KCQkJCXRkYXRhLm9yZGVyU3RhdHVzID0gMzAyCQkJCQkvLyAzMDIsICLlvoXpgq7lr4QiCgkJCX0gZWxzZSB7CQkJCQkJCQkJLy8g57q/5LiK6aKG6K+BCgkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDMwMwkJCQkJLy8gMzAzLCAi5b6F6aKE57qmIgoJCQl9CgkJCWNvbnN0IG9EYXRhID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8geyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSA6IHRkYXRhCgkJCWNvbnN0IGFwaVVybCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IGBvcmcvc2VuZC1ub3RhcnktcGFwZXI/b3JkZXJJZD0ke3RoaXMub3JkZXJJZH0mb3JkZXJTdGF0dXM9JHt0aGlzLmJhc2ljRGF0YS5vcmRlclN0YXR1c31gIDogYG9yZy91cGRhdGUtb3JkZXItaW5mb2AKCQkJY29uc3QgbWV0aCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICdHRVQnIDogJ1BPU1QnCgkJCWlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicpIHsKCQkJCXRoaXMuJGF4aW9zKGFwaVVybCwgb0RhdGEsIHsgbWV0aG9kOiBtZXRoIH0pLnRoZW4ocmVzID0+IHsKCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJdGhpcy4kcm91dGVyLmdvKDApCgkJCQkJfSBlbHNlIHsKCQkJCQkJdGhpcy4kYWxlcnQoJzxzcGFuIHN0eWxlPSJkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7Ij4nICsgJzxpIGNsYXNzPSJlbC1pY29uLXdhcm5pbmciIHN0eWxlPSJjb2xvcjojRTZBMjNDO2ZvbnQtc2l6ZTozMHB4O2xpbmUtaGVpZ2h0OjUwcHgiPjwvaT4nICsgJzxzcGFuIHN0eWxlPSJsaW5lLWhlaWdodDo1MHB4Ij4nICsgcmVzLm1zZyArICc8L3NwYW4+JyArICc8L3NwYW4+JywgJycsIHsKCQkJCQkJCWRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0pCgkJCX0gZWxzZSB7CgkJCQl0aGlzLiRjb25maXJtKCflhazor4Hkuablt7LliLbkvZzlrozmiJDvvJ/noa7lrprlkI7pnIDlj5Hor4HjgIInLCAn5o+Q56S6JywgewoJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCX0pCgkJCQkJLnRoZW4oKCkgPT4gewoJCQkJCQl0aGlzLiRheGlvcyhhcGlVcmwsIG9EYXRhLCB7IG1ldGhvZDogbWV0aCB9KS50aGVuKHJlcyA9PiB7CgkJCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJCQlzYXZlRGVmZW5zZVBhcmtpbmdIb2xkZXJJbmZvKHRoaXMub3JkZXJJZCkudGhlbihyZXMgPT4gewoJCQkJCQkJCQljb25zb2xlLmxvZygi5Ye65YW36K+B5LmmLS0iLCByZXMpOwoJCQkJCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkJCQl9CgkJCQkJCQkJfSkKCQkJCQkJCX0gLy8gZWxzZSB7CgkJCQkJCQkvLyB0aGlzLiRhbGVydCgnPGkgY2xhc3M9ImVsLWljb24td2FybmluZyIgc3R5bGU9ImNvbG9yOiNFNkEyM0MiPjwvaT4nICsgcmVzLm1zZywgJycsIHsKCQkJCQkJCS8vICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJCQkJLy8gICBjYWxsYmFjazogYWN0aW9uID0+IHsKCQkJCQkJCS8vICAgfQoJCQkJCQkJLy8gfSkKCQkJCQkJCS8vIHRoaXMuJGFsZXJ0KCc8c3BhbiBzdHlsZT0iZGlzcGxheTogZmxleDthbGlnbi1pdGVtczogY2VudGVyOyI+JyArICc8aSBjbGFzcz0iZWwtaWNvbi13YXJuaW5nIiBzdHlsZT0iY29sb3I6I0U2QTIzQztmb250LXNpemU6MzBweDtsaW5lLWhlaWdodDo1MHB4Ij48L2k+JyArICc8c3BhbiBzdHlsZT0ibGluZS1oZWlnaHQ6NTBweCI+JyArIHJlcy5tc2cgKyAnPC9zcGFuPicgKyAnPC9zcGFuPicsICcnLCB7CgkJCQkJCQkvLyAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZQoJCQkJCQkJLy8gfSkKCQkJCQkJCS8vIH0KCQkJCQkJfSkKCQkJCQkJLy8gbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKChyZXMpID0+IHsKCQkJCQkJLy8gICBpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJLy8gICAgIHRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkvLyAgIH0KCQkJCQkJLy8gfSkKCQkJCQl9KQoJCQkJCS5jYXRjaCgoKSA9PiB7CgkJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQkJdHlwZTogJ2luZm8nLAoJCQkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKCQkJCQkJfSkKCQkJCQl9KQoJCQl9CgkJfSwKCQkvLyDnur/kuIvmlK/ku5jmjInpkq4KCQlvZmZsaW5lUGF5bWVudCgpIHsKCQkJY29uc3QgdGV4dCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICfnoa7orqTorqLljZXotLnnlKjlt7LmlK/ku5jvvJ8nIDogJ+ehruiupOWPmOabtOS4uue6v+S4i+aUr+S7mO+8nycKCQkJdGhpcy4kY29uZmlybSh0ZXh0LCAn5o+Q56S6JywgewoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQl0eXBlOiAnd2FybmluZycKCQkJfSkKCQkJCS50aGVuKCgpID0+IHsKCQkJCQl2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYmFzaWNEYXRhKSkKCQkJCQkvLyB0ZGF0YS5vcmRlclN0YXR1cyA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IDIgOiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlICE9PSA1ID8gMTAyIDogMzAyKQoJCQkJCWlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicpIHsKCQkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSAyCgkJCQkJfSBlbHNlIGlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3JmY3cnKSB7CgkJCQkJCXRkYXRhLm9yZGVyU3RhdHVzID0gMzAxCgkJCQkJfSBlbHNlIGlmICh0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDUpIHsKCQkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSAzMDIKCQkJCQl9IGVsc2UgewoJCQkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDEwMgoJCQkJCX0KCgkJCQkJLy8gaWYgKHRoaXMuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSAhPT0gNSkgewoJCQkJCS8vICAgdGRhdGEub3JkZXJTdGF0dXMgPSAxMDIKCQkJCQkvLyB9IGVsc2UgewoJCQkJCS8vICAgdGRhdGEub3JkZXJTdGF0dXMgPSAzMDIKCQkJCQkvLyB9CgkJCQkJdGRhdGEucGF5bWVudFN0YXR1cyA9IDEKCQkJCQkvLyB0ZGF0YS5vcmRlclJlbWFyayA9IHZhbHVlCgkJCQkJbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKChyZXMpID0+IHsKCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQlpZiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CS8vIOS4gOaJi+aIv+WPkemAgeeUteWtkOWFrOivgeS5pgoJCQkJCQkJCXNlbmROb3RhcnlQYXBlcih7CgkJCQkJCQkJCW9yZGVySWQ6IHRoaXMub3JkZXJJZCwKCQkJCQkJCQkJb3JkZXJTdGF0dXM6IHRoaXMuYmFzaWNEYXRhLm9yZGVyU3RhdHVzLAoJCQkJCQkJCX0pLnRoZW4oKHJldCkgPT4gewoJCQkJCQkJCQlpZiAocmV0LnN1Y2Nlc3MpIHsKCQkJCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkJCQl9CgkJCQkJCQkJfSkKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdGhpcy4kcm91dGVyLmdvKDApCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9KQoJCQkJfSkKCQkJCS5jYXRjaCgoKSA9PiB7CgkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCXR5cGU6ICdpbmZvJywKCQkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKCQkJCQl9KQoJCQkJfSkKCQkJLy8gdGhpcy4kcHJvbXB0KCflpIfms6jvvJonLCAn56Gu5a6a5a6i5oi36L+b6KGM57q/5LiL5pSv5LuY6LS555So77yfJywgewoJCQkvLyAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJLy8gICBpbnB1dFR5cGU6ICd0ZXh0YXJlYScsCgkJCS8vICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCS8vICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlCgkJCS8vIH0pLnRoZW4oKHsgdmFsdWUgfSkgPT4gewoJCQkvLyAgIHZhciB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQoJCQkvLyAgIGlmICh0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgIT09IDUpIHsKCQkJLy8gICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMTAyCgkJCS8vICAgfSBlbHNlIHsKCQkJLy8gICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMzAyCgkJCS8vICAgfQoJCQkvLyAgIHRkYXRhLnBheW1lbnRTdGF0dXMgPSAxCgkJCS8vICAgdGRhdGEub3JkZXJSZW1hcmsgPSB2YWx1ZQoJCQkvLyAgIG1vZGlmaWNhdGlvbk9yZGVySW5mbyh0ZGF0YSkudGhlbigocmVzKSA9PiB7CgkJCS8vICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJLy8gICAgICAgdGhpcy4kcm91dGVyLmdvKDApCgkJCS8vICAgICB9CgkJCS8vICAgfSkKCQkJLy8gfSkuY2F0Y2goKCkgPT4gewoJCQkvLyAgIHRoaXMuJG1lc3NhZ2UoewoJCQkvLyAgICAgdHlwZTogJ2luZm8nLAoJCQkvLyAgICAgbWVzc2FnZTogJ+WPlua2iOi+k+WFpScKCQkJLy8gICB9KQoJCQkvLyB9KQoJCX0sCgkJLy8g5ZG85Y+r5b+r6YCS5o+95pS2CgkJY2FsbENvdXJpZXIoKSB7CgkJCXZhciBzdHIgPSAiJyIgKyB0aGlzLmJhc2ljRGF0YS5vcmRlck51bSArICInIgoJCQkvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CgkJCS8vICAgbmFtZTogJ21haWxMaXN0JywKCQkJLy8gICBxdWVyeTogeyBvcmRlck51bTogc3RyLCB1c2VyVHlwZTogMSB9CgkJCS8vIH0pCgkJCXRoaXMuJHJvdXRlci5wdXNoKHsKCQkJCW5hbWU6ICJleHByZXNzRGVsaXZlcnkiLAoJCQkJcXVlcnk6IHsKCQkJCQlmcm9tOiAiZW50cnlEZXRhaWxzT3JkZXIiLAoJCQkJCWlkczogW3RoaXMuZXhwcmVzc0lkXSwKCQkJCQlmcm9tT3JkZXJJZDogdGhpcy4kcm91dGUucXVlcnkub3JkZXJJZAoJCQkJfQoJCQl9KQoJCX0sCgkJLy8g6K6+572u6aKG6K+B5L+h5oGvCgkJc2V0TGljZW5zZUluZm8oKSB7CgkJCWdldEFsbEFkZHJlc3MoKS50aGVuKChyZXMpID0+IHsKCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCXRoaXMub3B0aW9ucyA9IHJlcy5kYXRhCgkJCQkJdGhpcy5hcHBvaW50bWVudERpYWxvZ1Zpc2libGUgPSB0cnVlCgkJCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJCQl0aGlzLiRyZWZzWydzZXRGb3JtJ10ucmVzZXRGaWVsZHMoKQoJCQkJCX0pCgkJCQl9CgkJCX0pCgkJfSwKCQlzdWJtaXRTZXREYXRhKCkgewoJCQl0aGlzLiRyZWZzWydzZXRGb3JtJ10udmFsaWRhdGUoKHZhbGlkLCBvYmopID0+IHsKCQkJCWlmICh2YWxpZCkgewoJCQkJCWdldFJlY2VpdmVySW5mbyh7IG9yZGVyTnVtOiB0aGlzLmJhc2ljRGF0YS5vcmRlck51bSB9KS50aGVuKGFzeW5jIChyZXMpID0+IHsKCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQl2YXIgZGF0YSA9IHJlcy5kYXRhCgkJCQkJCQlsZXQgb2JqID0ge30KCQkJCQkJCW9iaiA9IHRoaXMub3B0aW9ucy5maW5kKChpdGVtKSA9PiB7CgkJCQkJCQkJLy8g6L+Z6YeM55qEdXNlckxpc3TlsLHmmK/kuIrpnaLpgY3ljobnmoTmlbDmja7mupAKCQkJCQkJCQlyZXR1cm4gaXRlbS5vcmdBZGRyZXNzID09PSB0aGlzLnNldERhdGEuc2l0ZSAvLyDnrZvpgInlh7rljLnphY3mlbDmja4KCQkJCQkJCX0pCgkJCQkJCQlkYXRhLnJlY2VpdmVOdW1iZXIgPSB0aGlzLnNldERhdGEubnVtCgkJCQkJCQlkYXRhLnJlY2VpdmVUaW1lID0gdGhpcy5zZXREYXRhLnRpbWUKCQkJCQkJCWRhdGEucmVjZWl2ZUFkZHJlc3MgPSB0aGlzLnNldERhdGEuc2l0ZQoJCQkJCQkJZGF0YS5yZWNlaXZlUG9pbnROYW1lID0gb2JqLm9mZmljZU5hbWUKCQkJCQkJCWRhdGEucmVjZWl2ZVN0YXR1cyA9IDEgICAgLy8gMCwgIuacqumihOe6piIgMSwgIuW3sumihOe6piIKCQkJCQkJCWRhdGEub3JkZXJOdW0gPSB0aGlzLmJhc2ljRGF0YS5vcmRlck51bQoKCQkJCQkJCWlmICh0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDExKSB7CS8vIOS6uumYsui9puS9jeeUqOaWsOeJqea1geeahOiuvue9rumihuivgQoJCQkJCQkJCWxldCByZXMgPSBhd2FpdCBhcHBvaW50bWVudFRpbWUoZGF0YSkKCQkJCQkJCQljb25zb2xlLmxvZygi6aKE57qmLS0tLS0iLCByZXMpOwoJCQkJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQkJCQl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIumihOe6puaIkOWKnyIpCgkJCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQkJCQlyZXR1cm4KCQkJCQkJCQl9CgoJCQkJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyB8fCAi6aKE57qm5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIikKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJbW9kaWZpY2F0aW9uUmVjZWl2ZUluZm8oZGF0YSkudGhlbigocmVzKSA9PiB7CgkJCQkJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQkJCQkJc2VuZFRleHRNZXNzYWdlKHsgb3JkZXJJZDogdGhpcy5vcmRlcklkIH0pLnRoZW4oKHJlcykgPT4gewoJCQkJCQkJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQkJCQkJCQljb25zdCB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQoJCQkJCQkJCQkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDMwNQoJCQkJCQkJCQkJCQltb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQkJCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQkJCQkJCQkJdGhpcy4kcm91dGVyLmdvKDApCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9KQoJCQkJfQoKCQkJfSkKCQl9LAoJCS8vIOefreS/oeaPkAoJCWFzeW5jIFNNU1JlbWluZGVyKCkgewoJCQl0aGlzLiRjb25maXJtKCflj5HpgIHnn63kv6Hmj5DphpLnlKjmiLfpooblj5blhazor4HkuaYnLCAn5o+Q56S6JywgewoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQl0eXBlOiAnaW5mbycKCQkJfSkudGhlbigoKSA9PiB7CgkJCQlpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewoJCQkJCWdldFJlY2VpdmVySW5mbyh7IG9yZGVyTnVtOiB0aGlzLmJhc2ljRGF0YS5vcmRlck51bSB9KS50aGVuKGFzeW5jIChyZXMpID0+IHsKCQkJCQkJY29uc29sZS5sb2cocmVzKTsKCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQlsZXQgcmV0ID0gYXdhaXQgYXBwb2ludG1lbnRUaW1lKHJlcy5kYXRhKQoJCQkJCQkJaWYgKHJldC5zdWNjZXNzKSB7CgkJCQkJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlj5HpgIHnn63kv6Hmj5DphpLmiJDlip8iKQoJCQkJCQkJCXJldHVybgoJCQkJCQkJfQoKCQkJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWPkemAgeefreS/oeaPkOmGkuWksei0pe+8jOivt+eojeWQjuWGjeivlSIpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSBlbHNlIHsKCQkJCQlzZW5kVGV4dE1lc3NhZ2UoeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbigocmVzKSA9PiB7CgkJCQkJCXJlcy5zdWNjZXNzICYmIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Y+R6YCB55+t5L+h5o+Q6YaS5oiQ5YqfIikKCQkJCQl9KQoJCQkJfQoJCQl9KS5jYXRjaCgoKSA9PiB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOWPkemAgScKCQkJCX0pCgkJCX0pCgkJfSwKCQkvLyDlrozmiJDlip7nkIYKCQljb21wbGV0ZWRUaGUoKSB7CgkJCWNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50CgkJCXRoaXMuJG1zZ2JveCh7CgkJCQl0aXRsZTogJ+aPkOekuicsCgkJCQlzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQl0eXBlOiAnd2FybmluZycsCgkJCQltZXNzYWdlOiBoKCdwJywgbnVsbCwgWwoJCQkJCWgoJ3AnLCBudWxsLCAn54K55Ye75ZCO77yM5Yqe55CG6K6i5Y2V5bCG57uT5p2f44CCJyksCgkJCQkJaCgnc3BhbicsIHsgc3R5bGU6ICdjb2xvcjogI0U2QTIzQycgfSwgJ+ehruWumuWQju+8jOaXoOazleaSpOWbnu+8gScpCgkJCQldKQoJCQl9KQoJCQkJLnRoZW4oKCkgPT4gewoJCQkJCWNvbnN0IHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmJhc2ljRGF0YSkpCgkJCQkJdGRhdGEub3JkZXJTdGF0dXMgPSAzMDYKCQkJCQltb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQlpZiAocmVzLnN1Y2Nlc3MpIHsKCQkJCQkJCXRoaXMuJHJvdXRlci5nbygwKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0pCgkJCQkuY2F0Y2goKCkgPT4gewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJCW1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwnCgkJCQkJfSkKCQkJCX0pCgkJfSwKCQllbnRlclZpZGVvKCkgewoJCQl0aGlzLiRheGlvcyhgb3JnL3NpZ24tcmVnaW9uLWV4aXN0P29yZGVySWQ9JHt0aGlzLm9yZGVySWR9YCkudGhlbihyZXMgPT4gewoJCQkJaWYgKCFyZXMuZGF0YSkgewoJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acieaWh+S7tuWwmuacquiuvue9ruetvue9suWMuuWfnycpCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2RlbGVnYXRlVmlkZW8nLCBxdWVyeTogeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSB9KQoJCQkJfQoJCQl9KQoJCX0sCgkJYXN5bmMgY29uZmlybVZpZGVvQ29tcGxldGlvbigpIHsKCQkJY29uc3Qgc3RhID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gYXdhaXQgdGhpcy5kZXRlcm1pbmVJZlRoZVZpZGVvSXNDb21wbGV0ZWQoKSA6IHRydWUKCQkJLy8gaWYgKHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJykgewoJCQkvLyAgIGlmIChhd2FpdCB0aGlzLmRldGVybWluZUlmVGhlVmlkZW9Jc0NvbXBsZXRlZCgpKSB7CgkJCS8vICAgICByZXR1cm4gZmFsc2UKCQkJLy8gICB9CgkJCS8vIH0KCQkJaWYgKCFzdGEpIHsKCQkJCXJldHVybiBmYWxzZQoJCQl9CgkJCWNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50CgkJCWNvbnN0IHRpcCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICfnoa7lrprop4bpopHlt7LlrozmiJDvvJ8nIDogJ+ehruWumuinhumikeW3suWujOaIkO+8n+ehruWumuWQjuS4jeWPr+WGjei/m+ihjOinhumikScKCQkJdGhpcy4kbXNnYm94KHsKCQkJCXRpdGxlOiAn5o+Q56S6JywKCQkJCXNob3dDYW5jZWxCdXR0b246IHRydWUsCgkJCQljb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCgkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCXR5cGU6ICd3YXJuaW5nJywKCQkJCW1lc3NhZ2U6IGgoJ3AnLCBudWxsLCBbCgkJCQkJaCgncCcsIG51bGwsIHRpcCkKCQkJCV0pCgkJCX0pCgkJCQkudGhlbigoKSA9PiB7CgkJCQkJY29uc3QgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYmFzaWNEYXRhKSkKCQkJCQl0ZGF0YS5vcmRlclN0YXR1cyA9IDEwMQoJCQkJCWNvbnN0IGFwaVVybCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IGBvcmcvY29uZmlybS1WaWRlby1Db21wbGV0ZS8ke3RoaXMub3JkZXJJZH1gIDogYG9yZy9jb25maXJtLWlzLXZpZGVvP29yZGVySWQ9JHt0aGlzLmJhc2ljRGF0YS5pZH1gCgkJCQkJY29uc3QgbWV0aCA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICdHRVQnIDogJ1BVVCcKCQkJCQl0aGlzLiRheGlvcyhhcGlVcmwsIHt9LCB7IG1ldGhvZDogbWV0aCB9KS50aGVuKChyZXMpID0+IHsKCQkJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJCQkvLyBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHZhbCkgPT4gewoJCQkJCQkJLy8gaWYgKHZhbC5zdWNjZXNzKSB7CgkJCQkJCQl0aGlzLiRyb3V0ZXIuZ28oMCkKCQkJCQkJCS8vIH0KCQkJCQkJCS8vIH0pCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSkKCQkJCS5jYXRjaCgoKSA9PiB7CgkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCXR5cGU6ICdpbmZvJywKCQkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKCQkJCQl9KQoJCQkJfSkKCQl9LAoJCWFzeW5jIGRldGVybWluZUlmVGhlVmlkZW9Jc0NvbXBsZXRlZCgpIHsKCQkJY29uc3QgaXNWaWRlbyA9IGF3YWl0IHRoaXMuJGF4aW9zKGBvcmcvY2hlY2stVmlkZW8tQ29tcGxldGUvJHt0aGlzLm9yZGVySWR9YCkKCgkJCWNvbnNvbGUubG9nKGlzVmlkZW8pCgkJCXJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgkJCQlpZiAoaXNWaWRlby5zdWNjZXNzKSB7CgkJCQkJcmVzb2x2ZSh0cnVlKQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLiRhbGVydChpc1ZpZGVvLm1zZywgJ+aPkOekuicsIHsKCQkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJCQljYWxsYmFjazogYWN0aW9uID0+IHsKCQkJCQkJCXJlc29sdmUoZmFsc2UpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfQoJCQl9KQoJCX0sCgkJYXN5bmMgZ2V0UVJDb2RlKHR5cGUpIHsKCQkJdGhpcy5wZXJzb25uZWxRUkNvZGVMaXN0ID0gZmFsc2UKCQkJY29uc3QgZGF0YSA9IHsKCQkJCW9yZGVySWQ6IHRoaXMub3JkZXJJZCwKCQkJCXVzZXJUeXBlOiB0eXBlID09PSAxID8gMiA6IDAsCgkJCQlxckNvZGVOYW1lOiB0eXBlID09PSAxID8gJ+WFrOivgeWRmOinhumikeS6jOe7tOeggScgOiAn55So5oi3562+572yL+inhumikeS6jOe7tOeggScKCQkJfQoJCQlsZXQgcXJjb2RlU3VjID0gdHlwZSAhPT0gMQoJCQlpZiAodHlwZSA9PT0gMSkgewoJCQkJcXJjb2RlU3VjID0gYXdhaXQgdGhpcy5zZW5kTWVzc2FnZXMoKQoJCQl9CgkJCWlmIChxcmNvZGVTdWMpIHsKCQkJCXRoaXMuJGF4aW9zKGBvcmcvUVJDb2RlYCwgZGF0YSkudGhlbihyZXMgPT4gewoJCQkJCWlmIChyZXMuc3VjY2VzcykgewoJCQkJCQl0aGlzLnBlcnNvbm5lbFFSQ29kZUxpc3QgPSBmYWxzZQoJCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoJ2FwcC9DSEFOR0VfSU1BR0UnLCBbJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcmVzLmRhdGFdKQoJCQkJCQlpZiAodHlwZSAhPT0gMSkgewoJCQkJCQkJdGhpcy5zZW5kU21zID0gdHJ1ZQoJCQkJCQkJdGhpcy4kc3RvcmUuY29tbWl0KCdhcHAvTUFTS19DSEFOR0UnLCBudWxsKQoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5LqM57u056CB5aSx6LSlJykKCQkJCQl9CgkJCQl9KQoJCQl9CgkJfSwKCQlzZW5kU21zTGluaygpIHsKCQkJZ2V0UHJvcG9zZUluZm8oeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbihyZXMgPT4gewoJCQkJaWYgKHJlcy5zdWNjZXNzKSB7CgkJCQkJY29uc3QgYXJyYXkgPSByZXMuZGF0YQoJCQkJCWNvbnN0IHBob25lTGlzdCA9IFtdCgkJCQkJZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykgewoJCQkJCQlpZiAoYXJyYXlbaW5kZXhdLnJvbGVDb2RlID09ICdtc3InKSB7CgkJCQkJCQlpZiAoYXJyYXlbaW5kZXhdLm9yZ2FuaXphdGlvblR5cGUgPT09IDEpIHsKCQkJCQkJCQlwaG9uZUxpc3QucHVzaChhcnJheVtpbmRleF0ub3JnYW5pemF0aW9uUGhvbmUpCgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXBob25lTGlzdC5wdXNoKGFycmF5W2luZGV4XS5tb2JpbGUpCgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJfQoJCQkJCWNvbnN0IHRpcCA9ICflsIblr7nmiYvmnLrlj7cnICsgcGhvbmVMaXN0LmpvaW4oJ+OAgScpICsgJ+WPkemAgeWQq+acieWwj+eoi+W6j+i3s+i9rOmTvuaOpeeahOefreS/oe+8jOivt+mAmuefpeW9k+S6i+S6uu+8jOW5tue6puWumuWPjOaWuei/m+ihjOinhumikemAmuivneeahOaXtumXtOOAgicKCQkJCQl0aGlzLiRjb25maXJtKHRpcCwgJ+aPkOekuicsIHsKCQkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJwoJCQkJCX0pLnRoZW4oKCkgPT4gewoJCQkJCQlzZW5kU21zVG9UaGVQYXJ0aWVzKHsgb3JkZXJJZDogdGhpcy5vcmRlcklkIH0pLnRoZW4odmFsID0+IHsKCQkJCQkJCWlmICh2YWwuc3VjY2VzcykgewoJCQkJCQkJCXRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICfnn63kv6Hlj5HpgIHmiJDlip8nIH0pCgkJCQkJCQkJLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdhcHAvQ0hBTkdFX0lNQUdFJywgW10pCgkJCQkJCQkJLy8gdGhpcy5zZW5kU21zID0gZmFsc2UKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcign55+t5L+h5Y+R6YCB5aSx6LSlJykKCQkJCQkJCX0KCQkJCQkJfSkKCQkJCQl9KS5jYXRjaCgoKSA9PiB7CgkJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQkJdHlwZTogJ2luZm8nLAoJCQkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOWPkemAgScKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5borqLljZXlvZPkuovkurrkv6Hmga/lpLHotKUnKQoJCQkJfQoJCQl9KQoJCX0sCgkJYXN5bmMgc2VuZE1lc3NhZ2VzKCkgewoJCQljb25zdCB0aGF0ID0gdGhpcwoJCQljb25zdCBwaG9uZSA9IGF3YWl0IHRoYXQuJGF4aW9zKGBvcmcvc2VsZWN0LW9yZGVyLW5vdGFyeS11c2VyLW1vYmlsZWAsIHsgb3JkZXJJZDogdGhhdC5vcmRlcklkIH0pCgkJCWNvbnN0IGd6eUlkID0gcGhvbmUuZGF0YSAhPT0gbnVsbCA/IHBob25lLmRhdGEuaWQgOiAnJwoJCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewoJCQkJdGhpcy4kcHJvbXB0KCcnLCAn5aGr5YaZ5YWs6K+B5ZGY5omL5py65Y+3JywgewoJCQkJCWlucHV0UGxhY2Vob2xkZXI6ICfor7fovpPlhaXloavlhpnlhazor4HlkZjmiYvmnLrlj7cnLAoJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCQlpbnB1dEVycm9yTWVzc2FnZTogJ+i+k+WFpeS4jeiDveS4uuepuicsCgkJCQkJaW5wdXRWYWx1ZTogcGhvbmUuZGF0YSAhPT0gbnVsbCA/IHBob25lLmRhdGEubm90YXJ5VXNlck1vYmlsZSA6ICcnLAoJCQkJCWNsb3NlT25DbGlja01vZGFsOiBmYWxzZSwKCQkJCQlpbnB1dFZhbGlkYXRvcjogKHZhbHVlKSA9PiB7IC8vIOeCueWHu+aMiemSruaXtu+8jOWvueaWh+acrOahhumHjOmdoueahOWAvOi/m+ihjOmqjOivgQoJCQkJCQlpZiAoIXZhbHVlKSB7CgkJCQkJCQlyZXR1cm4gJ+i+k+WFpeS4jeiDveS4uuepuicKCQkJCQkJfSBlbHNlIGlmICghL14xWzN8NHw1fDZ8N3w4fDldWzAtOV1cZHs4fSQvLnRlc3QodmFsdWUpKSB7CgkJCQkJCQlyZXR1cm4gJ+i+k+WFpeato+ehrueahOaJi+acuuWPtycKCQkJCQkJfQoJCQkJCX0sCgkJCQkJY2FsbGJhY2s6IGFzeW5jIGZ1bmN0aW9uIChhY3Rpb24sIGluc3RhbmNlKSB7CgkJCQkJCWlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewoJCQkJCQkJY29uc3Qgc3VjID0gYXdhaXQgdGhhdC4kYXhpb3MoYG9yZy9vcmRlci1ub3RhcnktdXNlci1tb2JpbGVgLCB7IG9yZGVySWQ6IHRoYXQub3JkZXJJZCwgbm90YXJ5VXNlck1vYmlsZTogaW5zdGFuY2UuaW5wdXRWYWx1ZSwgaWQ6IGd6eUlkIH0sIHsgbWV0aG9kOiAncG9zdCcgfSkKCQkJCQkJCXJlc29sdmUoc3VjLnN1Y2Nlc3MpCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlyZXNvbHZlKGZhbHNlKQoJCQkJCQl9CgkJCQkJfQoJCQkJfSkKCQkJfSkKCQl9LAoJCS8vIOaQnOe0ouadkOaWmQoJCXNlYXJjaE1hdGVyaWFsTmFtZSgpIHsKCQkJdmFyIGRhdGEgPSB7IG9yZGVySWQ6IHRoaXMub3JkZXJJZCwgbWF0ZXJpYWxOYW1lOiB0aGlzLnNlYXJjaE1hdGVyaWFsIH0KCQkJZ2V0TWF0ZXJpYWxEZXBvdChkYXRhKS50aGVuKChyZXMpID0+IHsKCQkJCXRoaXMubWF0ZXJpYWxEYXRhID0gcmVzLmRhdGEKCQkJfSkKCQl9LAoJCWhhbmRsZVRhYkNsaWNrKCkgewoJCQlzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd0YWJBY3RpdmVOYW1lJywgdGhpcy50YWJBY3RpdmVOYW1lKQoJCX0sCgkJZ29CYWNrKCkgewoJCQkvLyB0aGlzLiRyb3V0ZXIuZ28oLTEpCgkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2J1c2luZXNzTGlzdCcgfSkKCQl9LAoJCWdldFByb2R1Y3RUeXBlKHZhbCkgewoJCQljb25zdCB0YWJOYW1lTGlzdCA9IHsKCQkJCSJyZmN3IjogIuS6i+mhueS/oeaBryIsCgkJCQkieXNmIjogIuaIv+S6p+S/oeaBryIsCgkJCX0KCQkJaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYk5hbWVMaXN0LCB2YWwpKSB7CgkJCQlyZXR1cm4gdGFiTmFtZUxpc3RbdmFsXQoJCQl9CgkJCXJldHVybiAi5YW25LuWIgoJCX0sCgl9Cn0K"},null]}