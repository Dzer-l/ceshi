{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/issuance/mail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/issuance/mail.vue","mtime":1634724784709},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlZ2lvbkRhdGEgfSBmcm9tICdlbGVtZW50LWNoaW5hLWFyZWEtZGF0YScKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICAvLyDlv4XloavkuIDkuKrvvIjlr4Tku7bvvIkKICAgIGNvbnN0IFJlcXVpcmVkT25lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICB2YXIgZml4ZWRMaW5lID0gdGhpcy5lZGl0U2VuZEluZm8uY29udGFjdE51bWJlcgogICAgICB2YXIgY29udGFjdE51bWJlciA9IHRoaXMuZWRpdFNlbmRJbmZvLmZpeGVkTGluZQogICAgICBpZiAoZml4ZWRMaW5lID09ICcnICYmIGNvbnRhY3ROdW1iZXIgPT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+aJi+acuuWPt+eggeOAgeWbuuivneWPt+eggeivt+iHs+WwkeWhq+WGmeS4gOmhuScpKQogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfQogICAgLy8g5b+F5aGr5LiA5Liq77yI5pS25Lu277yJCiAgICBjb25zdCBSZXF1aXJlZE9uZTIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIHZhciByZWNlaXZlTW9iaWxlID0gdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZU1vYmlsZQogICAgICB2YXIgcmVjZWl2ZUZpeGVkTGluZSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVGaXhlZExpbmUKICAgICAgaWYgKHJlY2VpdmVNb2JpbGUgPT0gJycgJiYgcmVjZWl2ZUZpeGVkTGluZSA9PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JykpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9CiAgICAvLyDmiYvmnLrlj7fpqozor4EKICAgIGNvbnN0IHZhbGlkYXRlUGhvbmUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmICgodmFsdWUubGVuZ3RoID4gMCAmJiB2YWx1ZS5sZW5ndGggPCA3KSB8fCB2YWx1ZS5sZW5ndGggPiAxNSkgewogICAgICAgIGNhbGxiYWNrKCfor7floavlhpk3LTE15L2N5pWw5a2XJykKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH0KICAgIC8vIOWbuuWumuWPt+eggemqjOivgQogICAgY29uc3QgdmFsaWRhdGVGaXhlTGluZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09IG51bGwpIHsKICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDAgJiYgIS9eKFxkezIsNH0tKVxkezcsMTR9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjaygn6K+35aGr5YaZ5q2j56Gu55qE5Zu65a6a55S16K+dJykKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH0KICAgIHJldHVybiB7CiAgICAgIHBheU1ldGhvZDogJ+aUtuaWueS7mCcsCiAgICAgIHBheU1ldGhvZE9wdGlvbnM6IFt7CiAgICAgICAgIHZhbHVlOiAnMicsCiAgICAgICAgIGxhYmVsOiAn5pS25pa55LuYJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICB2YWx1ZTogJzEnLAogICAgICAgICBsYWJlbDogJ+WvhOS7mOaciOe7kycKICAgICAgICB9LCB7CiAgICAgICAgIHZhbHVlOiAnNCcsCiAgICAgICAgIGxhYmVsOiAn5a+E5LuY546w57uTJwogICAgICAgIH1dLAogICAgICBleHByZXNzVHlwZTogMSwKICAgICAgcmVtYXJrOiAnJywKICAgICAgaW5wdXQ6IGZhbHNlLAogICAgICB1c2VyVHlwZTogMiwKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwKICAgICAgYTogJ1oyMDA4MTcwMDIzMicsCiAgICAgIGI6ICcxMTExJywKICAgICAgb3JkZXJOdW06ICcnLAogICAgICBzZW5kSW5mbzogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG9yZ0lkOiBudWxsLAogICAgICAgIHN5c1VzZXJJZDogbnVsbCwKICAgICAgICBzZW5kZXJOYW1lOiBudWxsLAogICAgICAgIGNvbnRhY3ROdW1iZXI6IG51bGwsCiAgICAgICAgZml4ZWRMaW5lOiBudWxsLAogICAgICAgIHJlZ2lvbkNvZGU6IG51bGwsCiAgICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgICBkZXRhaWxBZGRyZXNzOiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgc2lnblR5cGU6IG51bGwKICAgICAgfSwKICAgICAgZWRpdFNlbmRJbmZvOiB7CiAgICAgICAgc2VuZGVyTmFtZTogbnVsbCwKICAgICAgICBjb250YWN0TnVtYmVyOiBudWxsLAogICAgICAgIGZpeGVkTGluZTogbnVsbCwKICAgICAgICByZWdpb25Db2RlOiBudWxsLAogICAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgICAgZGV0YWlsQWRkcmVzczogbnVsbAogICAgICB9LAogICAgICBvcHRpb25zOiByZWdpb25EYXRhLCAvLyDln47luILpgInmi6nnoIEKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRSZWNlaXZlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRTZW5kZXJJbmZvRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdFRpbWU6IDEsCiAgICAgIHNlbGVjdFRpbWUyOiBudWxsLAogICAgICB0aW1lU2VsZWN0TGlzdDogWwogICAgICAgIHsgdGl0OiAn5LuK5aSpJywgdHlwZTogMSB9LAogICAgICAgIHsgdGl0OiAn5piO5aSpJywgdHlwZTogMiB9LAogICAgICAgIHsgdGl0OiAn5ZCO5aSpJywgdHlwZTogMyB9CiAgICAgIF0sCiAgICAgIGRhdGVUaW1lTGlzdDogW10sCiAgICAgIHJlc2VydmVEYXRlVGltZTogbnVsbCwKICAgICAgcmVzZXJ2ZURhdGU6IFtdLAogICAgICBzZW5kU3RhcnRUaW1lOiBudWxsLAogICAgICBlZGl0UmVjZWl2ZUluZm86IHsKICAgICAgICBwcm9kTmFtZTogJycsCiAgICAgICAgb3JkZXJOdW06ICcnLAogICAgICAgIGRvc3NpZXJOdW06ICcnLAogICAgICAgIHJlY2VpdmVOYW1lOiAnJywKICAgICAgICByZWNlaXZlTW9iaWxlOiAnJywKICAgICAgICByZWNlaXZlRml4ZWRMaW5lOiAnJywKICAgICAgICByZWNlaXZlQWRkcmVzczogJycsCiAgICAgICAgcmVjZWl2ZURldGFpbEFkZHJlc3M6ICcnLAogICAgICAgIHJlY2VpdmVSZWdpb25Db2RlOiBudWxsCiAgICAgIH0sCiAgICAgIGVkaXRSZWNlaXZlUm93OiAwLAogICAgICBwbGFjZU9yZGVyTGlzdDogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgc2VuZGVyTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyDor7floavlhpnlr4Tku7bkuronLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgIHsgbWluOiAyLCBtYXg6IDE1LCBtZXNzYWdlOiAn6K+35aGr5YaZMi0xNeS4quWtlycsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBjb250YWN0TnVtYmVyOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiBmYWxzZSwgdHJpZ2dlcjogJ2JsdXInLCB2YWxpZGF0b3I6IFJlcXVpcmVkT25lLCBtZXNzYWdlOiAnIOaJi+acuuWPt+eggeOAgeWbuuivneWPt+eggeivt+iHs+WwkeWhq+WGmeS4gOmhuScgfSwKICAgICAgICAgIHsgbWluOiA3LCBtYXg6IDE1LCB0cmlnZ2VyOiAnYmx1cicsIHZhbGlkYXRvcjogdmFsaWRhdGVQaG9uZSwgbWVzc2FnZTogJyDor7floavlhpnmraPnoa7nmoTmiYvmnLrlj7cnIH0KICAgICAgICBdLAogICAgICAgIGZpeGVkTGluZTogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiBSZXF1aXJlZE9uZSwgbWVzc2FnZTogJyDmiYvmnLrlj7fnoIHjgIHlm7ror53lj7fnoIHor7foh7PlsJHloavlhpnkuIDpobknIH0sCiAgICAgICAgICB7IG1pbjogMTAsIG1heDogMjAsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiB2YWxpZGF0ZUZpeGVMaW5lLCBtZXNzYWdlOiAnIOivt+Whq+WGmeato+ehrueahOWbuuWumuWPt+eggScgfQogICAgICAgIF0sCiAgICAgICAgcmVnaW9uQ29kZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyAg6K+36YCJ5oup6YCJ6aG5JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgZGV0YWlsQWRkcmVzczogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyAg6K+35aGr5YaZ6K+m57uG5Zyw5Z2AJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogNSwgbWF4OiAxMjAsIG1lc3NhZ2U6ICcg6K+35aGr5YaZNS0xMjDkuKrlrZcnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcmVjZWl2ZU5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICcg6K+35aGr5YaZ5pS25Lu25Lq6JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogMiwgbWF4OiAxNSwgbWVzc2FnZTogJ+ivt+Whq+WGmTItMTXkuKrlrZcnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcmVjZWl2ZU1vYmlsZTogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiBSZXF1aXJlZE9uZTIsIG1lc3NhZ2U6ICcg5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JyB9LAogICAgICAgICAgeyBtaW46IDcsIG1heDogMTUsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiB2YWxpZGF0ZVBob25lLCBtZXNzYWdlOiAnIOivt+Whq+WGmeato+ehrueahOaJi+acuuWPtycgfQogICAgICAgIF0sCiAgICAgICAgcmVjZWl2ZUZpeGVkTGluZTogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiBSZXF1aXJlZE9uZTIsIG1lc3NhZ2U6ICcg5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JyB9LAogICAgICAgICAgeyBtaW46IDEwLCBtYXg6IDIwLCB0cmlnZ2VyOiAnYmx1cicsIHZhbGlkYXRvcjogdmFsaWRhdGVGaXhlTGluZSwgbWVzc2FnZTogJyDor7floavlhpnmraPnoa7nmoTlm7rlrprlj7fnoIEnIH0KICAgICAgICBdLAogICAgICAgIHJlY2VpdmVSZWdpb25Db2RlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnICDor7fpgInmi6npgInpobknLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICByZWNlaXZlRGV0YWlsQWRkcmVzczogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyAg6K+35aGr5YaZ6K+m57uG5Zyw5Z2AJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogNSwgbWF4OiAxMjAsIG1lc3NhZ2U6ICcg6K+35aGr5YaZNS0xMjDkuKrlrZcnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3JkZXJOdW0gPSB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlck51bQogICAgdGhpcy51c2VyVHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXJUeXBlCiAgICB0aGlzLmdldERhdGUoKQogICAgdGhpcy5nZXRFeHByZXNzVHlwZSgpCiAgICB0aGlzLmdldExpc3QoKQogICAgdGhpcy5nZXRTZW5kSW5mbygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCkKICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSB2YWwKICAgIH0sCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlck51bSkKICAgICAgY29uc3QgdXJsID0gJ29yZy9zZWxlY3QtcmVjZWl2ZS1pbmZvP29yZGVyTnVtPScgKyB0aGlzLm9yZGVyTnVtCiAgICAgIHRoaXMuJGF4aW9zKAogICAgICAgIHVybCwKICAgICAgICB7fSwKICAgICAgICB7CiAgICAgICAgICBtZXRob2Q6ICdwb3N0JwogICAgICAgIH0KICAgICAgKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WHuumUmeS6hu+8gScpCiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgZ2V0U2VuZEluZm8oKSB7CiAgICAgIGNvbnN0IHVybCA9ICdvcmcvZ2V0LW9yZy1leHByZXNzLXNlbmRlcj91c2VyVHlwZT0nICsgdGhpcy51c2VyVHlwZQogICAgICB0aGlzLiRheGlvcygKICAgICAgICB1cmwsCiAgICAgICAge30sCiAgICAgICAgewogICAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICAgIH0KICAgICAgKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuc2VuZEluZm8gPSByZXMuZGF0YQogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZW5kSW5mbykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Ye66ZSZ5LqG77yBJykKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBjb25maXJtRWRpdFNlbmRlcihlZGl0U2VuZEluZm8pIHsKICAgICAgdGhpcy4kcmVmc1tlZGl0U2VuZEluZm9dLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5zZW5kSW5mby5zZW5kZXJOYW1lID0gdGhpcy5lZGl0U2VuZEluZm8uc2VuZGVyTmFtZQogICAgICAgICAgdGhpcy5zZW5kSW5mby5jb250YWN0TnVtYmVyID0gdGhpcy5lZGl0U2VuZEluZm8uY29udGFjdE51bWJlcgogICAgICAgICAgdGhpcy5zZW5kSW5mby5maXhlZExpbmUgPSB0aGlzLmVkaXRTZW5kSW5mby5maXhlZExpbmUKICAgICAgICAgIHRoaXMuc2VuZEluZm8ucmVnaW9uQ29kZSA9IHRoaXMuZWRpdFNlbmRJbmZvLnJlZ2lvbkNvZGUKICAgICAgICAgIHRoaXMuc2VuZEluZm8uYWRkcmVzcyA9IHRoaXMuZWRpdFNlbmRJbmZvLmFkZHJlc3MKICAgICAgICAgIHRoaXMuc2VuZEluZm8uZGV0YWlsQWRkcmVzcyA9IHRoaXMuZWRpdFNlbmRJbmZvLmRldGFpbEFkZHJlc3MKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VuZEluZm8uaWQpCiAgICAgICAgICB2YXIgdXJsID0gJycKICAgICAgICAgIGlmICh0aGlzLnNlbmRJbmZvLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgdXJsID0KICAgICAgICAgICAgICAnb3JnL2luc2VydC1vcmctZXhwcmVzcy1zZW5kZXI/dXNlclR5cGU9JyArCiAgICAgICAgICAgICAgdGhpcy51c2VyVHlwZSArCiAgICAgICAgICAgICAgJyZzZW5kZXJOYW1lPScgKwogICAgICAgICAgICAgIHRoaXMuc2VuZEluZm8uc2VuZGVyTmFtZSArCiAgICAgICAgICAgICAgJyZjb250YWN0TnVtYmVyPScgKwogICAgICAgICAgICAgIHRoaXMuc2VuZEluZm8uY29udGFjdE51bWJlciArCiAgICAgICAgICAgICAgJyZmaXhlZExpbmU9JyArCiAgICAgICAgICAgICAgdGhpcy5zZW5kSW5mby5maXhlZExpbmUgKwogICAgICAgICAgICAgICcmYWRkcmVzcz0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLmFkZHJlc3MgKwogICAgICAgICAgICAgICcmZGV0YWlsQWRkcmVzcz0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3MgKwogICAgICAgICAgICAgICcmcmVnaW9uQ29kZT0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLnJlZ2lvbkNvZGUgKwogICAgICAgICAgICAgICcmaWQ9JyArCiAgICAgICAgICAgICAgdGhpcy5zZW5kSW5mby5pZAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXJsID0KICAgICAgICAgICAgICAnb3JnL2luc2VydC1vcmctZXhwcmVzcy1zZW5kZXI/dXNlclR5cGU9JyArCiAgICAgICAgICAgICAgdGhpcy51c2VyVHlwZSArCiAgICAgICAgICAgICAgJyZzZW5kZXJOYW1lPScgKwogICAgICAgICAgICAgIHRoaXMuc2VuZEluZm8uc2VuZGVyTmFtZSArCiAgICAgICAgICAgICAgJyZjb250YWN0TnVtYmVyPScgKwogICAgICAgICAgICAgIHRoaXMuc2VuZEluZm8uY29udGFjdE51bWJlciArCiAgICAgICAgICAgICAgJyZmaXhlZExpbmU9JyArCiAgICAgICAgICAgICAgdGhpcy5zZW5kSW5mby5maXhlZExpbmUgKwogICAgICAgICAgICAgICcmYWRkcmVzcz0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLmFkZHJlc3MgKwogICAgICAgICAgICAgICcmZGV0YWlsQWRkcmVzcz0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3MgKwogICAgICAgICAgICAgICcmcmVnaW9uQ29kZT0nICsKICAgICAgICAgICAgICB0aGlzLnNlbmRJbmZvLnJlZ2lvbkNvZGUKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJGF4aW9zKAogICAgICAgICAgICB1cmwsCiAgICAgICAgICAgIHt9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcKICAgICAgICAgICAgfQogICAgICAgICAgKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S/neWtmOaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy5lZGl0U2VuZGVySW5mb0RpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VuZEluZm8pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Ye66ZSZ5LqG77yBJykKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJykKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBjaXR5Q2hhbmdlKGUpIHsKICAgICAgY29uc29sZS5sb2coZSkKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZSkKICAgICAgbGV0IHN0ciA9ICcnCiAgICAgIGxldCBjaXR5TGlzdCA9IHRoaXMub3B0aW9ucwogICAgICBjb25zdCBhID0gdGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZS5tYXAoZnVuY3Rpb24odmFsLCBpLCBhcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyh2YWwpCiAgICAgICAgZm9yICh2YXIgaXRtIG9mIGNpdHlMaXN0KSB7CiAgICAgICAgICBpZiAoaXRtLnZhbHVlID09IHZhbCkgewogICAgICAgICAgICBjaXR5TGlzdCA9IGl0bS5jaGlsZHJlbgogICAgICAgICAgICByZXR1cm4gaXRtCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgICBmb3IgKGNvbnN0IGkgb2YgYSkgewogICAgICAgIHN0ciArPSBpLmxhYmVsCiAgICAgIH0KICAgICAgdGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZSA9IHRoaXMuZWRpdFNlbmRJbmZvLnJlZ2lvbkNvZGVbCiAgICAgICAgdGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZS5sZW5ndGggLSAxCiAgICAgIF0KICAgICAgdGhpcy5lZGl0U2VuZEluZm8uYWRkcmVzcyA9IHN0cgogICAgfSwKICAgIGNpdHlDaGFuZ2UyKGUpIHsKICAgICAgaWYgKHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlICE9IG51bGwgJiYgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZVJlZ2lvbkNvZGUgIT0gJycpIHsKICAgICAgICB0aGlzLnJlY2VpdmVSZWdpb25Db2RlVGlwcyA9IGZhbHNlCiAgICAgIH0KICAgICAgY29uc29sZS5sb2coZSkKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZVJlZ2lvbkNvZGUpCiAgICAgIGxldCBzdHIgPSAnJwogICAgICBsZXQgY2l0eUxpc3QgPSB0aGlzLm9wdGlvbnMKICAgICAgY29uc3QgYSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlLm1hcChmdW5jdGlvbih2YWwsIGksIGFycikgewogICAgICAgIGNvbnNvbGUubG9nKHZhbCkKICAgICAgICBmb3IgKHZhciBpdG0gb2YgY2l0eUxpc3QpIHsKICAgICAgICAgIGlmIChpdG0udmFsdWUgPT0gdmFsKSB7CiAgICAgICAgICAgIGNpdHlMaXN0ID0gaXRtLmNoaWxkcmVuCiAgICAgICAgICAgIHJldHVybiBpdG0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICAgIGZvciAoY29uc3QgaSBvZiBhKSB7CiAgICAgICAgc3RyICs9IGkubGFiZWwKICAgICAgfQogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlWwogICAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlLmxlbmd0aCAtIDEKICAgICAgXQogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlQWRkcmVzcyA9IHN0cgogICAgfSwKICAgIHJlc2VydmVUaW1lKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZ2V0UmV2ZXJ2ZVRpbWVMaXN0KHRoaXMuc2VsZWN0VGltZSAtIDEpCiAgICB9LAogICAgaGFuZGxlQ2xvc2UoZG9uZSkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlhbPpl63vvJ8nKQogICAgICAgIC50aGVuKF8gPT4gewogICAgICAgICAgZG9uZSgpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goXyA9PiB7fSkKICAgIH0sCiAgICBjaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy5zZWxlY3RUaW1lID0gZQogICAgICB0aGlzLnNlbGVjdFRpbWUyID0gbnVsbAogICAgICB0aGlzLmdldFJldmVydmVUaW1lTGlzdCh0aGlzLnNlbGVjdFRpbWUgLSAxKQogICAgfSwKICAgIGNvbmZpcm1UaW1lKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdFRpbWUyCiAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7CiAgICAgICAgdmFyIHRpbWUgPSB0aGlzLmRhdGVUaW1lTGlzdFtpbmRleF0KICAgICAgICBjb25zdCB1cmwgPSAnZ2V0LXNmLWFwcG9pbnRtZW50LWRhdGUnCiAgICAgICAgdGhpcy5yZXNlcnZlRGF0ZVRpbWUgPSB0aGlzLnJlc2VydmVEYXRlW3RoaXMuc2VsZWN0VGltZSAtIDFdICsgJyAnICsgdGltZQogICAgICAgIGlmICh0aW1lID09ICfkuIDlsI/ml7blhoUnKSB7CiAgICAgICAgICB0aGlzLnNlbmRTdGFydFRpbWUgPSB0aGlzLnJlc2VydmVEYXRlW3RoaXMuc2VsZWN0VGltZSAtIDFdICsgJyAnICsgdGhpcy5kYXRlVGltZUxpc3RbMV0uc3Vic3RyaW5nKDAsIDUpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZFN0YXJ0VGltZSA9IHRoaXMucmVzZXJ2ZURhdGVbdGhpcy5zZWxlY3RUaW1lIC0gMV0gKyAnICcgKyB0aW1lLnN1YnN0cmluZyg2LCAxMSkKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kU3RhcnRUaW1lID0gdGhpcy5zZW5kU3RhcnRUaW1lICsgJzowMCcKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbmRTdGFydFRpbWUpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIGdldFJldmVydmVUaW1lTGlzdChkYXRlVHlwZSkgewogICAgICB2YXIgdGltZUxpc3QgPSBuZXcgQXJyYXkoKQogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCkKICAgICAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpCiAgICAgIGlmICgoZGF0ZVR5cGUgPT0gMCAmJiBob3VyIDw9IDggJiYgbWludXRlIDwgMzApIHx8IGRhdGVUeXBlICE9IDApIHsKICAgICAgICB0aGlzLmdldFRpbWVMaXN0KGhvdXIsIHRpbWVMaXN0LCAwLCBtaW51dGUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRUaW1lTGlzdChob3VyLCB0aW1lTGlzdCwgMSwgbWludXRlKQogICAgICB9CiAgICAgIHRoaXMuZGF0ZVRpbWVMaXN0ID0gdGltZUxpc3QKICAgIH0sCiAgICBnZXRUaW1lTGlzdChob3VyLCB0aW1lTGlzdCwgZmxhZywgbWludXRlKSB7CiAgICAgIHZhciBudW0gPSAwCiAgICAgIGlmIChmbGFnID09IDApIHsKICAgICAgICBudW0gPSA4CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7CiAgICAgICAgICB0aW1lTGlzdC5wdXNoKG51bSArIGkgKyAnOjMwLScgKyAobnVtICsgaSArIDEpICsgJzozMCcpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG51bSA9IDIwIC0gaG91cgogICAgICAgIGlmIChtaW51dGUgPj0gMzApIHsKICAgICAgICAgIGhvdXIgKz0gMQogICAgICAgICAgbnVtID0gbnVtIC0gMQogICAgICAgIH0KICAgICAgICB0aW1lTGlzdC5wdXNoKCfkuIDlsI/ml7blhoUnKQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspIHsKICAgICAgICAgIHRpbWVMaXN0LnB1c2goaG91ciArIGkgKyAnOjMwLScgKyAoaG91ciArIGkgKyAxKSArICc6MzAnKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluS7iuWkqSzmmI7lpKnvvIzlkI7lpKnnmoTml6XmnJ8KICAgIGdldERhdGUoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgLy8g5LiA5pW05aSp5o2i566X5oiQ5q+r56eS5pivODY0MDAwMDDvvJsKICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgaSAqIDg2NDAwMDAwCiAgICAgICAgLy8g5bCG5q+r56eS6L2s5o2i5oiQ5pel5pyf77yIWVlZWS1NTS1ERO+8iQogICAgICAgIHZhciBtb250aCA9IG5ldyBEYXRlKHRpbWUpLmdldE1vbnRoKCkgKyAxCiAgICAgICAgdmFyIGRhdGV0aW1lID0gbmV3IERhdGUodGltZSkuZ2V0RGF0ZSgpCiAgICAgICAgaWYgKG1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09IDEpIHsKICAgICAgICAgIG1vbnRoID0gMCArICcnICsgbW9udGgKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGV0aW1lLnRvU3RyaW5nKCkubGVuZ3RoID09IDEpIHsKICAgICAgICAgIGRhdGV0aW1lID0gMCArICcnICsgZGF0ZXRpbWUKICAgICAgICB9CiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lKS5nZXRGdWxsWWVhcigpICsgJy0nICsgbW9udGggKyAnLScgKyBkYXRldGltZQogICAgICAgIHRoaXMucmVzZXJ2ZURhdGVbaV0gPSBkYXRlCiAgICAgIH0KICAgIH0sCiAgICBlZGl0UmVjZWl2ZShyb3csIGluZGV4KSB7CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVSb3cgPSBpbmRleAogICAgICB0aGlzLmVkaXRSZWNlaXZlRGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucHJvZE5hbWUgPSByb3cucHJvZE5hbWUKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ub3JkZXJOdW0gPSByb3cub3JkZXJOdW0KICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8uZG9zc2llck51bSA9IHJvdy5kb3NzaWVyTnVtCiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVOYW1lID0gcm93LnJlY2VpdmVOYW1lCiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVNb2JpbGUgPSByb3cucmVjZWl2ZU1vYmlsZQogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlRml4ZWRMaW5lID0gcm93LnJlY2VpdmVGaXhlZExpbmUKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZUFkZHJlc3MgPSByb3cucmVjZWl2ZUFkZHJlc3MKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZURldGFpbEFkZHJlc3MgPSByb3cucmVjZWl2ZURldGFpbEFkZHJlc3MKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZVJlZ2lvbkNvZGUgPSByb3cucmVjZWl2ZVJlZ2lvbkNvZGUKICAgIH0sCiAgICBkZWxldGVSZWNlaXZlKGluZGV4KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+eCueWHu+enu+mZpOaTjeS9nOWQju+8jOWwhuS7jumCruWvhOWIl+ihqOS4reenu+mZpOivpeiuouWNleehruiupOenu+mZpOWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+enu+mZpOaIkOWKnyEnCiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGNvbmZpcm1FZGl0UmVjZWl2ZShlZGl0UmVjZWl2ZUluZm8pIHsKICAgICAgdGhpcy4kcmVmc1tlZGl0UmVjZWl2ZUluZm9dLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy4kY29uZmlybSgn54K55Ye756Gu5a6a5pON5L2c5ZCO77yM5bCG5L+u5pS55b2T5YmN5pS25Lu25Lq65L+h5oGv56Gu6K6k5L+d5a2Y5ZCX77yfJywgJ+aPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJwogICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZWRpdFJlY2VpdmVEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgY29uc3QgdXJsID0gJ29yZy91cGRhdGUtb3JkZXItZXhwcmVzcycKICAgICAgICAgICAgdGhpcy4kYXhpb3MoCiAgICAgICAgICAgICAgdXJsLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG9yZGVyTnVtOiB0aGlzLmVkaXRSZWNlaXZlSW5mby5vcmRlck51bSwKICAgICAgICAgICAgICAgIHJlY2VpdmVOYW1lOiB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlTmFtZSwKICAgICAgICAgICAgICAgIHJlY2VpdmVNb2JpbGU6IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVNb2JpbGUsCiAgICAgICAgICAgICAgICByZWNlaXZlRml4ZWRMaW5lOiB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlRml4ZWRMaW5lLAogICAgICAgICAgICAgICAgcmVjZWl2ZUFkZHJlc3M6IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVBZGRyZXNzLAogICAgICAgICAgICAgICAgcmVjZWl2ZURldGFpbEFkZHJlc3M6IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVEZXRhaWxBZGRyZXNzLAogICAgICAgICAgICAgICAgcmVjZWl2ZVJlZ2lvbkNvZGU6IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7IG1ldGhvZDogJ3B1dCcgfQogICAgICAgICAgICApLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5saXN0W3RoaXMuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVOYW1lID0gdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZU5hbWUKICAgICAgICAgICAgICAgIHRoaXMubGlzdFt0aGlzLmVkaXRSZWNlaXZlUm93XS5yZWNlaXZlTW9iaWxlID0gdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZU1vYmlsZQogICAgICAgICAgICAgICAgdGhpcy5saXN0W3RoaXMuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVGaXhlZExpbmUgPSB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlRml4ZWRMaW5lCiAgICAgICAgICAgICAgICB0aGlzLmxpc3RbdGhpcy5lZGl0UmVjZWl2ZVJvd10ucmVjZWl2ZUFkZHJlc3MgPSB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlQWRkcmVzcwogICAgICAgICAgICAgICAgdGhpcy5saXN0W3RoaXMuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVEZXRhaWxBZGRyZXNzID0gdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZURldGFpbEFkZHJlc3MKICAgICAgICAgICAgICAgIHRoaXMubGlzdFt0aGlzLmVkaXRSZWNlaXZlUm93XS5yZWNlaXZlUmVnaW9uQ29kZSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WHuumUmeS6hu+8gScpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5L+u5pS5JwogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJykKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBjb25maXJtUGxhY2VPcmRlcigpIHsKICAgICAgaWYgKHRoaXMuc2VuZEluZm8uc2VuZGVyTmFtZSA9PSBudWxsKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35YWI6YWN572u6YKu5a+E5L+h5oGvJykKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5leHByZXNzVHlwZSkKICAgICAgICBpZiAodGhpcy5leHByZXNzVHlwZSA9PSAxKSB7CiAgICAgICAgICBpZiAodGhpcy5zZW5kU3RhcnRUaW1lID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YWN572u6aKE57qm5LiK6Zeo5pe26Ze0JykKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbmRTdGFydFRpbWUpCiAgICAgICAgICAvLyBmb3IgKHZhciBpIGluIHRoaXMubGlzdCkgewogICAgICAgICAgLy8gICBpZiAodGhpcy5wbGFjZU9yZGVyTGlzdFtpXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldID0ge30KICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmxpc3RbaV0pCiAgICAgICAgICAvLyAgIGlmICh0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIgPT0gbnVsbCB8fCB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIgPT0gJycpIHsKICAgICAgICAgIC8vICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRUZWwgPSB0aGlzLnNlbmRJbmZvLmZpeGVkTGluZQogICAgICAgICAgLy8gICB9IGVsc2UgewogICAgICAgICAgLy8gICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZFRlbCA9IHRoaXMuc2VuZEluZm8uY29udGFjdE51bWJlcgogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyAgIGlmICh0aGlzLmxpc3RbaV0ucmVjZWl2ZU1vYmlsZSA9PSBudWxsIHx8IHRoaXMubGlzdFtpXS5yZWNlaXZlTW9iaWxlID09ICcnKSB7CiAgICAgICAgICAvLyAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlVGVsCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVGaXhlZExpbmUKICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgIC8vICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVUZWwJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZU1vYmlsZQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZENvbnRhY3QgPSB0aGlzLnNlbmRJbmZvLnNlbmRlck5hbWUKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kUHJvdmluY2VzID0gdGhpcy5zZW5kSW5mby5hZGRyZXNzCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZERldGFpbEFkZHJlc3MgPSB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3MKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kQWRkcmVzcyA9IHRoaXMuc2VuZEluZm8uYWRkcmVzcyArIHRoaXMuc2VuZEluZm8uZGV0YWlsQWRkcmVzcwogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRDb2RlID0gdGhpcy5zZW5kSW5mby5yZWdpb25Db2RlCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZFN0YXJ0VGltZQk9IHRoaXMuc2VuZFN0YXJ0VGltZQogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlbWFyawk9IHRoaXMucmVtYXJrCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZUNvbnRhY3QJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZU5hbWUKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlUHJvdmluY2VzCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVBZGRyZXNzCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZURldGFpbEFkZHJlc3MJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZURldGFpbEFkZHJlc3MKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlQWRkcmVzcwk9IHRoaXMubGlzdFtpXS5yZWNlaXZlQWRkcmVzcyArIHRoaXMubGlzdFtpXS5yZWNlaXZlRGV0YWlsQWRkcmVzcwogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLm9yZGVyTnVtCT0gdGhpcy5saXN0W2ldLm9yZGVyTnVtCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZUNvZGUJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZVJlZ2lvbkNvZGUKICAgICAgICAgIC8vIH0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGxhY2VPcmRlckxpc3QpCiAgICAgICAgICAvLyBjb25zdCB1cmwgPSAnb3JnL3BsYWNlLW9yZGVyJwogICAgICAgICAgLy8gdGhpcy4kYXhpb3MoCiAgICAgICAgICAvLyAgIHVybCwKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdCwKICAgICAgICAgIC8vICAgewogICAgICAgICAgLy8gICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vICkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIC8vICAgICB2YXIgb3JkZXJOdW0gPSAnJwogICAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGFjZU9yZGVyTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gICAgICAgb3JkZXJOdW0gPSBvcmRlck51bSArICcsJyArICInIiArIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ub3JkZXJOdW0gKyAiJyIKICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAvLyAgICAgb3JkZXJOdW0gPSBvcmRlck51bS5zdWJzdHJpbmcoMSwgb3JkZXJOdW0ubGVuZ3RoKQogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKG9yZGVyTnVtKQogICAgICAgICAgLy8gICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIC8vICAgICAgIG5hbWU6ICdvcmRlclN1Y2Nlc3MnLAogICAgICAgICAgLy8gICAgICAgcXVlcnk6IHsKICAgICAgICAgIC8vICAgICAgICAgb3JkZXJOdW06IG9yZGVyTnVtCiAgICAgICAgICAvLyAgICAgICB9CiAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIvljZXlpLHotKXvvIzor7fph43or5XvvIEnKQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9KQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5leHByZXNzVHlwZSA9PSAyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpCiAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMubGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5wbGFjZU9yZGVyTGlzdFtpXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldID0ge30KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5zZW5kSW5mby5jb250YWN0TnVtYmVyID09IG51bGwgfHwgdGhpcy5zZW5kSW5mby5jb250YWN0TnVtYmVyID09ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kZXJDb250YWN0TnVtYmVyID0gdGhpcy5zZW5kSW5mby5maXhlZExpbmUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlckNvbnRhY3ROdW1iZXIgPSB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5saXN0W2ldLnJlY2VpdmVNb2JpbGUgPT0gbnVsbCB8fCB0aGlzLmxpc3RbaV0ucmVjZWl2ZU1vYmlsZSA9PSAnJykgewogICAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZU1vYmlsZQk9IHRoaXMubGlzdFtpXS5yZWNlaXZlRml4ZWRMaW5lCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlTW9iaWxlCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVNb2JpbGUKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlck5hbWUgPSB0aGlzLnNlbmRJbmZvLnNlbmRlck5hbWUKCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZGVyQWRkcmVzcyA9IHRoaXMuc2VuZEluZm8uYWRkcmVzcwogICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlckRldGFpbEFkZHJlc3MgPSB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3MKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kZXJSZWdpb25Db2RlID0gdGhpcy5zZW5kSW5mby5yZWdpb25Db2RlCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVtYXJrCT0gdGhpcy5yZW1hcmsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlTmFtZQk9IHRoaXMubGlzdFtpXS5yZWNlaXZlTmFtZQogICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVBZGRyZXNzCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVBZGRyZXNzCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZURldGFpbEFkZHJlc3MJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZURldGFpbEFkZHJlc3MKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5vcmRlck51bQk9IHRoaXMubGlzdFtpXS5vcmRlck51bQogICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVSZWdpb25Db2RlCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVSZWdpb25Db2RlCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucHJvZE5hbWUJPSB0aGlzLmxpc3RbaV0ucHJvZE5hbWUKICAgICAgICAgICAgaWYodGhpcy5wYXlNZXRob2QgPT0gJ+aUtuaWueS7mCcpewogICAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucGF5TWV0aG9kID0gMgogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnBheU1ldGhvZCA9IHRoaXMucGF5TWV0aG9kCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGxhY2VPcmRlckxpc3QpCiAgICAgICAgICBjb25zdCB1cmwgPSAnb3JnL2Vtcy1vcmRlcicKICAgICAgICAgIHRoaXMuJGF4aW9zKAogICAgICAgICAgICB1cmwsCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3QsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9CiAgICAgICAgICApLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgb3JkZXJOdW0gPSAnJwogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGFjZU9yZGVyTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgb3JkZXJOdW0gPSBvcmRlck51bSArICcsJyArICInIiArIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ub3JkZXJOdW0gKyAiJyIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgb3JkZXJOdW0gPSBvcmRlck51bS5zdWJzdHJpbmcoMSwgb3JkZXJOdW0ubGVuZ3RoKQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9yZGVyTnVtKQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdvcmRlclN1Y2Nlc3MnLAogICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgb3JkZXJOdW06IG9yZGVyTnVtCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIvljZXlpLHotKXvvIzor7fph43or5XvvIEnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdvQmFjaygpIHsKICAgICAgd2luZG93Lmhpc3RvcnkuZ28oLTEpCiAgICB9LAogICAgZ2V0RXhwcmVzc1R5cGUoKSB7CiAgICAgIHZhciB1cmwgPSAnb3JnL2dldC1leHByZXNzLXR5cGUnCiAgICAgIHRoaXMuJGF4aW9zKAogICAgICAgIHVybCwge30sIHt9CiAgICAgICkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmV4cHJlc3NUeXBlID0gcmVzLmRhdGEKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Ye66ZSZ5LqG77yBJykKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBlZGl0U2VuZGVySW5mbygpIHsKICAgICAgdGhpcy5lZGl0U2VuZGVySW5mb0RpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZWRpdFNlbmRJbmZvLnNlbmRlck5hbWUgPSB0aGlzLnNlbmRJbmZvLnNlbmRlck5hbWUKICAgICAgdGhpcy5lZGl0U2VuZEluZm8uY29udGFjdE51bWJlciA9IHRoaXMuc2VuZEluZm8uY29udGFjdE51bWJlcgogICAgICB0aGlzLmVkaXRTZW5kSW5mby5maXhlZExpbmUgPSB0aGlzLnNlbmRJbmZvLmZpeGVkTGluZQogICAgICB0aGlzLmVkaXRTZW5kSW5mby5yZWdpb25Db2RlID0gdGhpcy5zZW5kSW5mby5yZWdpb25Db2RlCiAgICAgIHRoaXMuZWRpdFNlbmRJbmZvLmFkZHJlc3MgPSB0aGlzLnNlbmRJbmZvLmFkZHJlc3MKICAgICAgdGhpcy5lZGl0U2VuZEluZm8uZGV0YWlsQWRkcmVzcyA9IHRoaXMuc2VuZEluZm8uZGV0YWlsQWRkcmVzcwogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRTZW5kSW5mby5zZW5kZXJOYW1lKQogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRTZW5kSW5mby5yZWdpb25Db2RlKQogICAgfQogIH0KfQo="},null]}