{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/business/video.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/business/video.vue","mtime":1634724784705},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGRlIGZyb20gJ0AvYXBpL2RlbGVnYXRlJwppbXBvcnQgUnRjQ2xpZW50IGZyb20gJy4vcnRjLWNsaWVudCcKaW1wb3J0ICogYXMgYXBpIGZyb20gJ0AvYXBpL2RlbGVnYXRlJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJwppbXBvcnQgeyBzZXQgfSBmcm9tICdqcy1jb29raWUnCgpsZXQgdGhhdCA9IG51bGwKCmxldCB3cyA9IG51bGwgLy8gd2Vic29ja2V0CmxldCBoZWFydEJlYXRUaW1lT3V0ID0gbnVsbCAvLyDlv4Pot7MKbGV0IGhlYXJ0ID0gJycgLy8g5b+D6Lez5YaF5a65CmxldCBoZWFydEJlYXRGYWlsQ291bnQgPSAwIC8vIOW/g+i3s+Wksei0peasoeaVsAoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcklkOiAnJywKICAgICAgcm9vbURhdGE6IHt9LAogICAgICBydGM6IG51bGwsCiAgICAgIGxvY2FsU3RyZWFtOiBudWxsLAogICAgICBjYW1lcmFzOiBudWxsLAogICAgICBzdGFydFJlY29yOiBmYWxzZSwKICAgICAgdGFza0lkOiAnJywKICAgICAgc3RlcExpc3Q6IFtdLAogICAgICBzaG93U3RlcDogZmFsc2UsCiAgICAgIHZpZGVvTGlzdDogW10sCiAgICAgIGVubGFyZ2VJZDogJycsCiAgICAgIGFkZHI6IG51bGwsCiAgICAgIHByb0xpc3Q6IFtdLAogICAgICBub25BZG1pbmlzdHJhdG9yTGlzdDogW10sCiAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgIG9yZGVyRmlsZUxpc3Q6IFtdIC8vIOaWh+S5puWIl+ihqAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdydGMudmlkZW9MaXN0JzogewogICAgICBhc3luYyBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICBjb25zb2xlLmxvZygnd2F0Y2ggdmlkZW9MaXN0JywgblZhbCkKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgblZhbC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGlmICh0aGlzLnByb0xpc3QuaW5kZXhPZihuVmFsW2luZGV4XSkgPCAwICYmIHRoaXMubm9uQWRtaW5pc3RyYXRvckxpc3QuaW5kZXhPZihuVmFsW2luZGV4XSkgPCAwKSB7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zKCdvcmcvdXNlci10eXBlLXNpZ24nLCB7IG9yZGVySWQ6IHRoaXMub3JkZXJJZCwgbW9iaWxlOiBuVmFsW2luZGV4XSB9KQogICAgICAgICAgICAvLyAudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocGFyc2VJbnQocmVzLmRhdGEpID09PSAyICYmIHRoaXMucHJvTGlzdC5pbmRleE9mKG5WYWxbaW5kZXhdKSA8IDApIHsKICAgICAgICAgICAgICB0aGlzLnByb0xpc3QucHVzaChuVmFsW2luZGV4XSkKICAgICAgICAgICAgfSBlbHNlIGlmICgocGFyc2VJbnQocmVzLmRhdGEpID09PSAxICYmIHRoaXMubm9uQWRtaW5pc3RyYXRvckxpc3QuaW5kZXhPZihuVmFsW2luZGV4XSkgPCAwKSkgewogICAgICAgICAgICAgIHRoaXMubm9uQWRtaW5pc3RyYXRvckxpc3QucHVzaChuVmFsW2luZGV4XSkKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb0xpc3QsIHRoaXMubm9uQWRtaW5pc3RyYXRvckxpc3QuaW5kZXhPZignMTg1MDMwMDQ2MTcnKSwgJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKICAgICAgICB0aGlzLnZpZGVvTGlzdCA9IG5WYWwKICAgICAgICB0aGlzLmdldEFkZHJzKCkKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoYXQgPSB0aGlzCiAgICBWdWUucHJvdG90eXBlLiRhbGVydCgn56Gu5a6a5byA5aeL5ZCO77yM6K+354K55Ye75b2V5Yi25byA5aeL5b2V5Yi26KeG6aKR77yBJywgJ+aPkOekuicpCiAgICB0aGF0Lm9yZGVySWQgPSB0aGF0LiRyb3V0ZS5xdWVyeS5vcmRlcklkCiAgICB3aW5kb3cuc3dpdGNoRGV2aWNlID0gdGhhdC5zd2l0Y2hEZXZpY2UKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuanVkZ2VXaG8oJzE3MzQ2NzAyODE5JyksJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVzZVJUQygpCiAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKHdzKSB7CiAgICAgICAgd3MuY2xvc2UoKQogICAgICAgIHdzID0gbnVsbAogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuYmVmb3JldW5sb2FkSGFuZGxlcikKICAgIGlmICh0aGlzLnJ0YyAhPSBudWxsKSB7CiAgICAgIHRoaXMucnRjLmxlYXZlKCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2xpY2tfY3V0Q29udGVudChzdHIpIHsKICAgICAgaWYgKHN0ciA9PT0gJ3NlY29uZCcpIHsKICAgICAgICB0aGlzLmdldFNpZ25GaWxlTGlzdCgpCiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmVOYW1lID0gc3RyCiAgICB9LAogICAgLy8g6I635Y+W562+572y5paH5Lu25YiX6KGoCiAgICBnZXRTaWduRmlsZUxpc3QoKSB7CiAgICAgIGRlLmdldFNpZ25MaXN0KHsgb3JkZXJJZDogdGhpcy5vcmRlcklkIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGlmICghcmVzLmRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBsaXN0ID0gW10KICAgICAgICAgIGZvciAoY29uc3QgaSBvZiByZXMuZGF0YSkgewogICAgICAgICAgICBsaXN0LnB1c2goewogICAgICAgICAgICAgIG9yZGVyUHJvcG9zZXJEb2N1bWVudFNpZ25WT1M6aS5vcmRlclByb3Bvc2VyRG9jdW1lbnRTaWduVk9TLAogICAgICAgICAgICAgIGZpbGVOYW1lOiBpLm9yaWdpbmFsRmlsZW5hbWUsCiAgICAgICAgICAgICAgc2lnblN0YXR1czogaS5zaWduU3RhdHVzLAogICAgICAgICAgICAgIGNvdmVyU3RhdHVzOiBpLmNvdmVyU3RhdHVzLAogICAgICAgICAgICAgIGNyZWF0ZVRpbWU6CiAgICAgICAgICAgICAgICBpLmNyZWF0ZVRpbWUuc3Vic3RyKDAsIDEwKSArICcgJyArIGkuY3JlYXRlVGltZS5zdWJzdHIoMTEsIDE5KSwKICAgICAgICAgICAgICBpZDogaS5pZAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5vcmRlckZpbGVMaXN0ID0gbGlzdAogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDpooTop4jnrb7nvbLmlofkuaYKICAgIG9uQ2xpY2tfbG9va0ZpbGUoZSkgewogICAgICBkZS5nZXRGaWxlSW1nKHsgaWQ6IGUuaWQgfSkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICBjb25zdCBsaXN0ID0gcmVzLmRhdGEuZGF0YS5pZHMKICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBsaXN0KSB7CiAgICAgICAgICAgIGNvbnN0IGltZ1VybCA9IGF3YWl0IHRoaXMuZ2V0SW1nKGxpc3RbaV0pCiAgICAgICAgICAgIGxpc3RbaV0gPSBpbWdVcmwKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXBwL0NIQU5HRV9JTUFHRScsIGxpc3QpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGdldEltZyhpZCkgewogICAgICByZXR1cm4gYXdhaXQgdGhpcy4kYXhpb3MoYG9yZy9vcmRlci1kb2N1bWVudC1wcmV2aWV3LWltZy8ke2lkfWApLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHJldHVybiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyByZXMuZGF0YQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBqdWRnZVdobyh2YWwpIHsKICAgICAgdGhpcy4kYXhpb3MoJ29yZy91c2VyLXR5cGUtc2lnbicsIHsgb3JkZXJJZDogdGhpcy5vcmRlcklkLCBtb2JpbGU6IHZhbCB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gaWYgKHBhcnNlSW50KHJlcy5kYXRhKT09PTEpIHsKICAgICAgICAvLyAgcmVzb2x2ZSh0cnVlKQogICAgICAgIC8vIH1lbHNlewogICAgICAgIC8vICByZXNvbHZlKGZhbHNlKQogICAgICAgIC8vIH0KICAgICAgICAvLyByZXR1cm4gIGF3YWl0IHRydWUKICAgICAgfSkKICAgIH0sCiAgICBvbkNsaWNrX3Nob3dTdGVwKCkgewogICAgICBpZiAoIXRoaXMuc2hvd1N0ZXApIHsKICAgICAgICB0aGlzLnNob3dTdGVwID0gdHJ1ZQogICAgICAgIHRoaXMuZ2V0U3RlcCgpCiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrX2Nsb3NlU3RlcCgpIHsKICAgICAgdGhpcy5zaG93U3RlcCA9IGZhbHNlCiAgICB9LAogICAgLy8g5byA5ZCvd2Vic29ja2V06ZO+5o6lCiAgICBjb25uZWN0U29ja2V0KCkgewogICAgICBjb25zdCB3c3N1cmwgPSBgJHt0aGlzLiRjZmcud3NzVXJsfXRlbmNlbnQtdmlkZW8td2Vic29ja2V0LyR7dGhpcy5yb29tRGF0YS5yb29tTnVtfWAKICAgICAgd3MgPSBuZXcgV2ViU29ja2V0KHdzc3VybCkKICAgICAgd3Mub25vcGVuID0gdGhpcy53c3NPcGVuCiAgICAgIHdzLm9ubWVzc2FnZSA9IHRoaXMud3NzTXNnCiAgICAgIHdzLm9uY2xvc2UgPSB0aGlzLndzc09uQ2xvc2UKICAgIH0sCiAgICAvLyDlvIDlp4vov57mjqUKICAgIHdzc09wZW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKCfov57mjqXmiJDlip/vvIEnKQogICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgaGVhcnQ6ICfkvaDmg7PmiJDkuLpyYXBzdGFy5ZCXJyB9KSkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy53c3NTdGFydEhlYXJ0KCkKICAgICAgfSwgMTAwMDApCiAgICB9LAogICAgLy8g5o6l5Y+Xd2Vic29ja2V05raI5oGvCiAgICB3c3NNc2coZSkgewogICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpCiAgICAgIGlmIChkYXRhWycyMDYwMSddICYmIHRoYXQuc2hvd1N0ZXApIHsKICAgICAgICB0aGF0LmdldFN0ZXAoKQogICAgICB9CiAgICAgIGlmIChkYXRhWycyMDYwMiddKSB7CiAgICAgICAgdGhhdC5nZXRBZGRycygpCiAgICAgIH0KICAgICAgaWYgKGRhdGFbJzIwNjAzJ10gJiYgdGhhdC5zaG93U3RlcCkgewogICAgICAgIHRoaXMuZ2V0U2lnbkZpbGVMaXN0KCkKICAgICAgfQogICAgICByZXR1cm4gZS5kYXRhCiAgICB9LAogICAgLy8g5byA5aeL5b+D6LezCiAgICB3c3NTdGFydEhlYXJ0KCkgewogICAgICBjb25zb2xlLmxvZygnc29ja2V05byA5aeL5b+D6LezJykKICAgICAgaGVhcnQgPSBKU09OLnN0cmluZ2lmeSh7IGhlYXJ0OiAn5L2g5oOz5oiQ5Li6cmFwc3RhcuWQlycgfSkKICAgICAgdGhpcy5oZWFydEJlYXQoKQogICAgfSwKICAgIC8vIHdlYnNvY2tldOW/g+i3swogICAgaGVhcnRCZWF0KCkgewogICAgICBpZiAoIWhlYXJ0KSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgd3Muc2VuZChoZWFydCkKICAgICAgaWYgKHdzLm9ubWVzc2FnZSkgewogICAgICAgIGNvbnNvbGUubG9nKCflv4Pot7PmiJDlip/vvIEnKQogICAgICAgIGlmIChoZWFydCkgewogICAgICAgICAgaGVhcnRCZWF0VGltZU91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmhlYXJ0QmVhdCgpCiAgICAgICAgICB9LCAxMDAwMCkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coJ3NvY2tldOW/g+i3s+Wksei0pScpCiAgICAgICAgaWYgKGhlYXJ0QmVhdEZhaWxDb3VudCA+IDIpIHsKICAgICAgICAgIC8vIOmHjei/ngogICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCkKICAgICAgICB9CiAgICAgICAgaWYgKGhlYXJ0KSB7CiAgICAgICAgICBoZWFydEJlYXRUaW1lT3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuaGVhcnRCZWF0KCkKICAgICAgICAgIH0sIDEwMDAwKQogICAgICAgIH0KICAgICAgICBoZWFydEJlYXRGYWlsQ291bnQrKwogICAgICB9CiAgICB9LAogICAgLy8g57uT5p2f5b+D6LezCiAgICB3c3NFbmRIZWFydCgpIHsKICAgICAgY29uc29sZS5sb2coJ3NvY2tldOe7k+adn+W/g+i3sycpCiAgICAgIGhlYXJ0ID0gJycKICAgICAgaWYgKGhlYXJ0QmVhdFRpbWVPdXQpIHsKICAgICAgICBjbGVhclRpbWVvdXQoaGVhcnRCZWF0VGltZU91dCkKICAgICAgICBoZWFydEJlYXRUaW1lT3V0ID0gbnVsbAogICAgICB9CiAgICB9LAogICAgLy8gd2Vic29ja2V0IOaWreW8gOi/nuaOpQogICAgd3NzT25DbG9zZShlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGNsb3NlZC4nKQogICAgfSwKICAgIGFzeW5jIHVzZVJUQygpIHsKICAgICAgYXBpCiAgICAgICAgLmdldFZpZGVvRGF0YSh7IG9yZGVySWQ6IHRoaXMub3JkZXJJZCwgdXNlcm5hbWU6ICflhazor4HlkZgnIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICByZXMuZGF0YS5vcmRlcklkID0gdGhpcy5vcmRlcklkCiAgICAgICAgICAgIHRoYXQucm9vbURhdGEgPSByZXMuZGF0YQogICAgICAgICAgICB0aGF0LmNvbm5lY3RTb2NrZXQoKQogICAgICAgICAgICB0aGF0LnJ0YyA9IG5ldyBSdGNDbGllbnQodGhhdC5yb29tRGF0YSkKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRoYXQucnRjLmpvaW4oKQogICAgICAgICAgICB0aGF0LnJ0Yy5nZXROb3RpZnkodGhhdC4kbm90aWZ5KQogICAgICAgICAgICB0aGF0LmNhbWVyYXMgPSBzb3VyY2UuY2FtZXJhcwogICAgICAgICAgICB0aGF0LmxvY2FsU3RyZWFtID0gc291cmNlLmxvY2FsU3RyZWFtCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRmdW4ubXNnKHJlcy5tc2csICdlcnJvcicpCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoYXQuJHJvdXRlci5nbygtMSkKICAgICAgICAgICAgfSwgMTAwMCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGdldFN0ZXAoKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICdmaXJzdCcpIHsKICAgICAgICB0aGlzLiRheGlvcygnb3JnL29yZGVyLXByb3Bvc2VyLXNjaGVkdWxlLXJlY29yZC1saXN0JywgeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMuc3RlcExpc3QgPSByZXMuZGF0YQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRTaWduRmlsZUxpc3QoKQogICAgICB9CiAgICB9LAogICAgc3RhcnRSZWMoKSB7CiAgICAgIGNvbnN0IGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW5MaXN0JykuY2hpbGRyZW4KICAgICAgaWYgKGRvbS5sZW5ndGggPD0gMSkgewogICAgICAgIHRoaXMuJGFsZXJ0KCfor7fnoa7orqTlvZPkuovkurrmmK/lkKbov5vlhaXop4bpopHpgJror53kuK0nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmiJHnn6XpgZPllaYnCiAgICAgICAgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBhcGkuc3RhcnRWaWRlbyhgJHt0aGlzLm9yZGVySWR9LyR7dGhpcy5yb29tRGF0YS51c2VySWR9YCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC5zdGFydFJlY29yID0gdHJ1ZQogICAgICAgICAgdGhhdC50YXNrSWQgPSByZXMuZGF0YS50YXNrSWQKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDMwNCkgewogICAgICAgICAgICB0aGlzLiRmdW4ubXNnKCfop4bpopHmraPlnKjlvZXliLbkuK0nLCAnZXJyb3InKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZnVuLm1zZygn6K+36YeN5paw5byA5aeL5b2V5Yi277yM5aaC5pyJ6Zeu6aKY6K+36IGU57O75bel5L2c5Lq65ZGYJywgJ2Vycm9yJykKICAgICAgICAgIH0KICAgICAgICAgIHRoYXQuc3RhcnRSZWNvciA9IGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGVuZFJlYyh0eXBlKSB7CiAgICAgIC8vIGlmICh0aGlzLnRhc2tJZCAhPT0gJycpIHsKICAgICAgYXBpLmVuZFZpZGVvKGAke3RoaXMucm9vbURhdGEucm9vbU51bX1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICB0aGF0LnN0YXJ0UmVjb3IgPSBmYWxzZQogICAgICAgICAgdGhpcy4kZnVuLm1zZygn5L+d5a2Y6KeG6aKR5oiQ5Yqf77yBJywgJ3N1Y2Nlc3MnKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMzAxKSB7CiAgICAgICAgICAgIHRoaXMuJGZ1bi5tc2coJ+ivt+WFiOW8gOWni+W9leWIticsICd3YXJuaW5nJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGZ1bi5tc2cocmVzLm1zZywgJ3dhcm5pbmcnKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gdGhpcy4kZnVuLm1zZygn6K+35byA5aeL5b2V5Yi2JywgJ3dhcm5pbmcnKQogICAgICAvLyB9CiAgICB9LAogICAgb25DbGlja19lbmRWaWRlbygpIHsKICAgICAgaWYgKHRoaXMucnRjICE9IG51bGwpIHsKICAgICAgICBpZiAodGhpcy5zdGFydFJlY29yKSB7CiAgICAgICAgICB0aGlzLmVuZFJlYygyKQogICAgICAgIH0KICAgICAgICB0aGlzLnJ0Yy5sZWF2ZSgpCiAgICAgIH0KICAgICAgaWYgKHdzKSB7CiAgICAgICAgdGhpcy53c3NFbmRIZWFydCgpCiAgICAgICAgd3MuY2xvc2UoKQogICAgICB9CiAgICAgIHdzID0gbnVsbAogICAgICB0aGF0LiRyb3V0ZXIuZ28oLTEpCiAgICB9LAogICAgLy8g5oiq5Zu+CiAgICBzY3JlZW5zaG90KGlkKSB7CiAgICAgIGNvbnN0IHZpZGVvQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlbW90ZV9zdHJlYW0ke2lkfWApCiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9Cb3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZpZGVvJylbMF0KICAgICAgY29uc3QgY2FuRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykKICAgICAgLy8gY2FuRWxlLndpZHRoID0gd2lkdGgKICAgICAgY2FuRWxlLmhlaWdodCA9IDUwMAogICAgICB2aWRlb0JveC5hcHBlbmRDaGlsZChjYW5FbGUpCiAgICAgIGNvbnN0IGNhbnZhcyA9IHZpZGVvQm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXQogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKQogICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCAzMDAsIDUwMCkKICAgICAgY29uc29sZS5sb2codGhpcy5hZGRyKQoKICAgICAgLy8gaWYgKHRoaXMuYWRkciAhPT0gbnVsbCkgewogICAgICBpZiAodGhpcy5hZGRyICE9PSBudWxsKSB7CiAgICAgICAgaWYgKHRoaXMuYWRkcltpZF0uc2hvd0FkZHIpIHsKICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLC4zKScKICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmZpbGxSZWN0KDAsIDAsIDMwMCwgMTAwKQogICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZmlsbFN0eWxlID0gJyNmZmYnCiAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS50ZXh0QmFzZWxpbmUgPSAndG9wJwogICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZm9udCA9ICcxMHB0IENhbGlicmknCiAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5maWxsVGV4dChgJHt0aGlzLmFkZHJbaWRdLm5hbWV9JHt0aGlzLmFkZHJbaWRdLmNhcmROdW19YCwgMTAsIDEwKQogICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZmlsbFRleHQoYOWumuS9je+8miR7dGhpcy5hZGRyW2lkXS5zdGF0dXMgPT09IDEgPyB0aGlzLmFkZHJbaWRdLmFkZHJzIDogJ+iOt+WPluWksei0pe+8jOivt+iuqeW9k+S6i+S6uuaMguaWremHjeaWsOi/m+WFpSd9YCwgMTAsIDMwKQogICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZmlsbFRleHQoYOe7j+W6pu+8miR7dGhpcy5hZGRyW2lkXS5zdGF0dXMgPT09IDEgPyB0aGlzLmFkZHJbaWRdLmxvbiA6ICctLSd9YCwgMTAsIDUwKQogICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZmlsbFRleHQoYOe6rOW6pu+8miR7dGhpcy5hZGRyW2lkXS5zdGF0dXMgPT09IDEgPyB0aGlzLmFkZHJbaWRdLmxhdCA6ICctLSd9YCwgMTAsIDcwKQogICAgICAgIH0KICAgICAgfQogICAgICBjb25zdCBiYXNlID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJywgMS4wKS5zdWJzdHJpbmcoMjIpCiAgICAgIHRoaXMuJGF4aW9zKCdvcmcvc2F2ZS1vcmRlci1jYXB0dXJlJywgeyBpZDogdGhpcy5vcmRlcklkLCBiYXNlNjRTdHJpbmc6IGJhc2UsIG1vYmlsZTogaWQgfSwgeyBtZXRob2Q6ICdQT1NUJyB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoeyB0aXRsZTogJ+aIquWbvuaIkOWKnycsIG1lc3NhZ2U6ICfor7fliLDor6bmg4XpobXngrnlh7vigJzkuIDplK7kuIvovb3mnZDmlpnigJ3vvIzkuIvovb3miKrlm74nLCB0eXBlOiAnc3VjY2VzcycsIG9mZnNldDogMTAwIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiAn5o+Q56S6JywgbWVzc2FnZTogJ+aIquWbvuS/neWtmOWksei0pe+8jOivt+eojeWQjuWGjeivlScsIHR5cGU6ICdlcnJvcicsIG9mZnNldDogMTAwIH0pCiAgICAgICAgfQogICAgICAgIC8vIGNhbnZhcy5yZW1vdmUoKQogICAgICB9KQogICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICBodG1sMmNhbnZhcyhuYSwgeyBiYWNrZ3JvdW5kQ29sb3I6IG51bGwsIHdpZHRoOiA0MDAsIHNjcm9sbFg6IDAsIHNjcm9sbFk6IDAsIGFsbG93VGFpbnQ6IHRydWUsIHVzZUNPUlM6IHRydWUsIHBvc2l0aW9uOiAnZml4ZWQnLCBsZWZ0OiAnMXB4JywgdG9wOiAnMXB4JyB9KS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgIC8vICAgICBpZiAocmVzKSB7CgogICAgICAvLyAgICAgICB2YXIgaW1nVXJsID0gYXdhaXQgY2FudmFzLnRvRGF0YVVSTCgpCiAgICAgIC8vICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaChpbWdVcmwpCiAgICAgIC8vICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBkYXRhLmJsb2IoKQogICAgICAvLyAgICAgICB0aGlzLmJsb2JGaWxlKGJsb2IsICc0NDQ0JykKCiAgICAgIC8vIHRoaXMuJGF4aW9zKCdvcmcvc2F2ZS1vcmRlci1jYXB0dXJlJywgeyBpZDogdGhpcy5vcmRlcklkLCBiYXNlNjRTdHJpbmc6IGJhc2UsIG1vYmlsZTogaWQgfSwgeyBtZXRob2Q6ICdQT1NUJyB9KS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgIC8vICAgICB0aGlzLiRub3RpZnkoeyB0aXRsZTogJ+aIquWbvuaIkOWKnycsIG1lc3NhZ2U6ICfor7fliLDor6bmg4XpobXngrnlh7vigJzkuIDplK7kuIvovb3mnZDmlpnigJ3vvIzkuIvovb3miKrlm74nLCB0eXBlOiAnc3VjY2VzcycsIG9mZnNldDogMTAwIH0pCiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiAn5o+Q56S6JywgbWVzc2FnZTogJ+aIquWbvuS/neWtmOWksei0pe+8jOivt+eojeWQjuWGjeivlScsIHR5cGU6ICdlcnJvcicsIG9mZnNldDogMTAwIH0pCiAgICAgIC8vICAgfQogICAgICAvLyBjYW52YXMucmVtb3ZlKCkKICAgICAgLy8gfSkKICAgICAgLy8gfQogICAgICAvLyB9KQogICAgICAvLyB9LCA1MDApCiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vIGNvbnN0IG5vQWRkckJhc2UgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnLCAxLjApLnN1YnN0cmluZygyMikKICAgICAgLy8gdGhpcy4kYXhpb3MoJ29yZy9zYXZlLW9yZGVyLWNhcHR1cmUnLCB7IGlkOiB0aGlzLm9yZGVySWQsIGJhc2U2NFN0cmluZzogbm9BZGRyQmFzZSwgbW9iaWxlOiBpZCB9LCB7IG1ldGhvZDogJ1BPU1QnIH0pLnRoZW4ocmVzID0+IHsKICAgICAgLy8gICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgLy8gICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiAn5oiq5Zu+5oiQ5YqfJywgbWVzc2FnZTogJ+ivt+WIsOivpuaDhemhteeCueWHu+KAnOS4gOmUruS4i+i9veadkOaWmeKAne+8jOS4i+i9veaIquWbvicsIHR5cGU6ICdzdWNjZXNzJywgb2Zmc2V0OiAxMDAgfSkKICAgICAgLy8gICB9IGVsc2UgewogICAgICAvLyAgICAgdGhpcy4kbm90aWZ5KHsgdGl0bGU6ICfmj5DnpLonLCBtZXNzYWdlOiAn5oiq5Zu+5L+d5a2Y5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJywgdHlwZTogJ2Vycm9yJywgb2Zmc2V0OiAxMDAgfSkKICAgICAgLy8gICB9CiAgICAgIC8vIH0pCiAgICAgIGNhbnZhcy5yZW1vdmUoKQogICAgICAvLyB9CgogICAgICAvLyBjb25zdCB2aWRlb0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZW1vdGVfc3RyZWFtJHtpZH1gKQogICAgICAvLyBjb25zdCB2aWRlbyA9IHZpZGVvQm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd2aWRlbycpWzBdCiAgICAgIC8vIGh0bWwyY2FudmFzKHZpZGVvLCB7IGJhY2tncm91bmRDb2xvcjogbnVsbCB9KS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgIC8vICAgdmFyIGltZ1VybCA9IHJlcy50b0RhdGFVUkwoKQogICAgICAvLyAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaChpbWdVcmwpCiAgICAgIC8vICAgY29uc3QgYmxvYiA9IGF3YWl0IGRhdGEuYmxvYigpCiAgICAgIC8vICAgdGhpcy5ibG9iRmlsZShibG9iLCAnNDQ0NCcpCiAgICAgIC8vICAgLy8gdmFyIGN2ID0gY2FudmFzLnRvRGF0YVVSTCgpCiAgICAgIC8vICAgLy8gY29uc3Qgb2QgPSBhd2FpdCBmZXRjaChjdikKICAgICAgLy8gICAvLyBjb25zdCB2YiA9IGF3YWl0IG9kLmJsb2IoKQogICAgICAvLyAgIC8vIGNvbnN0IGJhc2UgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnLCAxLjApLnN1YnN0cmluZygyMikKICAgICAgLy8gfSkKICAgIH0sCiAgICBvbkNsaWNrX2NoYW5nZVNob3dBZGRyKGkpIHsKICAgICAgdGhpcy5hZGRyW2ldLnNob3dBZGRyID0gIXRoaXMuYWRkcltpXS5zaG93QWRkcgogICAgfSwKICAgIGJsb2JGaWxlKGJsb2IsIGZpbGVOYW1lKSB7CiAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHsKICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlTmFtZSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKQogICAgICAgIC8vIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAndmlld193aW5kb3cnKQogICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpIC8vIOWIm+W7uuWvueixoXVybAogICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZQogICAgICAgIC8vIGZpeCBGaXJlZm94CiAgICAgICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnCiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChsaW5rKQogICAgICAgIGxpbmsuY2xpY2soKQogICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQobGluaykKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpIC8vIOmAmui/h+iwg+eUqCBVUkwuY3JlYXRlT2JqZWN0VVJMKCkg5Yib5bu655qEIFVSTCDlr7nosaEKICAgICAgfQogICAgfSwKICAgIGdldEFkZHJzKCkgewogICAgICB0aGlzLiRheGlvcygnb3JnL29yZGVyLXByb3Bvc2VyLXBvc2l0aW9uLXJlY29yZC1saXN0JywgeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcywgJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t6I635Y+W5Zyw5Z2ALS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQogICAgICAgIGlmIChyZXMuc3VjY2VzcyAmJiByZXMuZGF0YSAhPT0gbnVsbCAmJiByZXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBjb25zdCBkYXRhID0ge30KICAgICAgICAgIGZvciAoY29uc3QgaSBvZiByZXMuZGF0YSkgewogICAgICAgICAgICBkYXRhW2kubW9iaWxlXSA9IHsKICAgICAgICAgICAgICBuYW1lOiBpLnJlYWxOYW1lLAogICAgICAgICAgICAgIGNhcmROdW06IGkuY2FyZE51bSwKICAgICAgICAgICAgICBtb2JpbGU6IGkubW9iaWxlLAogICAgICAgICAgICAgIGFkZHJzOiBpLnBvc2l0aW9uLAogICAgICAgICAgICAgIGxvbjogaS5sb25naXR1ZGUsCiAgICAgICAgICAgICAgbGF0OiBpLmxhdGl0dWRlLAogICAgICAgICAgICAgIHNob3dBZGRyOiB0cnVlLAogICAgICAgICAgICAgIHN0YXR1czogaS5zdGF0dXMKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5hZGRyID0gZGF0YQogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5hZGRyLCAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3ojrflj5blnLDlnYAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGVubGFyZ2UoaWQpIHsKICAgICAgaWYgKCF0aGlzLmVubGFyZ2VJZCkgewogICAgICAgIHRoaXMuZW5sYXJnZUlkID0gaWQKICAgICAgfSBlbHNlIGlmICh0aGlzLmVubGFyZ2VJZCA9PT0gaWQpIHsKICAgICAgICB0aGlzLmVubGFyZ2VJZCA9ICcnCiAgICAgIH0KICAgIH0KICB9Cn0K"},null]}