{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/components/universal/uploadFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/components/universal/uploadFile.vue","mtime":1634724784699},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL2plbmtpbnNfZGF0YS93b3Jrc3BhY2UvXHU5ODc1XHU5NzYyLVx1NTE2Q1x1OEJDMVx1NTkwNFx1NTQwRVx1NTNGMC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIGRlIGZyb20gJ0AvYXBpL2RlbGVnYXRlJzsKaW1wb3J0IHsgZ2V0VW5pdmVyc2FsRG9jdW1lbnRQcmV2aWV3SWQgfSBmcm9tICcuLi8uLi9hcGkvdW5pdmVyc2FsJzsKaW1wb3J0IHsgc2hvd0xvYWRpbmcsIGhpZGVMb2FkaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9hZGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgc2hvdzogQm9vbGVhbiwKICAgIElEOiBTdHJpbmcsCiAgICBtYW5MaXN0OiBBcnJheSwKICAgIC8vIOWnlOaJmOS6uuWIl+ihqAogICAgZG9jSW5mbzogW09iamVjdCwgQXJyYXldIC8vIOaWh+S5puS/oeaBrwoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLoKICAgICAgdXBGaWxlTGlzdDogW10sCiAgICAgIC8vIOaJuemHj+S4iuS8oOWIl+ihqAogICAgICBkb2NJbmZvTGlzdDogW10sCiAgICAgIC8vIOaWh+S5puWIl+ihqAogICAgICBpbWdMaXN0OiBbXSwKICAgICAgLy8g5paH5Lmm5Zu+54mH5YiX6KGoCiAgICAgIHNlbGVjdE1hbjogW10sCiAgICAgIC8vIOmAieaLqeeahOWnlOaJmOS6ugogICAgICBzaWduTGlzdDogW10sCiAgICAgIC8vIOetvuWQjeWIl+ihqAogICAgICBlZGl0SW5kZXg6IDAsCiAgICAgIC8vIOW9k+WJjee8lui+kemhteaVsAogICAgICBlZGl0TGlzdDogMCwKICAgICAgLy8g5b2T5YmN57yW6L6R5paH5Lu2CiAgICAgIGlzVXA6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmraPlnKjkuIrkvKAKICAgICAgaXNCdG46IHRydWUsCiAgICAgIGlzU2l6ZTogMQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuaXNTaG93ID0gbmV3VmFsOwogICAgfSwKICAgIHNpZ25MaXN0OiBmdW5jdGlvbiBzaWduTGlzdChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBkb2NJbmZvOiBmdW5jdGlvbiBkb2NJbmZvKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkb2NJbmZvIiwgbmV3VmFsKTsKCiAgICAgICAgICAgICAgICBpZiAoIShuZXdWYWwuY29uc3RydWN0b3IgPT09IEFycmF5KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbmV3VmFsLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgaXRlbS5jb3ZlclN0YXR1cyA9IDA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLmRvY0luZm9MaXN0ID0gbmV3VmFsOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0RG9jSW1nKG5ld1ZhbFswXS5kb2NJZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpcy5kb2NJbmZvTGlzdCA9IFtuZXdWYWxdOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldERvY0ltZyhuZXdWYWwuZG9jSWQpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgICAgICAgICAgIF90aGlzLmlzQnRuID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5pc1Nob3cgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5paH5Lmm5Zu+54mH5YiX6KGoCiAgICBnZXREb2NJbWc6IGZ1bmN0aW9uIGdldERvY0ltZyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFVuaXZlcnNhbERvY3VtZW50UHJldmlld0lkKHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBpbWcsIGk7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gcmVzLmRhdGEuZGF0YS5pZHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMobGlzdCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9jb250ZXh0Mi50MSA9IF9jb250ZXh0Mi50MCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IF9jb250ZXh0Mi50MS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQyID0gaW1nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0SW1nKGxpc3RbaV0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDIucHVzaC5jYWxsKF9jb250ZXh0Mi50MiwgX2NvbnRleHQyLnQzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmltZ0xpc3QgPSBpbWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pc1NpemUgPSByZXMuZGF0YS5kYXRhLnBhcGVyVHlwZSA9PT0gJ0EzJyA/IDIgOiAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldFNpZ25MaXN0KGlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBnZXRJbWc6IGZ1bmN0aW9uIGdldEltZyhpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGF4aW9zKCJvcmcvYWNjZXB0YW5jZS1vcmRlci1kb2N1bWVudC1wcmV2aWV3LWltZy8iLmNvbmNhdChpZCkpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlcykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyByZXMuZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bnrb7lkI3liJfooagKICAgIGdldFNpZ25MaXN0OiBmdW5jdGlvbiBnZXRTaWduTGlzdChpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGRlLmdldFNpZ25EaXYoewogICAgICAgIG9yZGVyRG9jdW1lbnRJZDogaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEgIT0gbnVsbCB8fCByZXMuZGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgdmFyIGxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7CiAgICAgICAgICAgIF90aGlzNC5zaWduTGlzdCA9IGxpc3Q7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqDliLDlvZPliY3pobUKICAgIGFkZE5vd1BhZ2U6IGZ1bmN0aW9uIGFkZE5vd1BhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdE1hbi5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRmdW4ubXNnKCfor7fpgInmi6nlvZPkuovkuronLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnNlbGVjdE1hbiksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgc2VsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLm1hbkxpc3RbaV0pKTsKICAgICAgICAgIHNlbC5wYWdlID0gdGhpcy5lZGl0SW5kZXggKyAxOwogICAgICAgICAgc2VsLm9yZGVyRG9jdW1lbnRJZCA9IHRoaXMuZG9jSW5mb0xpc3RbdGhpcy5lZGl0TGlzdF0uZG9jSWQ7CiAgICAgICAgICB0aGlzLnNpZ25MaXN0LnB1c2goc2VsKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3RNYW4gPSBbXTsKICAgIH0sCiAgICAvLyDmt7vliqDliLDmiYDmnInpobUKICAgIGFkZEFsbFBhZ2U6IGZ1bmN0aW9uIGFkZEFsbFBhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdE1hbi5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRmdW4ubXNnKCfor7fpgInmi6nopoHmt7vliqDnmoTlvZPkuovkuronLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5pbWdMaXN0KSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnNlbGVjdE1hbiksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBqID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICB2YXIgc2VsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLm1hbkxpc3Rbal0pKTsKICAgICAgICAgICAgc2VsLnBhZ2UgPSBwYXJzZUludChpKSArIDE7CiAgICAgICAgICAgIHNlbC5vcmRlckRvY3VtZW50SWQgPSB0aGlzLmRvY0luZm9MaXN0W3RoaXMuZWRpdExpc3RdLmRvY0lkOwogICAgICAgICAgICB0aGlzLnNpZ25MaXN0LnB1c2goc2VsKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0TWFuID0gW107CiAgICB9LAogICAgLy8g5LiK5LiA6aG1CiAgICBvbkNsaWNrX3BhZ2VQcmV2OiBmdW5jdGlvbiBvbkNsaWNrX3BhZ2VQcmV2KCkgewogICAgICBpZiAodGhpcy5lZGl0SW5kZXggPiAwKSB7CiAgICAgICAgdGhpcy5lZGl0SW5kZXgtLTsKICAgICAgfQogICAgfSwKICAgIC8vIOS4i+S4gOmhtQogICAgb25DbGlja19wYWdlTmV4dDogZnVuY3Rpb24gb25DbGlja19wYWdlTmV4dCgpIHsKICAgICAgaWYgKHRoaXMuZWRpdEluZGV4IDwgdGhpcy5pbWdMaXN0Lmxlbmd0aCAtIDEpIHsKICAgICAgICB0aGlzLmVkaXRJbmRleCsrOwogICAgICB9CiAgICB9LAogICAgLy8g5paH5Lu25aSa6YCJ5LiK5LygCiAgICB1cExvYWRGaWxlOiBmdW5jdGlvbiB1cExvYWRGaWxlKGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdHlwZUxpc3QgPSBbJy5kb2MnLCAnLnBkZicsICcuZG9jeCddOwogICAgICB2YXIgZmlsZSA9IGUuZmlsZTsKICAgICAgdmFyIGZpbGVUeXBlID0gZmlsZS5uYW1lLnN1YnN0cmluZyhmaWxlLm5hbWUubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgIHZhciBpc0ZpbGUgPSB0eXBlTGlzdC5pbmRleE9mKGZpbGVUeXBlKSAhPT0gLTE7CiAgICAgIHZhciBpc0x0MTVNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxNTsKICAgICAgdmFyIGRhdGFUeXBlID0gZS5kYXRhLnR5cGU7CgogICAgICBpZiAoIWlzRmlsZSkgewogICAgICAgIHRoaXMuJGZ1bi5tc2coJ+ivt+S4iuS8oHBkZuOAgWRvY+OAgWRvY3jmoLzlvI/nmoTmlofku7YhJywgJ2Vycm9yJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIWlzTHQxNU0pIHsKICAgICAgICB0aGlzLiRmdW4ubXNnKCfkuIrkvKDlm77niYfnmoTlpKflsI/lupTlsI/kuo4xNU0nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMudXBGaWxlTGlzdC5wdXNoKGUuZmlsZSk7CgogICAgICBpZiAoIXRoaXMuaXNVcCkgewogICAgICAgIHRoaXMuaXNVcCA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUudXBMb2FkQWxsKGRhdGFUeXBlKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfSwKICAgIHVwTG9hZEFsbDogZnVuY3Rpb24gdXBMb2FkQWxsKHR5cGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRmdW4ubXNnKCflvIDlp4vkuIrkvKAnLCAnc3VjY2VzcycpOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy51cEZpbGVMaXN0KSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy51cEZpbGVMaXN0W2ldKTsKICAgICAgfQoKICAgICAgZm9ybURhdGEuYXBwZW5kKCdvcmRlcklkJywgdGhpcy5JRCk7CiAgICAgIHRoaXMuJGF4aW9zKCdvcmcvb3JkZXItZG9jdW1lbnQnLCBmb3JtRGF0YSwgewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgICAgICBpZiAodHlwZSA9PT0gJ3B1c2gnKSB7CiAgICAgICAgICAgIGxpc3QgPSBfdGhpczYuZG9jSW5mb0xpc3Q7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXMuZGF0YSksCiAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIF9pID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgIGxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBkb2NJZDogX2kuaWQsCiAgICAgICAgICAgICAgICBkb2NOYW1lOiBfaS5vcmlnaW5hbEZpbGVuYW1lLAogICAgICAgICAgICAgICAgc2lnblN0YXR1czogX2kuc2lnblN0YXR1cwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczYuZG9jSW5mb0xpc3QgPSBsaXN0OwoKICAgICAgICAgIGlmICh0eXBlICE9PSAncHVzaCcpIHsKICAgICAgICAgICAgX3RoaXM2LmdldERvY0ltZyhyZXMuZGF0YVswXS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNi4kZnVuLm1zZygn5LiK5Lyg5aSx6LSl77yBJywgJ2Vycm9yJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy51cEZpbGVMaXN0ID0gW107CiAgICAgIHRoaXMuaXNVcCA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWIoOmZpOaWh+S7tgogICAgb25DbGlrY19kZWxEb2M6IGZ1bmN0aW9uIG9uQ2xpa2NfZGVsRG9jKGUsIGkpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6XmlofkuaY/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRlLmRlbFNpZ25GaWxlKHsKICAgICAgICAgIGlkOiBlLmRvY0lkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXM3LiRmdW4ubXNnKCfliKDpmaTmiJDlip/vvIEnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgX3RoaXM3LmRvY0luZm9MaXN0LnNwbGljZShpLCAxKTsKCiAgICAgICAgICAgIGlmIChfdGhpczcuZG9jSW5mb0xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXM3LmlzU2hvdyA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpczcuJGVtaXQoJ3N1Y1NpZ24nKTsKCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoX3RoaXM3LmVkaXRMaXN0IDwgaSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGkgPCBfdGhpczcuZWRpdExpc3QpIHsKICAgICAgICAgICAgICBfdGhpczcuZWRpdExpc3QtLTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSBfdGhpczcuZWRpdExpc3QgfHwgaSA9PT0gX3RoaXM3LmVkaXRMaXN0ICsgMSkgewogICAgICAgICAgICAgIGlmIChfdGhpczcuZWRpdExpc3QgPiAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczcuZWRpdExpc3QtLTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzNy5nZXREb2NJbWcoX3RoaXM3LmRvY0luZm9MaXN0W190aGlzNy5lZGl0TGlzdF0uZG9jSWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczcuJGZ1bi5tc2coJ+WIoOmZpOWksei0pe+8gScsICdlcnJvcicpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM3LiRmdW4ubXNnKCflt7Llj5bmtojliKDpmaQnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g562+5ZCN5Yy65Z+f5ouW5ou9CiAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oZSwgc3BhbkluZGV4KSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGVsID0gZS50YXJnZXQ7CiAgICAgIHZhciBkZWZMZWZ0ID0gZWwuc3R5bGUubGVmdDsgLy8g5Yid5aeLbGVmdAoKICAgICAgdmFyIGRlZlRvcCA9IGVsLnN0eWxlLmJvdHRvbTsgLy8g5Yid5aeLYm90dG9tCgogICAgICB2YXIgZGlzWCA9IGUuY2xpZW50WCAtIGVsLm9mZnNldExlZnQ7CiAgICAgIHZhciBkaXNZID0gZS5jbGllbnRZIC0gZWwub2Zmc2V0VG9wOwogICAgICB2YXIgaGUgPSA4NDI7IC8vIOacgOWQjuS4gOW8oOWbvueJh+mVv+W6pgoKICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBsZWZ0ID0gJyc7CiAgICAgICAgdmFyIGJ0byA9ICcnOwogICAgICAgIGxlZnQgPSBlLmNsaWVudFggLSBkaXNYOwogICAgICAgIGJ0byA9IGhlIC0gKGUuY2xpZW50WSAtIGRpc1kpIC0gNDA7CiAgICAgICAgZWwuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnOwogICAgICAgIGVsLnN0eWxlLmJvdHRvbSA9IGJ0byArICdweCc7CiAgICAgIH07CgogICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnRhcmdldC5vZmZzZXRMZWZ0IDwgMCB8fCBlLnRhcmdldC5vZmZzZXRMZWZ0ID4gNDkwICsgNTkwICogKF90aGlzOC5pc1NpemUgLSAxKSkgewogICAgICAgICAgZWwuc3R5bGUubGVmdCA9IGRlZkxlZnQ7CiAgICAgICAgICBlbC5zdHlsZS5ib3R0b20gPSBkZWZUb3A7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS50YXJnZXQub2Zmc2V0VG9wIDwgMCB8fCBlLnRhcmdldC5vZmZzZXRUb3AgPiBoZSAtIDQwKSB7CiAgICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gZGVmTGVmdDsKICAgICAgICAgIGVsLnN0eWxlLmJvdHRvbSA9IGRlZlRvcDsKICAgICAgICB9CgogICAgICAgIF90aGlzOC5zaWduTGlzdFtzcGFuSW5kZXhdLmxvd0xlZnRYID0gZS50YXJnZXQub2Zmc2V0TGVmdDsKICAgICAgICBfdGhpczguc2lnbkxpc3Rbc3BhbkluZGV4XS5sb3dMZWZ0WSA9IGhlIC0gZWwub2Zmc2V0VG9wIC0gNDA7CiAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICAgIH07CiAgICB9LAogICAgLy8g5Yig6Zmk562+5ZCN5Yy6CiAgICBvbkNsaWNrX2RlbFNpZ25NYW46IGZ1bmN0aW9uIG9uQ2xpY2tfZGVsU2lnbk1hbihpKSB7CiAgICAgIHRoaXMuc2lnbkxpc3Quc3BsaWNlKGksIDEpOwogICAgfSwKICAgIC8vIOetvuWQjeWMuuWfn+aPkOS6pAogICAgb25DbGlja19zdWJtaXRTaWduOiBmdW5jdGlvbiBvbkNsaWNrX3N1Ym1pdFNpZ24oKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIG9yZGVyUHJvcG9zZXJEb2N1bWVudFNpZ25zID0gdGhpcy5zaWduTGlzdDsKCiAgICAgIGlmIChvcmRlclByb3Bvc2VyRG9jdW1lbnRTaWducy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRmdW4ubXNnKCfor7forr7nva7nrb7lkI3ljLrln58nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gaWYgKHRoaXMuaXNTaXplID09PSAyKSB7CiAgICAgIC8vICAgZm9yIChjb25zdCBpIG9mIG9yZGVyUHJvcG9zZXJEb2N1bWVudFNpZ25zKSB7CiAgICAgIC8vICAgICBpLmxvd0xlZnRYID0gaS5sb3dMZWZ0WCAtIChpLmxvd0xlZnRYICogMC4zMSkKICAgICAgLy8gICAgIGkubG93TGVmdFkgPSBpLmxvd0xlZnRZIC0gNDAKICAgICAgLy8gICB9CiAgICAgIC8vIH0KCgogICAgICB0aGlzLiRheGlvcygnb3JnL29yZGVyLXByb3Bvc2VyLWRvY3VtZW50LXNpZy1yZWdpb24nLCBvcmRlclByb3Bvc2VyRG9jdW1lbnRTaWducywgewogICAgICAgIG1ldGhvZDogJ3Bvc3QnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXM5LnNpZ25MaXN0ID0gW107CiAgICAgICAgICBfdGhpczkuZWRpdEluZGV4ID0gMDsKCiAgICAgICAgICBfdGhpczkuJGZ1bi5tc2coJ+etvuWQjeWMuuWfn+iuvue9ruaIkOWKn++8gScsICdzdWNjZXNzJyk7CgogICAgICAgICAgaWYgKF90aGlzOS5lZGl0TGlzdCA9PT0gX3RoaXM5LmRvY0luZm9MaXN0Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgX3RoaXM5LmlzU2hvdyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXM5LmNsZWFyRGF0YSgpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzOS5lZGl0TGlzdCsrOwoKICAgICAgICAgIF90aGlzOS5nZXREb2NJbWcoX3RoaXM5LmRvY0luZm9MaXN0W190aGlzOS5lZGl0TGlzdF0uZG9jSWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiaGFuZGxlQ2xvc2UiLCB0aGlzLmRvY0luZm9MaXN0LCB0aGlzLmRvY0luZm8pOwoKICAgICAgaWYgKHRoaXMuZG9jSW5mb0xpc3Quc29tZShmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLmNvdmVyU3RhdHVzID09IDA7CiAgICAgIH0pKSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgnPHAgc3R5bGU9ImNvbG9yOnJlZDsiPuiLpemcgOetvue9suaWh+S7tuacquiuvue9ruW9k+S6i+S6uuetvuWQjeWMuuWfn++8jOWwhuWvvOiHtOW9k+S6i+S6uua8j+etvuaWh+S7tuOAguWboOatpOeCueWHu+OAkOehruWumuOAkeaMiemSruS5i+WJje+8jOeJueivt+ehruiupOaJgOacieaWh+S7tuW3sue7j+iuvue9ruW9k+S6i+S6uuetvuWQjeWMuuWfn++8gTwvcD4nLCAn5pON5L2c5o+Q56S6JywgewogICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgY3VzdG9tQ2xhc3M6ICJjb25maXJtX2NsYXNzIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMC5jbGVhckRhdGEoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNsZWFyRGF0YSgpOwogICAgfSwKICAgIGNsZWFyRGF0YTogZnVuY3Rpb24gY2xlYXJEYXRhKCkgewogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmlzQnRuID0gdHJ1ZTsKICAgICAgdGhpcy5zaWduTGlzdCA9IFtdOwogICAgICB0aGlzLmltZ0xpc3QgPSBbXTsKICAgICAgdGhpcy5zZWxlY3RNYW4gPSBbXTsKICAgICAgdGhpcy51cEZpbGVMaXN0ID0gW107CiAgICAgIHRoaXMuZG9jSW5mb0xpc3QgPSBbXTsKICAgICAgdGhpcy5lZGl0TGlzdCA9IDA7CiAgICAgIHRoaXMuZWRpdEluZGV4ID0gMDsKICAgICAgdGhpcy5pc1NpemUgPSAxOwogICAgICB0aGlzLiRlbWl0KCdzdWNTaWduJyk7CiAgICB9CiAgfQp9Ow=="},null]}