{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/src/api/cloudMail.js","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/api/cloudMail.js","mtime":1634724784678},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKaW1wb3J0IHsgYXhpb3MgfSBmcm9tICdAL3V0aWxzL2F4aW9zJzsKZXhwb3J0IGZ1bmN0aW9uIGdldENsb3VkTGlzdERhdGEoX3gpIHsKICByZXR1cm4gX2dldENsb3VkTGlzdERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bor6bmg4XlpLTpg6jkv6Hmga8KCmZ1bmN0aW9uIF9nZXRDbG91ZExpc3REYXRhKCkgewogIF9nZXRDbG91ZExpc3REYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkZW5jZS1xdWVyeS8iLmNvbmNhdChwYXJhbXMucGFnZU51bSwgIi8iKS5jb25jYXQocGFyYW1zLnBhZ2VTaXplKSwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfZ2V0Q2xvdWRMaXN0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdWREYXRlaWwoX3gyKSB7CiAgcmV0dXJuIF9nZXRDbG91ZERhdGVpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPlui0ueeUqOS/oeaBrwoKZnVuY3Rpb24gX2dldENsb3VkRGF0ZWlsKCkgewogIF9nZXRDbG91ZERhdGVpbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvZXZpZGVuY2UtcXVlcnkvIi5jb25jYXQocGFyYW1zLmV2aWRJZCwgIi8iKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRDbG91ZERhdGVpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdWRNYWlsRGF0ZWlsKF94MykgewogIHJldHVybiBfZ2V0Q2xvdWRNYWlsRGF0ZWlsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g6I635Y+W5Y+W6K+B6LSm5Y+35L+h5oGvCgpmdW5jdGlvbiBfZ2V0Q2xvdWRNYWlsRGF0ZWlsKCkgewogIF9nZXRDbG91ZE1haWxEYXRlaWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2V2aWQtbWFpbC8iLmNvbmNhdChwYXJhbXMuZXZpZElkLCAiLyIpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX2dldENsb3VkTWFpbERhdGVpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdWRBY2NvdW50SW5mbyhfeDQpIHsKICByZXR1cm4gX2dldENsb3VkQWNjb3VudEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bmoYjku7bkv6Hmga/kuK3lvZPkuovkurrkv6Hmga8KCmZ1bmN0aW9uIF9nZXRDbG91ZEFjY291bnRJbmZvKCkgewogIF9nZXRDbG91ZEFjY291bnRJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkLXVzZXItaW5mby8iLmNvbmNhdChwYXJhbXMuZXZpZElkLCAiLyIpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKICByZXR1cm4gX2dldENsb3VkQWNjb3VudEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENsb3VkUGVyc29uSW5mbyhfeDUpIHsKICByZXR1cm4gX2dldENsb3VkUGVyc29uSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluivgeaNruaWh+S7tuWIl+ihqAoKZnVuY3Rpb24gX2dldENsb3VkUGVyc29uSW5mbygpIHsKICBfZ2V0Q2xvdWRQZXJzb25JbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9tYWlsLWV2aWQtcGVyc29uLyIuY29uY2F0KHBhcmFtcy5ldmlkSWQsICIvIikuY29uY2F0KHBhcmFtcy5wYWdlTnVtLCAiLyIpLmNvbmNhdChwYXJhbXMucGFnZVNpemUsICIvIiksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwogIHJldHVybiBfZ2V0Q2xvdWRQZXJzb25JbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRFdmlkTWF0ZXJpYWxMaXN0KF94NikgewogIHJldHVybiBfZ2V0RXZpZE1hdGVyaWFsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPlueJqea1geS/oeaBrwoKZnVuY3Rpb24gX2dldEV2aWRNYXRlcmlhbExpc3QoKSB7CiAgX2dldEV2aWRNYXRlcmlhbExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL21haWwtZXZpZC1tYXRlcmlhbC8iLmNvbmNhdChwYXJhbXMuZXZpZElkLCAiLyIpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTYpOwogIH0pKTsKICByZXR1cm4gX2dldEV2aWRNYXRlcmlhbExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2lzdGljc0xpc3QoX3g3KSB7CiAgcmV0dXJuIF9nZXRMb2dpc3RpY3NMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g6I635Y+W5Y+X6YCB6L6+5Lq65L+h5oGvCgpmdW5jdGlvbiBfZ2V0TG9naXN0aWNzTGlzdCgpIHsKICBfZ2V0TG9naXN0aWNzTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbC1ldmlkLWV4cHJlc3MtaW5mbzIvIi5jb25jYXQocGFyYW1zLmV2aWRJZCwgIi8iKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Ny5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRMb2dpc3RpY3NMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRQZXJzb25ScmVjZWlwdEluZm8oX3g4KSB7CiAgcmV0dXJuIF9nZXRQZXJzb25ScmVjZWlwdEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bln47luILkuInnuqfogZTliqjmlbDmja4KCmZ1bmN0aW9uIF9nZXRQZXJzb25ScmVjZWlwdEluZm8oKSB7CiAgX2dldFBlcnNvblJyZWNlaXB0SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbGV2aWQtcGVyc29uLXJlY2VpcHQvIi5jb25jYXQocGFyYW1zLmV2aWRJZCwgIi8iKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU4KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRQZXJzb25ScmVjZWlwdEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENpdHlEYXRhKCkgewogIHJldHVybiBfZ2V0Q2l0eURhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bnianmtYHor6bmg4UKCmZ1bmN0aW9uIF9nZXRDaXR5RGF0YSgpIHsKICBfZ2V0Q2l0eURhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3JlZ2lvbi10cmVlIiwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU5KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRDaXR5RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0TG9naXN0aWNzRGF0ZWlsKF94OSkgewogIHJldHVybiBfZ2V0TG9naXN0aWNzRGF0ZWlsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g6I635Y+W54mp5rWB6K+m5oOFCgpmdW5jdGlvbiBfZ2V0TG9naXN0aWNzRGF0ZWlsKCkgewogIF9nZXRMb2dpc3RpY3NEYXRlaWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2V2aWQtZW1zLWluZm8tdGVtcGxhdGVubz90ZW1wT3JkZXJObz0iLmNvbmNhdChwYXJhbXMudGVtcE9yZGVyTm8pLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTAuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTEwKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRMb2dpc3RpY3NEYXRlaWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2lzdGljc0RhdGVpbDIoX3gxMCkgewogIHJldHVybiBfZ2V0TG9naXN0aWNzRGF0ZWlsMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOeCueWHu+WRvOWPq+W/q+mAkuaOpeWPowoKZnVuY3Rpb24gX2dldExvZ2lzdGljc0RhdGVpbDIoKSB7CiAgX2dldExvZ2lzdGljc0RhdGVpbDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2V2aWQtZW1zLWluZm8tdGVtcGxhdGVubzI/dGVtcE9yZGVyTm89Ii5jb25jYXQocGFyYW1zLnRlbXBPcmRlck5vKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDExLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxMSk7CiAgfSkpOwogIHJldHVybiBfZ2V0TG9naXN0aWNzRGF0ZWlsMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbWFpbE9yZGVyKF94MTEpIHsKICByZXR1cm4gX21haWxPcmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOWbnuWvhOmAgOS7tuW/q+mAkuaOpeWPowoKZnVuY3Rpb24gX21haWxPcmRlcigpIHsKICBfbWFpbE9yZGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkLWVtczIiLCBwYXJhbXMsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTIpOwogIH0pKTsKICByZXR1cm4gX21haWxPcmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbWFpbE9yZGVyQmFjayhfeDEyKSB7CiAgcmV0dXJuIF9tYWlsT3JkZXJCYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9tYWlsT3JkZXJCYWNrKCkgewogIF9tYWlsT3JkZXJCYWNrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkLWVtczIiLCBwYXJhbXMsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMy5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTMpOwogIH0pKTsKICByZXR1cm4gX21haWxPcmRlckJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEVudHJ5TWFpbExpc3QoX3gxMykgewogIHJldHVybiBfZ2V0RW50cnlNYWlsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0RW50cnlNYWlsTGlzdCgpIHsKICBfZ2V0RW50cnlNYWlsTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbC1ldmlkLWV4cHJlc3MtbGlzdC8iLmNvbmNhdChwYXJhbXMuZXZpZElkLCAiLyIpLmNvbmNhdChwYXJhbXMucGFnZU51bSwgIi8iKS5jb25jYXQocGFyYW1zLnBhZ2VTaXplKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxNCk7CiAgfSkpOwogIHJldHVybiBfZ2V0RW50cnlNYWlsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZG93bmxvYWRFbnRyeUZpbGUoX3gxNCkgewogIHJldHVybiBfZG93bmxvYWRFbnRyeUZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2Rvd25sb2FkRW50cnlGaWxlKCkgewogIF9kb3dubG9hZEVudHJ5RmlsZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvZG93bmxvYWQtb3JkZXItZXZpZC1yZS1maWxlP29yZGVySWQ9Ii5jb25jYXQocGFyYW1zLm9yZGVySWQsICImb3JkZXJFdmlkUmVJZEFycmF5PSIpLmNvbmNhdChwYXJhbXMub3JkZXJFdmlkUmVJZEFycmF5KSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxNSk7CiAgfSkpOwogIHJldHVybiBfZG93bmxvYWRFbnRyeUZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkRW50cnkoX3gxNSkgewogIHJldHVybiBfZG93bmxvYWRFbnRyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOaPkOS6pOe8lui+keWQjueahOi0ueeUqAoKZnVuY3Rpb24gX2Rvd25sb2FkRW50cnkoKSB7CiAgX2Rvd25sb2FkRW50cnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2Rvd25Mb2FkLWV2aWQtZmlsZS1maWxlVHlwZS8iLmNvbmNhdChwYXJhbXMuZXZpZElkLCAiLyIpLmNvbmNhdChwYXJhbXMuZmlsZVR5cGUpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTYuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTE2KTsKICB9KSk7CiAgcmV0dXJuIF9kb3dubG9hZEVudHJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBzdWJtaXRFZGl0Q29zdChfeDE2KSB7CiAgcmV0dXJuIF9zdWJtaXRFZGl0Q29zdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc3VibWl0RWRpdENvc3QoKSB7CiAgX3N1Ym1pdEVkaXRDb3N0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy91cGRhdGUtZXZpZE1haWwiLCBwYXJhbXMsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNy5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTcpOwogIH0pKTsKICByZXR1cm4gX3N1Ym1pdEVkaXRDb3N0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRDb3N0SW5mbyhfeDE3KSB7CiAgcmV0dXJuIF9nZXRDb3N0SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0Q29zdEluZm8oKSB7CiAgX2dldENvc3RJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9tYWlsLWV2aWQtY29zdC8iLmNvbmNhdChwYXJhbXMuZXZpZE1haWxJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxOC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTgpOwogIH0pKTsKICByZXR1cm4gX2dldENvc3RJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBtb2RpZnlDb3N0SW5mb3JtYXRpb24oX3gxOCkgewogIHJldHVybiBfbW9kaWZ5Q29zdEluZm9ybWF0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9tb2RpZnlDb3N0SW5mb3JtYXRpb24oKSB7CiAgX21vZGlmeUNvc3RJbmZvcm1hdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbC1ldmlkLWNvc3QiLCBwYXJhbXMsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxOS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTkpOwogIH0pKTsKICByZXR1cm4gX21vZGlmeUNvc3RJbmZvcm1hdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcHJpbnRFeHByZXNzU2hlZXQoX3gxOSkgewogIHJldHVybiBfcHJpbnRFeHByZXNzU2hlZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5borqLljZXor6bmg4UKCmZ1bmN0aW9uIF9wcmludEV4cHJlc3NTaGVldCgpIHsKICBfcHJpbnRFeHByZXNzU2hlZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3BhY2thZ2UtcHJpbnQvIi5jb25jYXQocGFyYW1zLmV2aWRJZCwgIi8iKS5jb25jYXQocGFyYW1zLm1haWxFdmlkRXhwcmVzc0luZm9JZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyMC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMjApOwogIH0pKTsKICByZXR1cm4gX3ByaW50RXhwcmVzc1NoZWV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRyeURhdGVpbChfeDIwKSB7CiAgcmV0dXJuIF9nZXRFbnRyeURhdGVpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOafpeivoui0puWPt+S/oeaBrwoKZnVuY3Rpb24gX2dldEVudHJ5RGF0ZWlsKCkgewogIF9nZXRFbnRyeURhdGVpbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXIvIi5jb25jYXQocGFyYW1zLm9yZGVySWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MjEuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIxKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRFbnRyeURhdGVpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0QWNjb3VudEluZm8oX3gyMSkgewogIHJldHVybiBfZ2V0QWNjb3VudEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5blvZPkuovkurrliJfooagKCmZ1bmN0aW9uIF9nZXRBY2NvdW50SW5mbygpIHsKICBfZ2V0QWNjb3VudEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3VzZXItYWNjb3VudC8iLmNvbmNhdChwYXJhbXMuYWNjb3VudElkKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIyLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyMik7CiAgfSkpOwogIHJldHVybiBfZ2V0QWNjb3VudEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldFByb3Bvc2VJbmZvKF94MjIpIHsKICByZXR1cm4gX2dldFByb3Bvc2VJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRQcm9wb3NlSW5mbygpIHsKICBfZ2V0UHJvcG9zZUluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL29yZGVyLXByb3Bvc2UvIi5jb25jYXQocGFyYW1zLm9yZGVySWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MjMuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIzKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRQcm9wb3NlSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0TWFpbENvc3RJbmZvKF94MjMpIHsKICByZXR1cm4gX2dldE1haWxDb3N0SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0TWFpbENvc3RJbmZvKCkgewogIF9nZXRNYWlsQ29zdEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL21haWwtb3JkZXItbm90YXJ5LWluZm8tY29zdC8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyNC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMjQpOwogIH0pKTsKICByZXR1cm4gX2dldE1haWxDb3N0SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0UHJvcG9zZURhdGVhaWxJbmZvKF94MjQpIHsKICByZXR1cm4gX2dldFByb3Bvc2VEYXRlYWlsSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluadkOaWmeW6kwoKZnVuY3Rpb24gX2dldFByb3Bvc2VEYXRlYWlsSW5mbygpIHsKICBfZ2V0UHJvcG9zZURhdGVhaWxJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9vcmRlci1wcm9wb3NlLWRldGFpbC8iLmNvbmNhdChwYXJhbXMub3JkZXJQcm9wb3NlSWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MjUuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTI1KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRQcm9wb3NlRGF0ZWFpbEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldE1hdGVyaWFsRGVwb3QoX3gyNSkgewogIHJldHVybiBfZ2V0TWF0ZXJpYWxEZXBvdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOS/ruaUueiuouWNleWfuuacrOS/oeaBrwoKZnVuY3Rpb24gX2dldE1hdGVyaWFsRGVwb3QoKSB7CiAgX2dldE1hdGVyaWFsRGVwb3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL29yZy1tYXRlcmlhbC1saXN0LyIuY29uY2F0KHBhcmFtcy5vcmRlcklkLCAiP21hdGVyaWFsTmFtZT0iKS5jb25jYXQocGFyYW1zLm1hdGVyaWFsTmFtZSksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyNi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMjYpOwogIH0pKTsKICByZXR1cm4gX2dldE1hdGVyaWFsRGVwb3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1vZGlmaWNhdGlvbk9yZGVySW5mbyhfeDI2KSB7CiAgcmV0dXJuIF9tb2RpZmljYXRpb25PcmRlckluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDnoa7orqTorqLljZXotLnnlKjlt7LmlK/ku5ggLyDnoa7orqTlj5jmm7TkuLrnur/kuIvmlK/ku5gKCmZ1bmN0aW9uIF9tb2RpZmljYXRpb25PcmRlckluZm8oKSB7CiAgX21vZGlmaWNhdGlvbk9yZGVySW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNyhwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvdXBkYXRlLW9yZGVyLWluZm8iLCBwYXJhbXMsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyNy5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMjcpOwogIH0pKTsKICByZXR1cm4gX21vZGlmaWNhdGlvbk9yZGVySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gc2VuZE5vdGFyeVBhcGVyKF94MjcpIHsKICByZXR1cm4gX3NlbmROb3RhcnlQYXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOS/ruaUueW9k+S6i+S6uuS/oeaBrwoKZnVuY3Rpb24gX3NlbmROb3RhcnlQYXBlcigpIHsKICBfc2VuZE5vdGFyeVBhcGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KGRhdGEpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI4JChfY29udGV4dDI4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvc2VuZC1ub3RhcnktcGFwZXI/b3JkZXJJZD0iLmNvbmNhdChkYXRhLm9yZGVySWQsICImb3JkZXJTdGF0dXM9IikuY29uY2F0KGRhdGEub3JkZXJTdGF0dXMpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mjguc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTI4KTsKICB9KSk7CiAgcmV0dXJuIF9zZW5kTm90YXJ5UGFwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1vZGlmaWNhdGlvblBhcnRpZXNJbmZvKF94MjgpIHsKICByZXR1cm4gX21vZGlmaWNhdGlvblBhcnRpZXNJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5L+u5pS56K6i5Y2V6LS555So5L+h5oGvCgpmdW5jdGlvbiBfbW9kaWZpY2F0aW9uUGFydGllc0luZm8oKSB7CiAgX21vZGlmaWNhdGlvblBhcnRpZXNJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjkucHJldiA9IF9jb250ZXh0MjkubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy91cGRhdGUtb3JkZXItcHJvcG9zZS1pbmZvIiwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mjkuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTI5KTsKICB9KSk7CiAgcmV0dXJuIF9tb2RpZmljYXRpb25QYXJ0aWVzSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbW9kaWZpY2F0aW9uQ29zdEluZm8oX3gyOSkgewogIHJldHVybiBfbW9kaWZpY2F0aW9uQ29zdEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bmlofkuabmnZDmlpnliJfooagKCmZ1bmN0aW9uIF9tb2RpZmljYXRpb25Db3N0SW5mbygpIHsKICBfbW9kaWZpY2F0aW9uQ29zdEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMCQoX2NvbnRleHQzMCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMC5wcmV2ID0gX2NvbnRleHQzMC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3VwZGF0ZS1ub3RhcnktY29zdC1kZXRhaWwyLyIuY29uY2F0KHBhcmFtcy5vcmRlcklkKSwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MzAuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMwKTsKICB9KSk7CiAgcmV0dXJuIF9tb2RpZmljYXRpb25Db3N0SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRNYXRlcmlhbExpc3QoX3gzMCkgewogIHJldHVybiBfZ2V0RG9jdW1lbnRNYXRlcmlhbExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldERvY3VtZW50TWF0ZXJpYWxMaXN0KCkgewogIF9nZXREb2N1bWVudE1hdGVyaWFsTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMxLnByZXYgPSBfY29udGV4dDMxLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbC1vcmRlci1kb2N1bWVudC1saXN0P29yZGVySWQ9Ii5jb25jYXQocGFyYW1zLm9yZGVySWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MzEuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMxKTsKICB9KSk7CiAgcmV0dXJuIF9nZXREb2N1bWVudE1hdGVyaWFsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0TG9naXN0aWNJbmZvKF94MzEpIHsKICByZXR1cm4gX2dldExvZ2lzdGljSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0TG9naXN0aWNJbmZvKCkgewogIF9nZXRMb2dpc3RpY0luZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMi5wcmV2ID0gX2NvbnRleHQzMi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL21haWwtb3JkZXItZXhwcmVzcy1zZW5kMj9vcmRlck51bT0iLmNvbmNhdChwYXJhbXMub3JkZXJOdW0pLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MzIuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMyKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRMb2dpc3RpY0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVMaXN0KF94MzIpIHsKICByZXR1cm4gX2dldEZpbGVMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gIOiOt+WPlumihuivgeS/oeaBrwoKZnVuY3Rpb24gX2dldEZpbGVMaXN0KCkgewogIF9nZXRGaWxlTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMyhwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMzJChfY29udGV4dDMzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMzLnByZXYgPSBfY29udGV4dDMzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXItZXZpZC1yZS1maWxlLWxpc3QvIi5jb25jYXQocGFyYW1zLm9yZGVySWQsICIvIikuY29uY2F0KHBhcmFtcy5wYWdlTnVtLCAiLyIpLmNvbmNhdChwYXJhbXMucGFnZVNpemUpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MzMuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMzKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRGaWxlTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0UmVjZWl2ZXJJbmZvKF94MzMpIHsKICByZXR1cm4gX2dldFJlY2VpdmVySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluaUtuS7tuS6uuS/oeaBrwoKZnVuY3Rpb24gX2dldFJlY2VpdmVySW5mbygpIHsKICBfZ2V0UmVjZWl2ZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzQkKF9jb250ZXh0MzQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9zZWxlY3Qtb3JkZXItb2ZmbGluZS1yZWNlaXZlP29yZGVyTnVtPSIuY29uY2F0KHBhcmFtcy5vcmRlck51bSksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzNC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMzQpOwogIH0pKTsKICByZXR1cm4gX2dldFJlY2VpdmVySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0UmVjaXBpZW50c0luZm8oX3gzNCkgewogIHJldHVybiBfZ2V0UmVjaXBpZW50c0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDkv67mlLnpoobor4Hkurrkv6Hmga8KCmZ1bmN0aW9uIF9nZXRSZWNpcGllbnRzSW5mbygpIHsKICBfZ2V0UmVjaXBpZW50c0luZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNSQoX2NvbnRleHQzNSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNS5wcmV2ID0gX2NvbnRleHQzNS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MzUubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3NlbGVjdC1vcmRlci1leHByZXNzLXNlbmQyP29yZGVyTnVtPSIuY29uY2F0KHBhcmFtcy5vcmRlck51bSksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzNS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMzUpOwogIH0pKTsKICByZXR1cm4gX2dldFJlY2lwaWVudHNJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBtb2RpZmljYXRpb25SZWNlaXZlSW5mbyhfeDM1KSB7CiAgcmV0dXJuIF9tb2RpZmljYXRpb25SZWNlaXZlSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOS/ruaUueaUtuS7tuS6uuS/oeaBrwoKZnVuY3Rpb24gX21vZGlmaWNhdGlvblJlY2VpdmVJbmZvKCkgewogIF9tb2RpZmljYXRpb25SZWNlaXZlSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNihwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM2JChfY29udGV4dDM2KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDM2LnByZXYgPSBfY29udGV4dDM2Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzNi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvdXBkYXRlLW9yZGVyLW9mZmxpbmUtcmVjZWl2ZSIsIHBhcmFtcywgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDM2LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzNik7CiAgfSkpOwogIHJldHVybiBfbW9kaWZpY2F0aW9uUmVjZWl2ZUluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1vZGlmaWNhdGlvblJlY2lwaWVudHNJbmZvKF94MzYpIHsKICByZXR1cm4gX21vZGlmaWNhdGlvblJlY2lwaWVudHNJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5re75Yqg5pS25Lu25Lq65L+h5oGvCgpmdW5jdGlvbiBfbW9kaWZpY2F0aW9uUmVjaXBpZW50c0luZm8oKSB7CiAgX21vZGlmaWNhdGlvblJlY2lwaWVudHNJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzckKF9jb250ZXh0MzcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzcucHJldiA9IF9jb250ZXh0MzcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDM3Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy91cGRhdGUtb3JkZXItZXhwcmVzcy1zZW5kMiIsIHBhcmFtcywgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDM3LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzNyk7CiAgfSkpOwogIHJldHVybiBfbW9kaWZpY2F0aW9uUmVjaXBpZW50c0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFkZG5SZWNpcGllbnRzSW5mbyhfeDM3KSB7CiAgcmV0dXJuIF9hZGRuUmVjaXBpZW50c0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bor4Hmja7mnZDmlpnliJfooagKCmZ1bmN0aW9uIF9hZGRuUmVjaXBpZW50c0luZm8oKSB7CiAgX2FkZG5SZWNpcGllbnRzSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzOChwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM4JChfY29udGV4dDM4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDM4LnByZXYgPSBfY29udGV4dDM4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzOC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvYWRkLW9yZGVyLWV4cHJlc3MyIiwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mzguc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTM4KTsKICB9KSk7CiAgcmV0dXJuIF9hZGRuUmVjaXBpZW50c0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEV2aWRlbmNlTWF0ZXJpYWwoX3gzOCkgewogIHJldHVybiBfZ2V0RXZpZGVuY2VNYXRlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluiuouWNleaJgOacieWFs+ezu+S6uuS4i+eahOadkOaWmeexu+Wei+WPiuadkOaWmeaWh+S7tgoKZnVuY3Rpb24gX2dldEV2aWRlbmNlTWF0ZXJpYWwoKSB7CiAgX2dldEV2aWRlbmNlTWF0ZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzkocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOSQoX2NvbnRleHQzOSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOS5wcmV2ID0gX2NvbnRleHQzOS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MzkubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL21haWwtb3JkZXItbWF0ZXJpYWwtbGlzdC8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM5LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzOS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMzkpOwogIH0pKTsKICByZXR1cm4gX2dldEV2aWRlbmNlTWF0ZXJpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFR5cGVNYXRlcmlhbChfeDM5KSB7CiAgcmV0dXJuIF9nZXRBbGxUeXBlTWF0ZXJpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5borqLljZXmkJzntKLlhbPns7vkurrkuIvnmoTmnZDmlpnnsbvlnovlj4rmnZDmlpnmlofku7YKCmZ1bmN0aW9uIF9nZXRBbGxUeXBlTWF0ZXJpYWwoKSB7CiAgX2dldEFsbFR5cGVNYXRlcmlhbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MChwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQwJChfY29udGV4dDQwKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQwLnByZXYgPSBfY29udGV4dDQwLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0MC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXItcHJvcG9zZXItbWF0ZXJpYWwtYWxsLXByb3Bvc2VyLyIuY29uY2F0KHBhcmFtcy5vcmRlcklkKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDAuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQwLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQwLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0MCk7CiAgfSkpOwogIHJldHVybiBfZ2V0QWxsVHlwZU1hdGVyaWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRBbG9uZVR5cGVNYXRlcmlhbChfeDQwKSB7CiAgcmV0dXJuIF9nZXRBbG9uZVR5cGVNYXRlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOmihOiniOWbvueJhwoKZnVuY3Rpb24gX2dldEFsb25lVHlwZU1hdGVyaWFsKCkgewogIF9nZXRBbG9uZVR5cGVNYXRlcmlhbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQxJChfY29udGV4dDQxKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQxLnByZXYgPSBfY29udGV4dDQxLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0MS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXItcHJvcG9zZXItbWF0ZXJpYWwtcHJvcG9zZXJJZC8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCwgIi8iKS5jb25jYXQocGFyYW1zLnByb3Bvc2VySWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NDEuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDEuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQxKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRBbG9uZVR5cGVNYXRlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcHJldmlld01hdGVyaWFscyhfeDQxKSB7CiAgcmV0dXJuIF9wcmV2aWV3TWF0ZXJpYWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5a6h5qC45Y2V5Liq6K6i5Y2V5p2Q5paZCgpmdW5jdGlvbiBfcHJldmlld01hdGVyaWFscygpIHsKICBfcHJldmlld01hdGVyaWFscyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MihwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQyJChfY29udGV4dDQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQyLnByZXYgPSBfY29udGV4dDQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCdvcmcvb3JkZXItbWF0ZXJpYWwtcHJldmlldy1pbWcnLCBwYXJhbXMpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQyLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0Mik7CiAgfSkpOwogIHJldHVybiBfcHJldmlld01hdGVyaWFscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcmV2aWV3U2luZ2xlTWF0ZXJpYWwoX3g0MikgewogIHJldHVybiBfcmV2aWV3U2luZ2xlTWF0ZXJpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDlrqHmoLjmiYDmnInorqLljZXmnZDmlpkKCmZ1bmN0aW9uIF9yZXZpZXdTaW5nbGVNYXRlcmlhbCgpIHsKICBfcmV2aWV3U2luZ2xlTWF0ZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDMocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MyQoX2NvbnRleHQ0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0My5wcmV2ID0gX2NvbnRleHQ0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygnb3JnL3VwZGF0ZS1vcmRlci1wcm9wb3Nlci1tYXRlcmlhbCcsIHBhcmFtcywgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQzLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0Myk7CiAgfSkpOwogIHJldHVybiBfcmV2aWV3U2luZ2xlTWF0ZXJpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHJldmlld0FsbE1hdGVyaWFsKF94NDMpIHsKICByZXR1cm4gX3Jldmlld0FsbE1hdGVyaWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9yZXZpZXdBbGxNYXRlcmlhbCgpIHsKICBfcmV2aWV3QWxsTWF0ZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDQocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NCQoX2NvbnRleHQ0NCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0NC5wcmV2ID0gX2NvbnRleHQ0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NDQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL29yZGVyLW1hdGVyaWFsLWFwcHJvdmVkLyIuY29uY2F0KHBhcmFtcy5vcmRlcklkKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQ0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0NCk7CiAgfSkpOwogIHJldHVybiBfcmV2aWV3QWxsTWF0ZXJpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHN1cHBsZW1lbnRhcnlNYXRlcmlhbHMoX3g0NCkgewogIHJldHVybiBfc3VwcGxlbWVudGFyeU1hdGVyaWFscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOWIoOmZpOivgeaNruadkOaWmQoKZnVuY3Rpb24gX3N1cHBsZW1lbnRhcnlNYXRlcmlhbHMoKSB7CiAgX3N1cHBsZW1lbnRhcnlNYXRlcmlhbHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDUocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NSQoX2NvbnRleHQ0NSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0NS5wcmV2ID0gX2NvbnRleHQ0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NDUubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL29yZGVyLW5lZWQtbWF0ZXJpYWwtdXBkYXRlIiwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0NS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NDUuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQ1KTsKICB9KSk7CiAgcmV0dXJuIF9zdXBwbGVtZW50YXJ5TWF0ZXJpYWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBEZWxldGVNYXRlcmlhbHMoX3g0NSkgewogIHJldHVybiBfRGVsZXRlTWF0ZXJpYWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5Yig6Zmk5paH5Lmm5p2Q5paZCgpmdW5jdGlvbiBfRGVsZXRlTWF0ZXJpYWxzKCkgewogIF9EZWxldGVNYXRlcmlhbHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDYocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NiQoX2NvbnRleHQ0NikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Ni5wcmV2ID0gX2NvbnRleHQ0Ni5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NDYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2RlbGV0ZS1vcmRlci1wcm9wb3Nlci1yZS1maWxlP2lkPSIuY29uY2F0KHBhcmFtcy5pZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0Ni5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNDYpOwogIH0pKTsKICByZXR1cm4gX0RlbGV0ZU1hdGVyaWFscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gRGVsZXRlV3JpdE1hdGVyaWFscyhfeDQ2KSB7CiAgcmV0dXJuIF9EZWxldGVXcml0TWF0ZXJpYWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5p+l6K+i6K6i5Y2V5piv5ZCm5YW35aSH5a6h5qC46YCa6L+H55qE5p2h5Lu2CgpmdW5jdGlvbiBfRGVsZXRlV3JpdE1hdGVyaWFscygpIHsKICBfRGVsZXRlV3JpdE1hdGVyaWFscyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0NyhwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ3JChfY29udGV4dDQ3KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQ3LnByZXYgPSBfY29udGV4dDQ3Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXItZG9jdW1lbnQvIi5jb25jYXQocGFyYW1zLmlkKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQ3LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0Nyk7CiAgfSkpOwogIHJldHVybiBfRGVsZXRlV3JpdE1hdGVyaWFscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lV2hldGhlcihfeDQ3KSB7CiAgcmV0dXJuIF9kZXRlcm1pbmVXaGV0aGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5p2Q5paZ5bqT5re75Yqg5p2Q5paZCgpmdW5jdGlvbiBfZGV0ZXJtaW5lV2hldGhlcigpIHsKICBfZGV0ZXJtaW5lV2hldGhlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OChwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ4JChfY29udGV4dDQ4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQ4LnByZXYgPSBfY29udGV4dDQ4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0OC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JkZXItcGFzc2luZy1jaGVjay8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0OC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0OC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNDgpOwogIH0pKTsKICByZXR1cm4gX2RldGVybWluZVdoZXRoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFkZERldGVybWluZShfeDQ4KSB7CiAgcmV0dXJuIF9hZGREZXRlcm1pbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDmt7vliqDkuLTml7bmnZDmlpkKCmZ1bmN0aW9uIF9hZGREZXRlcm1pbmUoKSB7CiAgX2FkZERldGVybWluZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ5JChfY29udGV4dDQ5KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQ5LnByZXYgPSBfY29udGV4dDQ5Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0OS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvYWRkLW9yZy1uZWVkLW1hdGVyaWFsLyIuY29uY2F0KHBhcmFtc1swXS5vcmRlcklkKSwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0OS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NDkuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDkuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQ5KTsKICB9KSk7CiAgcmV0dXJuIF9hZGREZXRlcm1pbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFkZE5lZWREZXRlcm1pbmUoX3g0OSkgewogIHJldHVybiBfYWRkTmVlZERldGVybWluZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluWFrOivgeWkhOaJgOacieeahOWKnuivgeeCuQoKZnVuY3Rpb24gX2FkZE5lZWREZXRlcm1pbmUoKSB7CiAgX2FkZE5lZWREZXRlcm1pbmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTAocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MCQoX2NvbnRleHQ1MCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1MC5wcmV2ID0gX2NvbnRleHQ1MC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NTAubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2FkZC1vcmRlci1uZWVkLW1hdGVyaWFsLyIuY29uY2F0KHBhcmFtc1swXS5vcmRlcklkKSwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NTAuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTAuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTUwKTsKICB9KSk7CiAgcmV0dXJuIF9hZGROZWVkRGV0ZXJtaW5lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxBZGRyZXNzKCkgewogIHJldHVybiBfZ2V0QWxsQWRkcmVzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOWPkemAgemihuivgeefreS/oQoKZnVuY3Rpb24gX2dldEFsbEFkZHJlc3MoKSB7CiAgX2dldEFsbEFkZHJlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTEoKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MSQoX2NvbnRleHQ1MSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1MS5wcmV2ID0gX2NvbnRleHQ1MS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NTEubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygnb3JnL2dldC1vcmctb2ZmaWNlLWxpc3QnLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUxLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1MS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNTEpOwogIH0pKTsKICByZXR1cm4gX2dldEFsbEFkZHJlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShfeDUwKSB7CiAgcmV0dXJuIF9zZW5kVGV4dE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3NlbmRUZXh0TWVzc2FnZSgpIHsKICBfc2VuZFRleHRNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUyKHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTIkKF9jb250ZXh0NTIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTIucHJldiA9IF9jb250ZXh0NTIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDUyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9vcmRlci1zbXMtc2VuZC8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1Mi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNTIpOwogIH0pKTsKICByZXR1cm4gX3NlbmRUZXh0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcHJldmlld0RvY3VtZW50YXJ5KF94NTEpIHsKICByZXR1cm4gX3ByZXZpZXdEb2N1bWVudGFyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiuouWNleaWsOWinuWFs+ezu+S6uuadkOaWmQoKZnVuY3Rpb24gX3ByZXZpZXdEb2N1bWVudGFyeSgpIHsKICBfcHJldmlld0RvY3VtZW50YXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUzKHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTMkKF9jb250ZXh0NTMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTMucHJldiA9IF9jb250ZXh0NTMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDUzLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9vcmRlci1kb2N1bWVudC1wcmV2aWV3LyIuY29uY2F0KHBhcmFtcy5vcmRlckRvY3VtZW50SWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NTMuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTUzKTsKICB9KSk7CiAgcmV0dXJuIF9wcmV2aWV3RG9jdW1lbnRhcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFkZEFwcGxpY2F0aW9uTWF0ZXJpYWwoX3g1MikgewogIHJldHVybiBfYWRkQXBwbGljYXRpb25NYXRlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOS4i+i9vQoKZnVuY3Rpb24gX2FkZEFwcGxpY2F0aW9uTWF0ZXJpYWwoKSB7CiAgX2FkZEFwcGxpY2F0aW9uTWF0ZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTQocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NCQoX2NvbnRleHQ1NCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1NC5wcmV2ID0gX2NvbnRleHQ1NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NTQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3NhdmUtb3JkZXItcHJvcG9zZXItcmUtZmlsZS1saXN0IiwgcGFyYW1zLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NTQuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTU0KTsKICB9KSk7CiAgcmV0dXJuIF9hZGRBcHBsaWNhdGlvbk1hdGVyaWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGUoX3g1MykgewogIHJldHVybiBfZG93bmxvYWRGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9kb3dubG9hZEZpbGUoKSB7CiAgX2Rvd25sb2FkRmlsZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1NShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU1JChfY29udGV4dDU1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDU1LnByZXYgPSBfY29udGV4dDU1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ1NS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvZG93bmxvYWQtbWF0ZXJpYWw/b3JkZXJJZD0iLmNvbmNhdChwYXJhbXMub3JkZXJJZCwgIiZkb2N1bWVudElkPSIpLmNvbmNhdChwYXJhbXMuaWQsICImZG93bmxvYWRUeXBlPSIpLmNvbmNhdChwYXJhbXMuZG93bmxvYWRUeXBlKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDU1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1NSk7CiAgfSkpOwogIHJldHVybiBfZG93bmxvYWRGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRPcmdJbmZvKF94NTQpIHsKICByZXR1cm4gX2dldE9yZ0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDlpI3liLbnrb7nvbLnoIEKCmZ1bmN0aW9uIF9nZXRPcmdJbmZvKCkgewogIF9nZXRPcmdJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU2KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTYkKF9jb250ZXh0NTYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTYucHJldiA9IF9jb250ZXh0NTYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDU2Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkLW9yZy1vZmZpY2UtaW5mby8iLmNvbmNhdChwYXJhbXMuZXZpZElkKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDU2LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU2LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1Nik7CiAgfSkpOwogIHJldHVybiBfZ2V0T3JnSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gU2lnbmVkQ29kZUNvcHkoX3g1NSkgewogIHJldHVybiBfU2lnbmVkQ29kZUNvcHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDojrflj5bnmbvlvZXkurrlkZjmmK/lkKbmnInmk43kvZzmnYPpmZAKCmZ1bmN0aW9uIF9TaWduZWRDb2RlQ29weSgpIHsKICBfU2lnbmVkQ29kZUNvcHkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTcocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NyQoX2NvbnRleHQ1NykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1Ny5wcmV2ID0gX2NvbnRleHQ1Ny5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NTcubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL1FSQ29kZT9vcmRlcklkPSIuY29uY2F0KHBhcmFtcy5vcmRlcklkLCAiJnVzZXJUeXBlPSIpLmNvbmNhdChwYXJhbXMudXNlclR5cGUsICImcXJDb2RlTmFtZT0iKS5jb25jYXQocGFyYW1zLnFyQ29kZU5hbWUpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ny5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NTcuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTcuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTU3KTsKICB9KSk7CiAgcmV0dXJuIF9TaWduZWRDb2RlQ29weS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0SnVyaXNkaWN0aW9uKF94NTYpIHsKICByZXR1cm4gX2dldEp1cmlzZGljdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0SnVyaXNkaWN0aW9uKCkgewogIF9nZXRKdXJpc2RpY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTgocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1OCQoX2NvbnRleHQ1OCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1OC5wcmV2ID0gX2NvbnRleHQ1OC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NTgubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3F1ZXJ5LW9yZGVyLWp1cmlzZGljdGlvbi8iLmNvbmNhdChwYXJhbXMub3JkZXJJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU4LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1OC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNTgpOwogIH0pKTsKICByZXR1cm4gX2dldEp1cmlzZGljdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RXZpZEp1cmlzZGljdGlvbihfeDU3KSB7CiAgcmV0dXJuIF9nZXRFdmlkSnVyaXNkaWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5p+l6K+i5py65p6E5YWz57O75Lq6CgpmdW5jdGlvbiBfZ2V0RXZpZEp1cmlzZGljdGlvbigpIHsKICBfZ2V0RXZpZEp1cmlzZGljdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OShwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU5JChfY29udGV4dDU5KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDU5LnByZXYgPSBfY29udGV4dDU5Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ1OS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvcXVlcnktZXZpZC1qdXJpc2RpY3Rpb24vIi5jb25jYXQocGFyYW1zLmV2aWRJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU5LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1OS5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNTkpOwogIH0pKTsKICByZXR1cm4gX2dldEV2aWRKdXJpc2RpY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEVudGVycHJpc2VQcml2eUluZm8oX3g1OCkgewogIHJldHVybiBfZ2V0RW50ZXJwcmlzZVByaXZ5SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOafpeivouacuuaehOWFs+ezu+S6ugoKZnVuY3Rpb24gX2dldEVudGVycHJpc2VQcml2eUluZm8oKSB7CiAgX2dldEVudGVycHJpc2VQcml2eUluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjAocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MCQoX2NvbnRleHQ2MCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2MC5wcmV2ID0gX2NvbnRleHQ2MC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NjAubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3F1ZXJ5LWFjY291bnQtdXNlclBlcnNvbmJvb2svIi5jb25jYXQocGFyYW1zLmFjY291bnRJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2MC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNjApOwogIH0pKTsKICByZXR1cm4gX2dldEVudGVycHJpc2VQcml2eUluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbFNlbnRTdGVtKF94NTkpIHsKICByZXR1cm4gX2NhbmNlbFNlbnRTdGVtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9jYW5jZWxTZW50U3RlbSgpIHsKICBfY2FuY2VsU2VudFN0ZW0gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjEocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MSQoX2NvbnRleHQ2MSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2MS5wcmV2ID0gX2NvbnRleHQ2MS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NjEubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2V2aWQtZW1zLWNhbmNlbDIvIi5jb25jYXQocGFyYW1zLmV2aWRNYWlsSWQpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjEuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDYxLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYxLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2MSk7CiAgfSkpOwogIHJldHVybiBfY2FuY2VsU2VudFN0ZW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldFNoaXBwaW5nSW5mb3JtYXRpb24oX3g2MCkgewogIHJldHVybiBfZ2V0U2hpcHBpbmdJbmZvcm1hdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0U2hpcHBpbmdJbmZvcm1hdGlvbigpIHsKICBfZ2V0U2hpcHBpbmdJbmZvcm1hdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MihwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYyJChfY29udGV4dDYyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDYyLnByZXYgPSBfY29udGV4dDYyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvZXZpZGVuY2UtcXVlcnkvIi5jb25jYXQocGFyYW1zLmV2aWRJZCksIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2Mi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNjIpOwogIH0pKTsKICByZXR1cm4gX2dldFNoaXBwaW5nSW5mb3JtYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNlbmRTbXNUb1RoZVBhcnRpZXMoX3g2MSkgewogIHJldHVybiBfc2VuZFNtc1RvVGhlUGFydGllcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluaJv+WKnuS6ugoKZnVuY3Rpb24gX3NlbmRTbXNUb1RoZVBhcnRpZXMoKSB7CiAgX3NlbmRTbXNUb1RoZVBhcnRpZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjMocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MyQoX2NvbnRleHQ2MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2My5wcmV2ID0gX2NvbnRleHQ2My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NjMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL3NlbmQtdXJsLWJ5LXNtcz9vcmRlcklkPSIuY29uY2F0KHBhcmFtcy5vcmRlcklkLCAiJmNvbmZUeXBlPTEiKSwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDYzLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2Myk7CiAgfSkpOwogIHJldHVybiBfc2VuZFNtc1RvVGhlUGFydGllcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0T3BlcmF0b3IoKSB7CiAgcmV0dXJuIF9nZXRPcGVyYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluW9k+WJjeWFrOivgeWkhOeahOWKnuivgeeCuQoKZnVuY3Rpb24gX2dldE9wZXJhdG9yKCkgewogIF9nZXRPcGVyYXRvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NCgpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY0JChfY29udGV4dDY0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDY0LnByZXYgPSBfY29udGV4dDY0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ2NC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvb3JnLXVzZXItbGlzdCIsIHt9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2NC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNjQpOwogIH0pKTsKICByZXR1cm4gX2dldE9wZXJhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRPcmdPZmZpY2VMaXN0KF94NjIpIHsKICByZXR1cm4gX2dldE9yZ09mZmljZUxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDlr7zlh7rorqLljZUKCmZ1bmN0aW9uIF9nZXRPcmdPZmZpY2VMaXN0KCkgewogIF9nZXRPcmdPZmZpY2VMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY1KHBhcmFtcykgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjUkKF9jb250ZXh0NjUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjUucHJldiA9IF9jb250ZXh0NjUubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDY1Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9vcmctb2ZmaWNlLWJ5LW9yZ0lkIiwge30sIHsKICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDY1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2NSk7CiAgfSkpOwogIHJldHVybiBfZ2V0T3JnT2ZmaWNlTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZXhwb3J0UGFja2FnZVJlY29yZEV4Y2VsKF94NjMpIHsKICByZXR1cm4gX2V4cG9ydFBhY2thZ2VSZWNvcmRFeGNlbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOiOt+WPluetvuaUtuWvhOWHveeFp+eJh+mcgOimgeS4iuS8oOadkOaWmeexu+WeiwoKZnVuY3Rpb24gX2V4cG9ydFBhY2thZ2VSZWNvcmRFeGNlbCgpIHsKICBfZXhwb3J0UGFja2FnZVJlY29yZEV4Y2VsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY2KGRhdGEpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY2JChfY29udGV4dDY2KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDY2LnByZXYgPSBfY29udGV4dDY2Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ2Ni5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvZXZpZGVuY2UtZXhjZWwgIiwgZGF0YSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDY2LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY2LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2Nik7CiAgfSkpOwogIHJldHVybiBfZXhwb3J0UGFja2FnZVJlY29yZEV4Y2VsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRFdmlkU2lnblNlbmROZWVkTWF0ZXJpYWwoX3g2NCkgewogIHJldHVybiBfZ2V0RXZpZFNpZ25TZW5kTmVlZE1hdGVyaWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g562+5pS254Wn54mHIOWvhOWHveWbvueJhyDpgIDlm57ljIXoo7nlm77niYcg5LiK5LygCgpmdW5jdGlvbiBfZ2V0RXZpZFNpZ25TZW5kTmVlZE1hdGVyaWFsKCkgewogIF9nZXRFdmlkU2lnblNlbmROZWVkTWF0ZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjcoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjckKF9jb250ZXh0NjcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjcucHJldiA9IF9jb250ZXh0NjcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDY3Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9nZXQtZXZpZC1zaWduLXNlbmQtbmVlZC1tYXRlcmlhbCIsIGRhdGEpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDY3LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2Nyk7CiAgfSkpOwogIHJldHVybiBfZ2V0RXZpZFNpZ25TZW5kTmVlZE1hdGVyaWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBzaWduU2VuZEZpbGVVcGxvYWQoX3g2NSkgewogIHJldHVybiBfc2lnblNlbmRGaWxlVXBsb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g562+5pS254Wn54mHIOWvhOWHveWbvueJhyDpgIDlm57ljIXoo7nlm77niYcg5LiK5LygCgpmdW5jdGlvbiBfc2lnblNlbmRGaWxlVXBsb2FkKCkgewogIF9zaWduU2VuZEZpbGVVcGxvYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjgoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjgkKF9jb250ZXh0NjgpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjgucHJldiA9IF9jb250ZXh0NjgubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDY4Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9zaWduLXNlbmQtZmlsZS11cGxvYWQiLCBkYXRhLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Njguc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Njguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTY4KTsKICB9KSk7CiAgcmV0dXJuIF9zaWduU2VuZEZpbGVVcGxvYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldE1haWxFdmlkUmVjZWl2ZVBlcnNvbkluZm8oX3g2NikgewogIHJldHVybiBfZ2V0TWFpbEV2aWRSZWNlaXZlUGVyc29uSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIOS/neWtmOWbvueJhwoKZnVuY3Rpb24gX2dldE1haWxFdmlkUmVjZWl2ZVBlcnNvbkluZm8oKSB7CiAgX2dldE1haWxFdmlkUmVjZWl2ZVBlcnNvbkluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjkoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjkkKF9jb250ZXh0NjkpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjkucHJldiA9IF9jb250ZXh0NjkubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDY5Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9nZXRNYWlsRXZpZFJlY2VpdmVQZXJzb25JbmZvIiwgZGF0YSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Njkuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Njkuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTY5KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRNYWlsRXZpZFJlY2VpdmVQZXJzb25JbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBzYXZlTWFpbFBpY3R1cmUoX3g2NykgewogIHJldHVybiBfc2F2ZU1haWxQaWN0dXJlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5L+u5pS56K+B5o2u6LS555So5L+h5oGv5Y+K6K+B5o2u54q25oCBCgpmdW5jdGlvbiBfc2F2ZU1haWxQaWN0dXJlKCkgewogIF9zYXZlTWFpbFBpY3R1cmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzAoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzAkKF9jb250ZXh0NzApIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzAucHJldiA9IF9jb250ZXh0NzAubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDcwLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9zYXZlLW1haWwtcGljdHVyZSIsIGRhdGEsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3MC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNzApOwogIH0pKTsKICByZXR1cm4gX3NhdmVNYWlsUGljdHVyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gdXBkYXRlRXZpZE1haWwoX3g2OCkgewogIHJldHVybiBfdXBkYXRlRXZpZE1haWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyDor4Hmja7nianmtYHpgIHovr7kv6Hmga/liJfooagKCmZ1bmN0aW9uIF91cGRhdGVFdmlkTWFpbCgpIHsKICBfdXBkYXRlRXZpZE1haWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzEoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzEkKF9jb250ZXh0NzEpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzEucHJldiA9IF9jb250ZXh0NzEubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDcxLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy91cGRhdGUtZXZpZE1haWwiLCBkYXRhLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NzEuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzEuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTcxKTsKICB9KSk7CiAgcmV0dXJuIF91cGRhdGVFdmlkTWFpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbWFpbEV2aWRFeHByZXNzSW5mbyhfeDY5KSB7CiAgcmV0dXJuIF9tYWlsRXZpZEV4cHJlc3NJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g56Gu6K6k5YWo6YOo54mp5rWB6YCB6L6+CgpmdW5jdGlvbiBfbWFpbEV2aWRFeHByZXNzSW5mbygpIHsKICBfbWFpbEV2aWRFeHByZXNzSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3MihwYXJhbXMpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcyJChfY29udGV4dDcyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDcyLnByZXYgPSBfY29udGV4dDcyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ3Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvbWFpbC1jb25maXJtLWV4cHJlc3MtaW5mbzIvIi5jb25jYXQocGFyYW1zKSwge30pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDcyLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3Mik7CiAgfSkpOwogIHJldHVybiBfbWFpbEV2aWRFeHByZXNzSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gdXBkYXRlTWFpbENvbmZpcm1FeHByZXNzSW5mbyhfeDcwKSB7CiAgcmV0dXJuIF91cGRhdGVNYWlsQ29uZmlybUV4cHJlc3NJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g55Sf5oiQ5LqM57u056CBLeWvhOWHveetvuaUtuWbvueJhwoKZnVuY3Rpb24gX3VwZGF0ZU1haWxDb25maXJtRXhwcmVzc0luZm8oKSB7CiAgX3VwZGF0ZU1haWxDb25maXJtRXhwcmVzc0luZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzMoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzMkKF9jb250ZXh0NzMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzMucHJldiA9IF9jb250ZXh0NzMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDczLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy91cGRhdGUtbWFpbC1jb25maXJtLWV4cHJlc3MtaW5mbyIsIGRhdGEsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDczLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3My5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNzMpOwogIH0pKTsKICByZXR1cm4gX3VwZGF0ZU1haWxDb25maXJtRXhwcmVzc0luZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGV2aWRTaWduVXBsb2FkUXJjb2RlKF94NzEpIHsKICByZXR1cm4gX2V2aWRTaWduVXBsb2FkUXJjb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g6I635Y+WaDXkuIrkvKDnmoTmlofku7bmtYEKCmZ1bmN0aW9uIF9ldmlkU2lnblVwbG9hZFFyY29kZSgpIHsKICBfZXZpZFNpZ25VcGxvYWRRcmNvZGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzQoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzQkKF9jb250ZXh0NzQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzQucHJldiA9IF9jb250ZXh0NzQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDc0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9ldmlkLXNpZ24tc2VuZC11cGxvYWQtcXItY29kZSIsIGRhdGEsIHsKICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3NC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNzQpOwogIH0pKTsKICByZXR1cm4gX2V2aWRTaWduVXBsb2FkUXJjb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRINUZpbGVTdHJlYW0oX3g3MikgewogIHJldHVybiBfZ2V0SDVGaWxlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5Yig6ZmkaDXlm77niYcKCmZ1bmN0aW9uIF9nZXRINUZpbGVTdHJlYW0oKSB7CiAgX2dldEg1RmlsZVN0cmVhbSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NShkYXRhKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NSQoX2NvbnRleHQ3NSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3NS5wcmV2ID0gX2NvbnRleHQ3NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NzUubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL2dldC1oNS1maWxlLXN0cmVhbS8/ZXZpZElkPSIuY29uY2F0KGRhdGEuZXZpZElkKSwgZGF0YSwgewogICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDc1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3NSk7CiAgfSkpOwogIHJldHVybiBfZ2V0SDVGaWxlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBkZWxINUZpbGUoX3g3MykgewogIHJldHVybiBfZGVsSDVGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8g5Zue6YCA5a+E5Lu2CgpmdW5jdGlvbiBfZGVsSDVGaWxlKCkgewogIF9kZWxINUZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzYoZGF0YSkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzYkKF9jb250ZXh0NzYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzYucHJldiA9IF9jb250ZXh0NzYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDc2Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXhpb3MoIm9yZy9kZWwtaDUtZmlsZS8iLmNvbmNhdChkYXRhLmV2aWRNYWlsSWQpLCBkYXRhLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3Ni5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNzYpOwogIH0pKTsKICByZXR1cm4gX2RlbEg1RmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0QmFja01haWxMaXN0KF94NzQpIHsKICByZXR1cm4gX2dldEJhY2tNYWlsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0QmFja01haWxMaXN0KCkgewogIF9nZXRCYWNrTWFpbExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzcocGFyYW1zKSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NyQoX2NvbnRleHQ3NykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3Ny5wcmV2ID0gX2NvbnRleHQ3Ny5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NzcubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcygib3JnL21haWwtZXZpZC1leHByZXNzLWxpc3RzLyIuY29uY2F0KHBhcmFtcy5ldmlkSWQsICIvIikuY29uY2F0KHBhcmFtcy5wYWdlTnVtLCAiLyIpLmNvbmNhdChwYXJhbXMucGFnZVNpemUpLCB7fSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Nzcuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Nzcuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTc3KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRCYWNrTWFpbExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},null]}