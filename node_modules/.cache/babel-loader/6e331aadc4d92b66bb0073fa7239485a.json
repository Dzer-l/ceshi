{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/entry/entryDateil.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/entry/entryDateil.vue","mtime":1634724784707},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENsaXBib2FyZCBmcm9tICdjbGlwYm9hcmQnOwppbXBvcnQgeyBnZXRDbG91ZERhdGVpbCwgZ2V0Q2xvdWRNYWlsRGF0ZWlsLCBnZXRDbG91ZEFjY291bnRJbmZvLCBnZXRDbG91ZFBlcnNvbkluZm8sIGdldEV2aWRNYXRlcmlhbExpc3QsIGdldExvZ2lzdGljc0xpc3QsIGdldExvZ2lzdGljc0RhdGVpbCwgZ2V0TG9naXN0aWNzRGF0ZWlsMiwgZG93bmxvYWRFbnRyeSwgc3VibWl0RWRpdENvc3QsIGdldENvc3RJbmZvLCBjYW5jZWxTZW50U3RlbSwgbW9kaWZ5Q29zdEluZm9ybWF0aW9uIH0gZnJvbSAnLi4vLi4vYXBpL2Nsb3VkTWFpbCc7CmltcG9ydCBldmlkZW5jZURvY3VtZW50RGV0YWlscyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL2V2aWRlbmNlRG9jdW1lbnREZXRhaWxzJzsKaW1wb3J0IGZpbGVDaGVjayBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL2ZpbGVDaGVjayc7CmltcG9ydCBhY2NvdW50TnVtYmVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvYWNjb3VudEluZm9ybWF0aW9uJzsgLy8gaW1wb3J0IHsgcHJpbnRJbml0LCBwcmludCB9IGZyb20gJy4uLy4uL3V0aWxzL2VudHJ5UHJpbnQnCgppbXBvcnQgeyBwcmludEluaXQsIHByaW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpbnRFeHByZXNzTGlzdCc7CmltcG9ydCB7IHBhY2thZ2VQcmludCB9IGZyb20gJy4uLy4uL2FwaS9sb2dpc3RpY3NNYW5hZ2UnOwppbXBvcnQgeyBmaWx0ZXJDYXJkVHlwZSB9IGZyb20gJ0AvZmlsdGVycy9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBldmlkZW5jZURvY3VtZW50RGV0YWlsczogZXZpZGVuY2VEb2N1bWVudERldGFpbHMsCiAgICBmaWxlQ2hlY2s6IGZpbGVDaGVjaywKICAgIGFjY291bnROdW1iZXI6IGFjY291bnROdW1iZXIKICB9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlckNhcmRUeXBlOiBmaWx0ZXJDYXJkVHlwZSwKICAgIG1vZGVTZXJ2aWNlOiBmdW5jdGlvbiBtb2RlU2VydmljZSh2YWwpIHsKICAgICAgdmFyIHN0ciA9ICcnOwoKICAgICAgaWYgKHZhbCA9PT0gMSkgewogICAgICAgIHN0ciA9ICfoh6rlr4TpgIHovr7lrZjor4EnOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gMikgewogICAgICAgIHN0ciA9ICflhazor4Hpgq7lr4TpgIHovr7lrZjor4EnOwogICAgICB9CgogICAgICByZXR1cm4gc3RyOwogICAgfSwKICAgIHRoZVdheTogZnVuY3Rpb24gdGhlV2F5KHZhbCkgewogICAgICB2YXIgc3RyID0gJyc7CgogICAgICBpZiAodmFsID09PSAxKSB7CiAgICAgICAgc3RyID0gJ+iHquWvhOWHveS7tic7CiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAyKSB7CiAgICAgICAgc3RyID0gJ+WFrOivgeWkhOS7o+WvhOaJk+WNsOS7tic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RyID0gJ+WFrOivgeWkhOS7o+WvhOWOn+S7tic7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdHI7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FuWW91UHJpbnQ6IHRydWUsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBpbm5lclZpc2libGU6IGZhbHNlLAogICAgICBleHRyYWN0aW9uRXZpZGVuY2U6IGZhbHNlLAogICAgICBhY2NvdW50TnVtYmVyOiBmYWxzZSwKICAgICAgYWNjb3VudElkOiAnJywKICAgICAgaW5mb0RhdGE6IHt9LAogICAgICBldmlkSWQ6ICcnLAogICAgICBzdGF0dXM6IDAsCiAgICAgIG1hdGVyTGlzdDogW10sCiAgICAgIHRvc3REaWFsb2c6IGZhbHNlLAogICAgICB0b3N0RGF0YTogewogICAgICAgIHF1YW50aXR5OiAnJywKICAgICAgICBsZWdhbFRvc3Q6ICcnLAogICAgICAgIHNhdmVUb3N0OiAnJywKICAgICAgICB0b3RhbDogJycKICAgICAgfSwKICAgICAgYWN0aXZpdGllczogW10sCiAgICAgIGxpc3RBY3RpdmU6IDAsCiAgICAgIGlkOiAnJywKICAgICAgdXJsOiAnJywKICAgICAgZW50cnlEYXRhOiB7fSwKICAgICAgbWFpbERhdGE6IHt9LAogICAgICBhY2NvdW50RGF0YTogW10sCiAgICAgIHBlcnNvbkRhdGE6IFtdLAogICAgICBjb3N0RGF0YTogW10sCiAgICAgIG1hdGVyaWFsTGlzdERhdGE6IFtdLAogICAgICBnZXRMb2dpc3RpY3NEYXRhOiBbXSwKICAgICAgc3RhdHU6IDEwLAogICAgICByb3R1ZVN0YXRlOiB0cnVlLAogICAgICB1bmZvbGQ6IGZhbHNlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICByZWZ1c2VkQWNjZXB0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlZnVzZWRBY2NlcHREYXRhOiB7CiAgICAgICAgY2F1c2U6ICcnCiAgICAgIH0sCiAgICAgIHJlZnVzZWRBY2NlcHRSdWxlczogewogICAgICAgIGNhdXNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5ouS57ud5Y6f5ZugJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogMTIwLAogICAgICAgICAgbWVzc2FnZTogJ+iHs+WkmuWFgeiuuOi+k+WFpTEyMOS4quWtlycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBldmlkTWFpbElkOiAnJywKICAgICAgY291bnRDb3N0OiAnJywKICAgICAgbWFpbEV2aWRNYXRlcmlhbERUT0xpc3Q6IFtdLAogICAgICBtYWlsRXZpZEV4cHJlc3NJbmZvSWQ6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlOiAxLAogICAgICBzaXplOiAxMCwKICAgICAgbGlzdEFjdGl2ZUl0ZW06ICIiCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOi3r+eUseebkeWQrO+8muebkeWQrOi3r+eUseeahOWPmOWMlu+8jOS7juiAjOWBmuWHuuebuOW6lOaTjeS9nAogICAgJHJvdXRlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgLy8g5LiA5pem55uR5ZCs5Yiw6Lev55Sx55qE5Y+Y5YyW56uL5Y2z5omn6KGMCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodG8sIGZyb20pIHsKICAgICAgICAvLyDlm57osIPlh73mlbDvvIzkuKTkuKrlj4LmlbDvvIx0b++8muW9k+WJjeeahOe7hOS7tu+8jGZyb23vvJrkuIrkuIDkuKrnu4Tku7YKICAgICAgICBpZiAodG8ubmFtZSAhPT0gJ2VudHJ5RGV0YWlsJykgewogICAgICAgICAgdGhpcy5yb3R1ZVN0YXRlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZXh0cmFjdGlvbkV2aWRlbmNlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgY29uc29sZS5sb2codmFsKTsKCiAgICAgICAgaWYgKCF2YWwpIHsKICAgICAgICAgIHRoaXMuc3RhdHVzID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbm5lclZpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAoIXZhbCkgewogICAgICAgICAgdGhpcy5zdGF0dXMgPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlKTsKICAgIC8vIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgLy8gICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAvLyB9IGVsc2UgewogICAgLy8gICB0aGlzLmlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiZW50cnlJZCIpOwogICAgLy8gICB2YXIgdXJsID0gYC8jJHt0aGlzLiRyb3V0ZS5wYXRofT9pZD0ke3RoaXMuaWR9YDsKICAgIC8vICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgdXJsKTsKICAgIC8vIH0KICAgIHRoaXMuaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlbnRyeUlkJyk7CgogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICdlbnRyeURldGFpbCcpIHsKICAgICAgdGhpcy5Jbml0aWFsaXphdGlvblBhZ2UoKTsgLy8gZ2V0RXZpZEp1cmlzZGljdGlvbih7IGV2aWRJZDogdGhpcy5pZCB9KS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICAvLyBjb25zb2xlLmxvZyhyZXMsICfmn6XnnIvmmK/lkKbmnInmk43kvZzmnYPpmZAnKQogICAgICAvLyB9KQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Zue5a+E6YCA5Lu2CiAgICBoYW5kbGVTZW5kQmFjazogZnVuY3Rpb24gaGFuZGxlU2VuZEJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiZW50cnlNYWlsIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgdHlwZTogImJhY2siLAogICAgICAgICAgZU1JZDogdGhpcy5ldmlkTWFpbElkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDnoa7orqTnrb7mlLbnu5PmnpwKICAgIGhhbmRsZUNvbXJpZm1TaWduZWQ6IGZ1bmN0aW9uIGhhbmRsZUNvbXJpZm1TaWduZWQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiY29tcmlmbVNpZ25SZWNlaXZlIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgLy8gbWF0ZXJpYWxDb2RlOiB2YWwsCiAgICAgICAgICBpZDogdGhpcy5pZCwKICAgICAgICAgIGV2aWRJZDogdGhpcy5tYWlsRGF0YS5pZCwKICAgICAgICAgIGV2aWRNYWlsSWQ6IHRoaXMuZXZpZE1haWxJZCAvLyBtYWlsVHlwZTogdGhpcy5tYWlsRGF0YS5tYWlsVHlwZSwKICAgICAgICAgIC8vIGlzUGF5bWVudDogdGhpcy5tYWlsRGF0YS5pc1BheW1lbnQsCiAgICAgICAgICAvLyBsZWdhbFNlcnZpY2VDb3N0OiB0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdCwKICAgICAgICAgIC8vIGV2aWRTdGF0dXM6IHZhbCwKICAgICAgICAgIC8vIGNvc3Q6IHRoaXMubWFpbERhdGEuY29zdCwKICAgICAgICAgIC8vIHJlbWFyazogdGhpcy5yZWZ1c2VkQWNjZXB0RGF0YS5jYXVzZQoKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOehruiupOaUtuS7tgogICAgaGFuZGxlQ29tZmlybVJyZWNlaXZlZFJlY2VpdmVkOiBmdW5jdGlvbiBoYW5kbGVDb21maXJtUnJlY2VpdmVkUmVjZWl2ZWQodmFsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAidXBsb2FkSW1hZ2UiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBtYXRlcmlhbENvZGU6IHZhbCwKICAgICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgICAgZXZpZElkOiB0aGlzLm1haWxEYXRhLmlkLAogICAgICAgICAgZXZpZE1haWxJZDogdGhpcy5ldmlkTWFpbElkIC8vIG1haWxUeXBlOiB0aGlzLm1haWxEYXRhLm1haWxUeXBlLAogICAgICAgICAgLy8gaXNQYXltZW50OiB0aGlzLm1haWxEYXRhLmlzUGF5bWVudCwKICAgICAgICAgIC8vIGxlZ2FsU2VydmljZUNvc3Q6IHRoaXMudG9zdERhdGEubGVnYWxUb3N0LAogICAgICAgICAgLy8gZXZpZFN0YXR1czogdmFsLAogICAgICAgICAgLy8gY29zdDogdGhpcy5tYWlsRGF0YS5jb3N0LAogICAgICAgICAgLy8gcmVtYXJrOiB0aGlzLnJlZnVzZWRBY2NlcHREYXRhLmNhdXNlCgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUGFnZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUGFnZUNoYW5nZSh2YWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldENsb3VkUGVyc29uSW5mbyh7CiAgICAgICAgZXZpZElkOiB0aGlzLmlkLAogICAgICAgIHBhZ2VOdW06IHZhbCwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5zaXplCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcywgJzIyMjInKTsKICAgICAgICBfdGhpcy5wZXJzb25EYXRhID0gcmVzLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICBzdGFDaGFuZ2U6IGZ1bmN0aW9uIHN0YUNoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgdGhpcy5pbm5lclZpc2libGUgPSB2YWw7CiAgICB9LAogICAgc3RhdHVzQ2hhbmdlOiBmdW5jdGlvbiBzdGF0dXNDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuc3RhdHVzID0gdmFsOwogICAgfSwKICAgIC8vIOWIneWni+WMlumhtemdoua4suafk+eahOaVsOaNrgogICAgSW5pdGlhbGl6YXRpb25QYWdlOiBmdW5jdGlvbiBJbml0aWFsaXphdGlvblBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZXZpZElkOiB0aGlzLmlkCiAgICAgIH07CiAgICAgIGdldENsb3VkRGF0ZWlsKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcywgJ+iOt+WPluivpuaDheWfuuacrOS/oeaBrycpOwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgJiYgcmVzLmRhdGEgIT09IG51bGwpIHsKICAgICAgICAgIF90aGlzMi5lbnRyeURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIGdldENsb3VkTWFpbERhdGVpbChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLCAnMDAwMCcpOwogICAgICAgICAgICBfdGhpczIuZXZpZE1haWxJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgICBfdGhpczIubWFpbERhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgZ2V0Q2xvdWRBY2NvdW50SW5mbyhkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMsICcxMTExJyk7CgogICAgICAgICAgICAgIF90aGlzMi5hY2NvdW50RGF0YS5wdXNoKHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgX3RoaXMyLmFjY291bnRJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgICAgIGdldENsb3VkUGVyc29uSW5mbyh7CiAgICAgICAgICAgICAgICBldmlkSWQ6IF90aGlzMi5pZCwKICAgICAgICAgICAgICAgIHBhZ2VOdW06IF90aGlzMi5wYWdlLAogICAgICAgICAgICAgICAgcGFnZVNpemU6IF90aGlzMi5zaXplCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMsICcyMjIyJyk7CiAgICAgICAgICAgICAgICBfdGhpczIucGVyc29uRGF0YSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy8gY29uc29sZS5sb2codGhpcy5tYWlsRGF0YS5pZCkKCiAgICAgICAgICAgICAgICBnZXRDb3N0SW5mbyh7CiAgICAgICAgICAgICAgICAgIGV2aWRNYWlsSWQ6IF90aGlzMi5tYWlsRGF0YS5pZAogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgJzMzMzMnKTsKICAgICAgICAgICAgICAgICAgcmVzLmRhdGEudHlwZSA9IF90aGlzMi5tYWlsRGF0YS5tYWlsVHlwZURlc2M7CgogICAgICAgICAgICAgICAgICBfdGhpczIuY29zdERhdGEucHVzaChyZXMuZGF0YSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuY291bnRDb3N0ID0gX3RoaXMyLmNvc3REYXRhWzBdLmNvdW50Q29zdDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmNvdW50Q29zdCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmVudHJ5RGF0YSA9IHt9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZnVuOiBmdW5jdGlvbiBmdW4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnZW50cnlNYWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgZU1JZDogdGhpcy5ldmlkTWFpbElkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmj5Dlj5bmnpXpqqjljovnvKnljIUKICAgIGV4dHJhY3RFbnRyeTogZnVuY3Rpb24gZXh0cmFjdEVudHJ5KHZhbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgIHRoaXMuJGF4aW9zKCJvcmcvbWFpbE9yZGVyLWV2aWQtZGV0YWlscy8iLmNvbmNhdCh2YWwuaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubWFpbEV2aWRNYXRlcmlhbERUT1MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzLmRhdGEubWFpbEV2aWRNYXRlcmlhbERUT1NbaV0ubWF0ZXJpYWxCdWNrZXQgPSBKU09OLnBhcnNlKHJlcy5kYXRhLm1haWxFdmlkTWF0ZXJpYWxEVE9TW2ldLm1hdGVyaWFsQnVja2V0KTsKICAgICAgICAgICAgcmVzLmRhdGEubWFpbEV2aWRNYXRlcmlhbERUT1NbaV0uZmlsZUJ1Y2tldCA9IHJlcy5kYXRhLm1haWxFdmlkTWF0ZXJpYWxEVE9TW2ldLm1hdGVyaWFsQnVja2V0OwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMy5tYXRlckxpc3QgPSByZXMuZGF0YS5tYWlsRXZpZE1hdGVyaWFsRFRPUzsKICAgICAgICAgIF90aGlzMy5pbmZvRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXMzLmV2aWRJZCA9IHZhbC5pZDsgLy8gdmFsLmV2aWRJZAoKICAgICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGV4dHJhY3Rpb25JbW1lZGlhdGVseTogZnVuY3Rpb24gZXh0cmFjdGlvbkltbWVkaWF0ZWx5KHZhbCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKTsKICAgICAgZG93bmxvYWRFbnRyeSh7CiAgICAgICAgZXZpZElkOiB0aGlzLm1hdGVyaWFsTGlzdERhdGFbMF0uaWQsCiAgICAgICAgZmlsZVR5cGU6IDMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LnNhdmVBcyhyZXMsICIiLmNvbmNhdChfdGhpczQuZW50cnlEYXRhLmV2aWRObykuY29uY2F0KF90aGlzNC5nZXRUaW1lKHRpbWUpLCAiLnppcCIpKTsKCiAgICAgICAgdmFsID09PSAxID8gX3RoaXM0LmlubmVyVmlzaWJsZSA9IGZhbHNlIDogX3RoaXM0LmV4dHJhY3Rpb25FdmlkZW5jZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBleHBhbmREZXRhaWw6IGZ1bmN0aW9uIGV4cGFuZERldGFpbCh2YWwpIHsKICAgICAgdGhpcy5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdCA9IHRoaXMubWF0ZXJpYWxMaXN0RGF0YVswXS5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdDsKICAgICAgdGhpcy51bmZvbGQgPSB0cnVlOwogICAgfSwKICAgIGV4dHJhY3RpbmdBbGxFdmlkZW5jZTogZnVuY3Rpb24gZXh0cmFjdGluZ0FsbEV2aWRlbmNlKCkgewogICAgICB0aGlzLmV4dHJhY3RFbnRyeSh0aGlzLm1hdGVyaWFsTGlzdERhdGFbMF0uaWQpOwogICAgfSwKICAgIC8vIOiOt+WPluW9k+WJjeaXtumXtO+8jOeUqOadpeaPkOWPluivgeaNruWRveWQjeS9v+eUqAogICAgZ2V0VGltZTogZnVuY3Rpb24gZ2V0VGltZSh2YWwpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh2YWwpOwogICAgICB2YXIgeSA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE1NID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgTU0gPSBNTSA8IDEwID8gJzAnICsgTU0gOiBNTTsKICAgICAgdmFyIGQgPSBkYXRlLmdldERhdGUoKTsKICAgICAgZCA9IGQgPCAxMCA/ICcwJyArIGQgOiBkOwogICAgICB2YXIgaCA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgaCA9IGggPCAxMCA/ICcwJyArIGggOiBoOwogICAgICB2YXIgbSA9IGRhdGUuZ2V0TWludXRlcygpOwogICAgICBtID0gbSA8IDEwID8gJzAnICsgbSA6IG07CiAgICAgIHZhciBzID0gZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgIHMgPSBzIDwgMTAgPyAnMCcgKyBzIDogczsKICAgICAgcmV0dXJuIHkgKyBNTSArIGQgKyBoICsgbSArIHM7CiAgICB9LAogICAgLy8g5L2/55SoYXhpb3Plj5Hotbfor7fmsYLnmoTkuIvovb0KICAgIHNhdmVBczogZnVuY3Rpb24gc2F2ZUFzKGJsb2IsIGZpbGVOYW1lKSB7CiAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHsKICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlTmFtZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7CiAgICAgICAgbGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7IC8vIOWIm+W7uuWvueixoXVybAoKICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7IC8vIGZpeCBGaXJlZm94CgogICAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7IC8vIOmAmui/h+iwg+eUqCBVUkwuY3JlYXRlT2JqZWN0VVJMKCkg5Yib5bu655qEIFVSTCDlr7nosaEKICAgICAgfQogICAgfSwKICAgIC8vIOWkjeWItuivgeaNrue8luWPtwogICAgY29weU51bTogZnVuY3Rpb24gY29weU51bSgpIHsKICAgICAgLy8gdmFyIGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoKTsKICAgICAgLy8gY29uc29sZS5sb2coYnRuKTsKICAgICAgdGhpcy5jb3B5KCcuY29weS1vcmRlci1udW0nKTsKICAgIH0sCiAgICAvLyDngrnlh7vnvJbovpHotLnnlKjlkI7ooajljZXlsZXnpLrnmoTlhoXlrrkKICAgIGNvbXBpbGVDb3N0OiBmdW5jdGlvbiBjb21waWxlQ29zdCgpIHsKICAgICAgdGhpcy50b3N0RGF0YS5xdWFudGl0eSA9IHRoaXMuY29zdERhdGFbMF0ud2l0bmVzc051bTsKICAgICAgdGhpcy50b3N0RGF0YS5sZWdhbFRvc3QgPSB0aGlzLmNvc3REYXRhWzBdLmxlZ2FsU2VydmljZUNvc3Q7CiAgICAgIHRoaXMudG9zdERhdGEuc2F2ZVRvc3QgPSB0aGlzLmNvc3REYXRhWzBdLndpdG5lc3NDb3N0OwogICAgICB0aGlzLnRvc3REYXRhLnRvdGFsID0gdGhpcy5jb3N0RGF0YVswXS5jb3VudENvc3Q7CiAgICAgIHRoaXMudG9zdERhdGEudG90YWwgPSBwYXJzZUZsb2F0KHRoaXMudG9zdERhdGEudG90YWwpLnRvRml4ZWQoMik7CiAgICAgIHRoaXMudG9zdERpYWxvZyA9IHRydWU7CiAgICB9LAogICAgLy8g5L+u5pS554q25oCBCiAgICBzdWJtaXRDb3N0OiBmdW5jdGlvbiBzdWJtaXRDb3N0KHZhbCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiB0aGlzLm1haWxEYXRhLmlkLAogICAgICAgIG1haWxUeXBlOiB0aGlzLm1haWxEYXRhLm1haWxUeXBlLAogICAgICAgIGlzUGF5bWVudDogdGhpcy5tYWlsRGF0YS5pc1BheW1lbnQsCiAgICAgICAgbGVnYWxTZXJ2aWNlQ29zdDogdGhpcy50b3N0RGF0YS5sZWdhbFRvc3QsCiAgICAgICAgZXZpZFN0YXR1czogdmFsLAogICAgICAgIGNvc3Q6IHRoaXMubWFpbERhdGEuY29zdCwKICAgICAgICByZW1hcms6IHRoaXMucmVmdXNlZEFjY2VwdERhdGEuY2F1c2UKICAgICAgfTsgLy8gY29uc29sZS5sb2codGhpcy5ldmlkTWFpbElkKQoKICAgICAgc3VibWl0RWRpdENvc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLCAn5L+u5pS554q25oCBJykKICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOaIkOWKnyEnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNS5yZWZ1c2VkQWNjZXB0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzNS50b3N0RGlhbG9nID0gZmFsc2U7CgogICAgICAgIF90aGlzNS4kcm91dGVyLmdvKDApOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnur/kuIvmlK/ku5jmjInpkq4KICAgIG9mZmxpbmVQYXltZW50OiBmdW5jdGlvbiBvZmZsaW5lUGF5bWVudCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlj5jmm7TkuLrnur/kuIvmlK/ku5jvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBpZDogX3RoaXM2Lm1haWxEYXRhLmlkLAogICAgICAgICAgbWFpbFR5cGU6IF90aGlzNi5tYWlsRGF0YS5tYWlsVHlwZSwKICAgICAgICAgIGlzUGF5bWVudDogMSwKICAgICAgICAgIGxlZ2FsU2VydmljZUNvc3Q6IF90aGlzNi50b3N0RGF0YS5sZWdhbFRvc3QsCiAgICAgICAgICBldmlkU3RhdHVzOiA2LAogICAgICAgICAgY29zdDogX3RoaXM2Lm1haWxEYXRhLmNvc3QsCiAgICAgICAgICByZW1hcms6IF90aGlzNi5yZWZ1c2VkQWNjZXB0RGF0YS5jYXVzZQogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coX3RoaXM2Lm1haWxEYXRhKTsKICAgICAgICBzdWJtaXRFZGl0Q29zdChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcywgJ+S/ruaUueeKtuaAgScpCiAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8hJwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM2LnJlZnVzZWRBY2NlcHREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICBfdGhpczYudG9zdERpYWxvZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNi4kcm91dGVyLmdvKDApOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkjeWItuaUr+S7mOe8luWPtwogICAgY29weVBheU51bTogZnVuY3Rpb24gY29weVBheU51bSh2YWwpIHsKICAgICAgdGhpcy5jb3B5KCcuY29weS1wYXktbnVtJyk7CiAgICB9LAogICAgLy8g54K55Ye75aSN5Yi25oyJ6ZKu5aSN5Yi25paH5a2XCiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KHZhbCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCh2YWwpOyAvLyDov5nph4zmi6zlj7fph4zloavlhpnkuIrpnaLngrnlh7vkuovku7bnu5HlrprnmoRjbGFzc+WQjQogICAgICAvLyBjb25zb2xlLmxvZyhjbGlwYm9hcmQpOwoKICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAvLyDlpI3liLbmiJDlip/vvIzmj5DnpLrmoLnmja7oh6rlt7Hpobnnm67lrp7pmYXkvb/nlKjnmoRVSeadpeWGmQogICAgICAgIF90aGlzNy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5aSN5Yi25oiQ5YqfJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7IC8vIOmHiuaUvuWGheWtmAoKCiAgICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgfSk7CiAgICAgIGNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIOS4jeaUr+aMgeWkjeWItu+8jOaPkOekuuagueaNruiHquW3semhueebruWunumZheS9v+eUqOeahFVJ5p2l5YaZCiAgICAgICAgLy8g6YeK5pS+5YaF5a2YCiAgICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+W5raI5a+E5Lu2CiAgICBjYW5jZWxTZW50SXRlbTogZnVuY3Rpb24gY2FuY2VsU2VudEl0ZW0odmFsKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgbWVzc2FnZTogaCgncCcsIG51bGwsIFtoKCdwJywgbnVsbCwgJ+ehruiupOWPlua2iOWvhOS7tu+8nycpLCBoKCdzcGFuJywgewogICAgICAgICAgc3R5bGU6ICdjb2xvcjogI0U2QTIzQycKICAgICAgICB9LCAn5Y+W5raI5a+E5Lu277yM5omA5pyJ5b+r6YCS5bCG6KKr5Y+W5raI77yM6ZyA6YeN5paw5a+E5Ye977yB56Gu5a6a5Y+W5raI5ZCX77yfJyldKQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjYW5jZWxTZW50U3RlbSh7CiAgICAgICAgICBldmlkTWFpbElkOiBfdGhpczguZXZpZE1haWxJZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM4LiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczguJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54mp5rWB5L+h5oGv5Lit77yM54K55Ye75LiN5ZCM55qE54mp5rWB5bGV56S65LiN5ZCM55qE5L+h5oGvCiAgICBjaGFuZ2VBY3RpdmU6IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZShpbmRleCwgaXRlbSkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMubGlzdEFjdGl2ZSA9IGluZGV4OwogICAgICB0aGlzLmxpc3RBY3RpdmVJdGVtID0gaXRlbTsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIHRoaXMuY2FuWW91UHJpbnQgPSBpdGVtLm9yZ1NlbmQgPT09IDE7CiAgICAgIHRoaXMubWFpbEV2aWRFeHByZXNzSW5mb0lkID0gaXRlbS5pZDsKCiAgICAgIGlmIChpdGVtLmV4cHJlc3NJbmZvSWQpIHsKICAgICAgICBnZXRMb2dpc3RpY3NEYXRlaWwyKHsKICAgICAgICAgIHRlbXBPcmRlck5vOiBpdGVtLmV4cHJlc3NJbmZvSWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgJ+eJqea1geS/oeaBrycpOwogICAgICAgICAgcmVzLmRhdGFbMF0uY29sb3IgPSAnIzBiYmQ4Nyc7CiAgICAgICAgICBfdGhpczkuYWN0aXZpdGllcyA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZ2V0TG9naXN0aWNzRGF0ZWlsKHsKICAgICAgICB0ZW1wT3JkZXJObzogaXRlbS50ZW1wT3JkZXJObwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMsICfnianmtYHkv6Hmga8nKTsKICAgICAgICByZXMuZGF0YVswXS5jb2xvciA9ICcjMGJiZDg3JzsKICAgICAgICBfdGhpczkuYWN0aXZpdGllcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliLfmlrDnianmtYEKICAgIGhhbmRsZVJlZnJlc2hMb2dpc3RpY3M6IGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2hMb2dpc3RpY3MoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmxpc3RBY3RpdmVJdGVtLmV4cHJlc3NJbmZvSWQpIHsKICAgICAgICBnZXRMb2dpc3RpY3NEYXRlaWwyKHsKICAgICAgICAgIHRlbXBPcmRlck5vOiBpdGVtLmV4cHJlc3NJbmZvSWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgJ+eJqea1geS/oeaBrycpOwogICAgICAgICAgcmVzLmRhdGFbMF0uY29sb3IgPSAnIzBiYmQ4Nyc7CiAgICAgICAgICBfdGhpczEwLmFjdGl2aXRpZXMgPSByZXMuZGF0YTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGdldExvZ2lzdGljc0RhdGVpbCh7CiAgICAgICAgdGVtcE9yZGVyTm86IHRoaXMubGlzdEFjdGl2ZUl0ZW0udGVtcE9yZGVyTm8KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLCAn54mp5rWB5L+h5oGvJyk7CiAgICAgICAgcmVzLmRhdGFbMF0uY29sb3IgPSAnIzBiYmQ4Nyc7CiAgICAgICAgX3RoaXMxMC5hY3Rpdml0aWVzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIh+aNoumAiemhueWNoQogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKHRhYikgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh0YWIpCiAgICAgIGlmICh0YWIgPT09ICdzZWNvbmQnKSB7CiAgICAgICAgdGhpcy5tYXRlcmlhbExpc3REYXRhID0gW107CiAgICAgICAgZ2V0RXZpZE1hdGVyaWFsTGlzdCh7CiAgICAgICAgICBldmlkSWQ6IHRoaXMuaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTEubWF0ZXJpYWxMaXN0RGF0YS5wdXNoKHJlcy5kYXRhKTsKCiAgICAgICAgICBpZiAoX3RoaXMxMS5tYXRlcmlhbExpc3REYXRhWzBdLm1haWxFdmlkTWF0ZXJpYWxEVE9MaXN0ICE9PSBudWxsKSB7CiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfdGhpczExLm1hdGVyaWFsTGlzdERhdGFbMF0ubWFpbEV2aWRNYXRlcmlhbERUT0xpc3QubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzMTEubWF0ZXJpYWxMaXN0RGF0YVswXS5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdFtpbmRleF0ubWF0ZXJpYWxCdWNrZXQgIT09IG51bGwgJiYgX3RoaXMxMS5tYXRlcmlhbExpc3REYXRhWzBdLm1haWxFdmlkTWF0ZXJpYWxEVE9MaXN0W2luZGV4XSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgX3RoaXMxMS5tYXRlcmlhbExpc3REYXRhWzBdLm1haWxFdmlkTWF0ZXJpYWxEVE9MaXN0W2luZGV4IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsCiAgICAgICAgICAgICAgICBdLm1hdGVyaWFsQnVja2V0ID0gZXZhbCgnKCcgKyBfdGhpczExLm1hdGVyaWFsTGlzdERhdGFbMF0ubWFpbEV2aWRNYXRlcmlhbERUT0xpc3RbaW5kZXhdLm1hdGVyaWFsQnVja2V0ICsgJyknKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczExLm1hdGVyaWFsTGlzdERhdGEsICc0NDQ0Jyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGFiID09PSAndGhpcmQnKSB7CiAgICAgICAgZ2V0TG9naXN0aWNzTGlzdCh7CiAgICAgICAgICBldmlkSWQ6IHRoaXMuaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgJzU1NScpOwogICAgICAgICAgX3RoaXMxMS5nZXRMb2dpc3RpY3NEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBfdGhpczExLmxpc3RBY3RpdmVJdGVtID0gcmVzLmRhdGFbMF07CiAgICAgICAgICBfdGhpczExLmNhbllvdVByaW50ID0gcmVzLmRhdGFbMF0ub3JnU2VuZCA9PT0gMTsKICAgICAgICAgIF90aGlzMTEubWFpbEV2aWRFeHByZXNzSW5mb0lkID0gcmVzLmRhdGFbMF0uaWQ7IC8vIGNvbnNvbGUubG9nKHRoaXMubWFpbEV2aWRFeHByZXNzSW5mb0lkKQoKICAgICAgICAgIGlmIChyZXMuZGF0YVswXS5leHByZXNzSW5mb0lkKSB7CiAgICAgICAgICAgIC8vIOaWsOezu+e7n+aOpeWPowogICAgICAgICAgICBnZXRMb2dpc3RpY3NEYXRlaWwyKHsKICAgICAgICAgICAgICB0ZW1wT3JkZXJObzogcmVzLmRhdGFbMF0uZXhwcmVzc0luZm9JZAogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMsICfnianmtYHkv6Hmga8nKTsKICAgICAgICAgICAgICByZXMuZGF0YVswXS5jb2xvciA9ICcjMGJiZDg3JzsKICAgICAgICAgICAgICBfdGhpczExLmFjdGl2aXRpZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBnZXRMb2dpc3RpY3NEYXRlaWwoewogICAgICAgICAgICAvLyDml6fns7vnu5/mjqXlj6MKICAgICAgICAgICAgdGVtcE9yZGVyTm86IHJlcy5kYXRhWzBdLnRlbXBPcmRlck5vCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLCAn54mp5rWB5L+h5oGvJyk7CiAgICAgICAgICAgIHJlcy5kYXRhWzBdLmNvbG9yID0gJyMwYmJkODcnOwogICAgICAgICAgICBfdGhpczExLmFjdGl2aXRpZXMgPSByZXMuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdW5mb2xkQ2hhbmdlOiBmdW5jdGlvbiB1bmZvbGRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhbC5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdFtpXS5maWxlQnVja2V0ID0gdmFsLm1haWxFdmlkTWF0ZXJpYWxEVE9MaXN0W2ldLm1hdGVyaWFsQnVja2V0OwogICAgICB9CgogICAgICB0aGlzLm1hdGVyTGlzdCA9IHZhbC5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdCAhPT0gbnVsbCA/IHZhbC5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdCA6IFtdOwogICAgICB0aGlzLmV2aWRJZCA9IHZhbC5pZDsgLy8gJzEzNzEzNzkzMDQyMjk1NjAzMjInCgogICAgICB0aGlzLmV4dHJhY3Rpb25FdmlkZW5jZSA9IHRydWU7IC8vIHRoaXMubWFpbEV2aWRNYXRlcmlhbERUT0xpc3QgPSB0aGlzLm1hdGVyaWFsTGlzdERhdGFbMF0ubWFpbEV2aWRNYXRlcmlhbERUT0xpc3QKICAgICAgLy8gLy8gY29uc29sZS5sb2codGhpcy5tYWlsRXZpZE1hdGVyaWFsRFRPTGlzdCkKICAgICAgLy8gdGhpcy51bmZvbGQgPSB0cnVlCiAgICB9LAogICAgcGFja1VwOiBmdW5jdGlvbiBwYWNrVXAoKSB7CiAgICAgIHRoaXMubWFpbEV2aWRNYXRlcmlhbERUT0xpc3QgPSBbXTsKICAgICAgdGhpcy51bmZvbGQgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDnoa7orqTmlLbotKcKICAgIG9wZW5Qb3A6IGZ1bmN0aW9uIG9wZW5Qb3AodmFsKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIG1lc3NhZ2U6IGgoJ3AnLCBudWxsLCBbaCgncCcsIG51bGwsICfnoa7lrprmlLbliLDnlKjmiLflr4TpgIHnmoTmlofku7bljp/ku7bvvJ8nKSwgaCgnc3BhbicsIHsKICAgICAgICAgIHN0eWxlOiAnY29sb3I6ICNFNkEyM0MnCiAgICAgICAgfSwgJ+ehruiupOaUtuS7tuWQju+8jOmcgOWvhOmAgeWOn+S7tuOAgicpXSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMi5zdWJtaXRDb3N0KHZhbCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczEyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmAmui/h+WuoeaguAogICAgZ2V0QXBwcm92ZWQ6IGZ1bmN0aW9uIGdldEFwcHJvdmVkKHZhbCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh2YWwpCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWuoeaguOmAmui/h+ivpeeUs+ivt++8nycsICcnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTMuc3VibWl0Q29zdCh2YWwpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5pON5L2cJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmi5Lnu53lj5fnkIYKICAgIHJlZnVzZWRBY2NlcHQ6IGZ1bmN0aW9uIHJlZnVzZWRBY2NlcHQoKSB7CiAgICAgIHRoaXMucmVmdXNlZEFjY2VwdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOaLkue7neWPl+eQhuaPkOS6pAogICAgcmVmdXNlZEFjY2VwdFN1Ym1pdDogZnVuY3Rpb24gcmVmdXNlZEFjY2VwdFN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sncmVmdXNlZEFjY2VwdERpYWxvZyddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCwgb2JqKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWxpZCk7CiAgICAgICAgICB2YXIgdmFsID0gODsKCiAgICAgICAgICBfdGhpczE0LnN1Ym1pdENvc3QodmFsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRMZXR0ZXI6IGZ1bmN0aW9uIHNlbmRMZXR0ZXIoKSB7fSwKICAgIG1vZGlmeUNvc3Q6IGZ1bmN0aW9uIG1vZGlmeUNvc3QoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiB0aGlzLmNvc3REYXRhWzBdLmlkLAogICAgICAgIGxlZ2FsU2VydmljZUNvc3Q6IHRoaXMudG9zdERhdGEubGVnYWxUb3N0LAogICAgICAgIHdpdG5lc3NDb3N0OiB0aGlzLnRvc3REYXRhLnNhdmVUb3N0LAogICAgICAgIGV2aWRNYWlsSWQ6IHRoaXMubWFpbERhdGEuaWQsCiAgICAgICAgd2l0bmVzc051bTogdGhpcy50b3N0RGF0YS5xdWFudGl0eQogICAgICB9OwogICAgICBtb2RpZnlDb3N0SW5mb3JtYXRpb24oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLCAn5L+u5pS56LS555So5L+h5oGvJyk7CgogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMxNS4kcm91dGVyLmdvKDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVhbFRpbWVDb21wdXRpbmc6IGZ1bmN0aW9uIHJlYWxUaW1lQ29tcHV0aW5nKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnMDAwMDAnKQogICAgICBpZiAodGhpcy50b3N0RGF0YS5sZWdhbFRvc3QgPT09ICcnKSB7CiAgICAgICAgdGhpcy50b3N0RGF0YS50b3RhbCA9IHBhcnNlSW50KHRoaXMudG9zdERhdGEucXVhbnRpdHkpICogcGFyc2VGbG9hdCh0aGlzLnRvc3REYXRhLnNhdmVUb3N0KTsKICAgICAgICB0aGlzLnRvc3REYXRhLnRvdGFsID0gcGFyc2VGbG9hdCh0aGlzLnRvc3REYXRhLnRvdGFsKS50b0ZpeGVkKDIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9zdERhdGEubGVnYWxUb3N0ID0gdGhpcy50b3N0RGF0YS5sZWdhbFRvc3QucmVwbGFjZSgvXlwuK3xbXlxkLl0vZywgJycpLnJlcGxhY2UoL1wuezIsfS9nLCAnJykucmVwbGFjZSgnLicsICckIyQnKS5yZXBsYWNlKC9cLi9nLCAnJykucmVwbGFjZSgnJCMkJywgJy4nKTsKCiAgICAgICAgaWYgKHRoaXMudG9zdERhdGEubGVnYWxUb3N0LmluZGV4T2YoJy4nKSA+IDApIHsKICAgICAgICAgIHRoaXMudG9zdERhdGEubGVnYWxUb3N0ID0gdGhpcy50b3N0RGF0YS5sZWdhbFRvc3QucmVwbGFjZSgvXihcLSkqKFxkKylcLihcZFxkKS4qJC8sICckMSQyLiQzJykuc2xpY2UoMCwgMTMpOwoKICAgICAgICAgIGlmICh0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdC5pbmRleE9mKCcuJykgPiAxMCkgewogICAgICAgICAgICB0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdCA9IHRoaXMudG9zdERhdGEubGVnYWxUb3N0LnN1YnN0cmluZygwLCB0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdC5sZW5ndGggLSAzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50b3N0RGF0YS5sZWdhbFRvc3QgPSB0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdC5yZXBsYWNlKC9eKFwtKSooXGQrKVwuKFxkXGQpLiokLywgJyQxJDIuJDMnKS5zbGljZSgwLCAxMCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnRvc3REYXRhLnRvdGFsID0gcGFyc2VJbnQodGhpcy50b3N0RGF0YS5xdWFudGl0eSkgKiBwYXJzZUludCh0aGlzLnRvc3REYXRhLnNhdmVUb3N0KSArIHBhcnNlSW50KHRoaXMudG9zdERhdGEucXVhbnRpdHkpICogcGFyc2VGbG9hdCh0aGlzLnRvc3REYXRhLmxlZ2FsVG9zdCk7CiAgICAgICAgdGhpcy50b3N0RGF0YS50b3RhbCA9IHBhcnNlRmxvYXQodGhpcy50b3N0RGF0YS50b3RhbCkudG9GaXhlZCgyKTsKICAgICAgfQogICAgfSwKICAgIHZpZXdBY2NvdW50SW5mb3JtYXRpb246IGZ1bmN0aW9uIHZpZXdBY2NvdW50SW5mb3JtYXRpb24odmFsKSB7CiAgICAgIC8vIHRoaXMuZXZpZElkID0gdGhpcy5lbnRyeURhdGEuaWQKICAgICAgdGhpcy5hY2NvdW50TnVtYmVyID0gdHJ1ZTsKICAgIH0sCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdlbnRyeUxpc3QnCiAgICAgIH0pOwogICAgfSwKICAgIC8vIGFzeW5jIHByaW50aW5nTWF0KCkgewogICAgLy8gCS8vIGNvbnNvbGUubG9nKG51bGwgKyAnMDAwJykKICAgIC8vIAljb25zdCBwID0geyBldmlkSWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VudHJ5SWQnKSwgbWFpbEV2aWRFeHByZXNzSW5mb0lkOiB0aGlzLm1haWxFdmlkRXhwcmVzc0luZm9JZCB9CiAgICAvLyAJY29uc3Qgc3RhdHVzID0gYXdhaXQgcHJpbnRJbml0KDIsIHApCiAgICAvLyAJaWYgKHN0YXR1cykgewogICAgLy8gCQlzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vIAkJCXByaW50KCkKICAgIC8vIAkJfSwgMTAwMCkKICAgIC8vIAkJLy8gY29uc29sZS5sb2coc3RhdHVzKQogICAgLy8gCX0KICAgIC8vIH0KICAgIC8vIOaJk+WNsOmdouWNlQogICAgaGFuZGxlUHJpbnQ6IGZ1bmN0aW9uIGhhbmRsZVByaW50KCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBmbGFnOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBwYWNrYWdlUHJpbnQoX3RoaXMxNi5saXN0QWN0aXZlSXRlbS5leHByZXNzSW5mb0lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmiZPljbDpnaLljZUiLCByZXMpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdWNjZXNzICYmIHJlcy5kYXRhKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHByaW50SW5pdChyZXMpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBmbGFnID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGZsYWcgJiYgcHJpbnQoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXMxNi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmiZPljbDlpLHotKXvvIzor7fnqI3lkI7lho3or5XvvIEiLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},null]}