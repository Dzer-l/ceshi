{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/src/views/business/rtc-client.js","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/business/rtc-client.js","mtime":1634724784705},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCi8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MgKi8KaW1wb3J0IFRSVEMgZnJvbSAndHJ0Yy1qcy1zZGsvdHJ0Yyc7CmltcG9ydCB7IGF4aW9zIH0gZnJvbSAnQC91dGlscy9heGlvcyc7CnZhciBub3RpZnkgPSBudWxsOwoKdmFyIFJ0Y0NsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUnRjQ2xpZW50KG9wdGlvbnMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSdGNDbGllbnQpOwoKICAgIHRoaXMuc2RrQXBwSWRfID0gb3B0aW9ucy5zZGtBcHBJZDsKICAgIHRoaXMudXNlcklkXyA9IG9wdGlvbnMudXNlcklkOwogICAgdGhpcy51c2VyU2lnXyA9IG9wdGlvbnMudXNlclNpZzsKICAgIHRoaXMucm9vbUlkXyA9IG9wdGlvbnMucm9vbU51bTsKICAgIHRoaXMub3JkZXJJZCA9IG9wdGlvbnMub3JkZXJJZDsKICAgIHRoaXMubm90YXJ5SWQgPSBudWxsOwogICAgdGhpcy5jaGFubmVsID0gbnVsbDsKICAgIHRoaXMudXNlcklkID0gbnVsbDsKICAgIHRoaXMucGF0aF8gPSBudWxsOwogICAgdGhpcy5ub3RhcnlPZmZpY2VJZCA9IG51bGw7CiAgICB0aGlzLmlzSm9pbmVkXyA9IGZhbHNlOwogICAgdGhpcy5pc1B1Ymxpc2hlZF8gPSBmYWxzZTsKICAgIHRoaXMubG9jYWxTdHJlYW1fID0gbnVsbDsKICAgIHRoaXMucmVtb3RlU3RyZWFtc18gPSBbXTsKICAgIHRoaXMudmlkZW9MaXN0ID0gW107IC8vIGNoZWNrIGlmIGJyb3dzZXIgaXMgY29tcGF0aWJsZSB3aXRoIFRSVEMKCiAgICBUUlRDLmNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgYWxlcnQoJ1lvdXIgYnJvd3NlciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFRSVEMhIFBsZWFzZSBkb3dubG9hZCBDaHJvbWUgTTcyKycpOwogICAgICB9CiAgICB9KTsKICB9IC8vIHNldEF0dHIoZCwgZSwgZiwgZywgaCwgaikgewogIC8vICAgICB0aGlzLm5vdGFyeUlkID0gZDsKICAvLyAgICAgdGhpcy5ub3RhcnlPZmZpY2VJZCA9IGU7CiAgLy8gICAgIHRoaXMucGF0aF8gPSBmOwogIC8vICAgICB0aGlzLm9yZGVySWQgPSBnOwogIC8vICAgICB0aGlzLmNoYW5uZWwgPSBoOwogIC8vICAgICB0aGlzLnVzZXJJZCA9IGo7CiAgLy8gfQogIC8vIGNhbmNlbE5vdGFyeUNhbGwoKSB7CiAgLy8gICAgIGF4aW9zCiAgLy8gICAgICAgICAuZ2V0KAogIC8vICAgICAgICAgICAgIHRoaXMucGF0aF8gKwogIC8vICAgICAgICAgICAgICIvYXBpL25vdGFyeS9jYWxsQWJsZS9jYW5jZWxOb3RhcnlDYWxsP25vdGFyeUlkPSIgKwogIC8vICAgICAgICAgICAgIHRoaXMubm90YXJ5SWQgKwogIC8vICAgICAgICAgICAgICImbm90YXJ5T2ZmaWNlSWQ9IiArCiAgLy8gICAgICAgICAgICAgdGhpcy5ub3RhcnlPZmZpY2VJZAogIC8vICAgICAgICAgKQogIC8vICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coInN1Y2Nlc3MiKTsKICAvLyAgICAgICAgIH0pCiAgLy8gICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZSkgewogIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciIpOwogIC8vICAgICAgICAgfSk7CiAgLy8gfQogIC8vIGNhbmNlbE1peFN0cmVhbSgpIHsKICAvLyAgICAgdmFyIHFzID0gcmVxdWlyZSgicXMiKTsKICAvLyAgICAgYXhpb3MKICAvLyAgICAgICAgIC5wb3N0KAogIC8vICAgICAgICAgICAgIHRoaXMucGF0aF8gKyAiL2FwaS9ub3RhcnkvZW50cnVzdE9yZGVyL2NhbmNlbE1peFN0cmVhbSIsCiAgLy8gICAgICAgICAgICAgcXMuc3RyaW5naWZ5KHsgb3JkZXJJZDogdGhpcy5vcmRlcklkIH0pCiAgLy8gICAgICAgICApCiAgLy8gICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpIHsKICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZygic3VjY2VzcyIpOwogIC8vICAgICAgICAgfSkKICAvLyAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7CiAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIik7CiAgLy8gICAgICAgICB9KTsKICAvLyB9CgoKICBfY3JlYXRlQ2xhc3MoUnRjQ2xpZW50LCBbewogICAga2V5OiAiZ2V0Tm90aWZ5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb3RpZnkoZSkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3QtYXNzaWduCiAgICAgIG5vdGlmeSA9IGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiam9pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2pvaW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjYW1lcmFzLCBzb3VyY2VzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNKb2luZWRfKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2R1cGxpY2F0ZSBSdGNDbGllbnQuam9pbigpIG9ic2VydmVkJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgY2xpZW50IGZvciBSdGNDbGllbnQKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50XyA9IFRSVEMuY3JlYXRlQ2xpZW50KHsKICAgICAgICAgICAgICAgICAgbW9kZTogJ3ZpZGVvQ2FsbCcsCiAgICAgICAgICAgICAgICAgIC8vIOWunuaXtumAmuivneaooeW8jwogICAgICAgICAgICAgICAgICBzZGtBcHBJZDogdGhpcy5zZGtBcHBJZF8sCiAgICAgICAgICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWRfLAogICAgICAgICAgICAgICAgICB1c2VyU2lnOiB0aGlzLnVzZXJTaWdfCiAgICAgICAgICAgICAgICB9KTsgLy8g5aSE55CGIGNsaWVudCDkuovku7YKCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudF8uam9pbih7CiAgICAgICAgICAgICAgICAgIHJvb21JZDogdGhpcy5yb29tSWRfCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2pvaW4gcm9vbSBzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6L+b5oi/5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICB0aGlzLmlzSm9pbmVkXyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gam9pbiByb29tIGJlY2F1c2U6ICcgKyBfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICBhbGVydCgn5ZG85Y+r5aSx6LSlJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6L+b5oi/6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNka0FwcElkXywgdGhpcy51c2VySWRfLCB0aGlzLnVzZXJTaWdfKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTG9jYWxTdHJlYW0oewogICAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdmlkZW86IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aRhOWDj+WktOWPium6puWFi+mjjumHh+mbhuaIkOWKn++8gScpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZUxvY2FsU3RyZWFtIHdpdGggYXVkaW8vdmlkZW8gc3VjY2VzcycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDIwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NyZWF0ZUxvY2FsU3RyZWFtIHdpdGggYXVkaW8vdmlkZW8gZmFpbGVkOiAnICsgX2NvbnRleHQudDEpOwogICAgICAgICAgICAgICAgYWxlcnQoJ+ivt+ehruiupOW3sui/nuaOpeaRhOWDj+WktOWSjOm6puWFi+mjjuW5tuaOiOS6iOWFtuiuv+mXruadg+mZkCEnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUxvY2FsU3RyZWFtKHsKICAgICAgICAgICAgICAgICAgYXVkaW86IGZhbHNlLAogICAgICAgICAgICAgICAgICB2aWRlbzogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6YeH6ZuG5pGE5YOP5aS05oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHRbImNhdGNoIl0oMzEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignY3JlYXRlTG9jYWxTdHJlYW0gd2l0aCB2aWRlbyBmYWlsZWQ6ICcgKyBfY29udGV4dC50Mik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIGNhbWVyYXMgPSBudWxsOwogICAgICAgICAgICAgICAgVFJUQy5nZXRDYW1lcmFzKCkudGhlbihmdW5jdGlvbiAoZGV2aWNlcykgewogICAgICAgICAgICAgICAgICBjYW1lcmFzID0gZGV2aWNlczsKICAgICAgICAgICAgICAgICAgZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXYpIHsvLyBhbGVydChkZXYubGFiZWwpOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYW1lcmEgbGFiZWw6ICcgKyBkZXYubGFiZWwgKyAnIGRldmljZUlkOiAnICsgZGV2LmRldmljZUlkKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTdHJlYW1fLm9uKCdwbGF5ZXItc3RhdGUtY2hhbmdlZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygibG9jYWwgc3RyZWFtICIuY29uY2F0KGV2ZW50LnR5cGUsICIgcGxheWVyIGlzICIpLmNvbmNhdChldmVudC5zdGF0ZSkpOwoKICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd2aWRlbycgJiYgZXZlbnQuc3RhdGUgPT09ICdQTEFZSU5HJykgey8vIGRpc21pc3MgdGhlIHJlbW90ZSB1c2VyIFVJIHBsYWNlaG9sZGVyCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ3ZpZGVvJyAmJiBldmVudC5zdGF0ZSA9PT0gJ1NUT1BQUEVEJykgey8vIHNob3cgdGhlIHJlbW90ZSB1c2VyIFVJIHBsYWNlaG9sZGVyCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyAvLyDlnKjlkI3kuLog4oCYbG9jYWxfc3RyZWFt4oCZIOeahCBkaXYg5a655Zmo5LiK5pKt5pS+5pys5Zyw6Z+z6KeG6aKRCgogICAgICAgICAgICAgICAgdGhpcy5sb2NhbFN0cmVhbV8ucGxheSgnbG9jYWxfc3RyZWFtJyk7IC8vIHB1Ymxpc2ggbG9jYWwgc3RyZWFtIGJ5IGRlZmF1bHQgYWZ0ZXIgam9pbiB0aGUgcm9vbQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1Ymxpc2goKTsKCiAgICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflj5HluIPmnKzlnLDmtYHmiJDlip/vvIEnKTsKICAgICAgICAgICAgICAgIHNvdXJjZXMgPSB7fTsKICAgICAgICAgICAgICAgIHNvdXJjZXMuY2FtZXJhcyA9IGNhbWVyYXM7CiAgICAgICAgICAgICAgICBzb3VyY2VzLmxvY2FsU3RyZWFtID0gdGhpcy5sb2NhbFN0cmVhbV87CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzb3VyY2VzKTsKCiAgICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbNSwgMTNdLCBbMjAsIDI3XSwgWzMxLCAzN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gam9pbigpIHsKICAgICAgICByZXR1cm4gX2pvaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGpvaW47CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsZWF2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xlYXZlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0pvaW5lZF8pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xlYXZlKCkgLSBsZWF2ZSB3aXRob3V0IGpvaW4oKWQgb2JzZXJ2ZWQnKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7flhYjliqDlhaXmiL/pl7TvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzUHVibGlzaGVkXykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVucHVibGlzaCh0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudF8ubGVhdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpgIDmiL/miJDlip/vvIEnKTsKICAgICAgICAgICAgICAgIHRoaXMuaXNKb2luZWRfID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDcpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIGxlYXZlIHRoZSByb29tIGJlY2F1c2UgJyArIF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTg7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMubG9jYWxTdHJlYW1fICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgLy8g5YGc5q2i5pys5Zyw5rWB77yM5YWz6Zet5pys5Zyw5rWB5YaF6YOo55qE6Z+z6KeG6aKR5pKt5pS+5ZmoCiAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTdHJlYW1fLnN0b3AoKTsgLy8g5YWz6Zet5pys5Zyw5rWB77yM6YeK5pS+5pGE5YOP5aS05ZKM6bqm5YWL6aOO6K6/6Zeu5p2D6ZmQCgogICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU3RyZWFtXy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU3RyZWFtXyA9IG51bGw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTgpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzcsIDE0LCAxOCwgMjFdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxlYXZlKCkgewogICAgICAgIHJldHVybiBfbGVhdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxlYXZlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicHVibGlzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3B1Ymxpc2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSm9pbmVkXykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7flhYjliqDlhaXmiL/pl7Tlho3ngrnlh7vlvIDlp4vmjqjmtYHvvIEnKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigncHVibGlzaCgpIC0gcGxlYXNlIGpvaW4oKSBmaXJzdGx5Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1B1Ymxpc2hlZF8pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2R1cGxpY2F0ZSBSdGNDbGllbnQucHVibGlzaCgpIG9ic2VydmVkJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5q2j5Zyo5o6o5rWB77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRfLnB1Ymxpc2godGhpcy5sb2NhbFN0cmVhbV8pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WPkeW4g+acrOWcsOa1geaIkOWKn++8gScpOwogICAgICAgICAgICAgICAgdGhpcy5pc1B1Ymxpc2hlZF8gPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSg4KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZhaWxlZCB0byBwdWJsaXNoIGxvY2FsIHN0cmVhbSAnICsgX2NvbnRleHQzLnQwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflj5HluIPmnKzlnLDmtYHlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIHRoaXMuaXNQdWJsaXNoZWRfID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbOCwgMTVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHB1Ymxpc2goKSB7CiAgICAgICAgcmV0dXJuIF9wdWJsaXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwdWJsaXNoOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidW5wdWJsaXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdW5wdWJsaXNoID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaXNMZWF2aW5nKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0pvaW5lZF8pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VucHVibGlzaCgpIC0gcGxlYXNlIGpvaW4oKSBmaXJzdGx5Jyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35YWI5Yqg5YWl5oi/6Ze05YaN5YGc5q2i5o6o5rWB77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUHVibGlzaGVkXykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUnRjQ2xpZW50LnVucHVibGlzaCgpIGNhbGxlZCBidXQgbm90IHB1Ymxpc2hlZCB5ZXQnKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3lsJrmnKrlj5HluIPmnKzlnLDmtYHvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudF8udW5wdWJsaXNoKHRoaXMubG9jYWxTdHJlYW1fKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHRoaXMuaXNQdWJsaXNoZWRfID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YGc5q2i5Y+R5biD5pys5Zyw5rWB5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDgpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIHVucHVibGlzaCBsb2NhbCBzdHJlYW0gYmVjYXVzZSAnICsgX2NvbnRleHQ0LnQwKTsKCiAgICAgICAgICAgICAgICBpZiAoIWlzTGVhdmluZykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xlYXZpbmcgdGhlIHJvb20gYmVjYXVzZSB1bnB1Ymxpc2ggZmFpbHVyZSBvYnNlcnZlZCcpOwogICAgICAgICAgICAgICAgICB0aGlzLmxlYXZlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbOCwgMTVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVucHVibGlzaChfeCkgewogICAgICAgIHJldHVybiBfdW5wdWJsaXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bnB1Ymxpc2g7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVMb2NhbFN0cmVhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NyZWF0ZUxvY2FsU3RyZWFtID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUob3B0aW9ucykgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5sb2NhbFN0cmVhbV8gPSBUUlRDLmNyZWF0ZVN0cmVhbSh7CiAgICAgICAgICAgICAgICAgIGF1ZGlvOiBvcHRpb25zLmF1ZGlvLAogICAgICAgICAgICAgICAgICAvLyDph4fpm4bpuqblhYvpo44KICAgICAgICAgICAgICAgICAgdmlkZW86IG9wdGlvbnMudmlkZW8sCiAgICAgICAgICAgICAgICAgIC8vIOmHh+mbhuaRhOWDj+WktAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkXyAvLyBjYW1lcmFJZDogZ2V0Q2FtZXJhSWQoKSwKICAgICAgICAgICAgICAgICAgLy8gbWljcm9waG9uZUlkOiBnZXRNaWNyb3Bob25lSWQoKQoKICAgICAgICAgICAgICAgIH0pOyAvLyDorr7nva7op4bpopHliIbovqjnjofluKfnjoflkoznoIHnjocKCiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU3RyZWFtXy5zZXRWaWRlb1Byb2ZpbGUoJzQ4MHAnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RyZWFtXy5pbml0aWFsaXplKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsU3RyZWFtKF94MikgewogICAgICAgIHJldHVybiBfY3JlYXRlTG9jYWxTdHJlYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsU3RyZWFtOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaGFuZGxlRXZlbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFdmVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDlpITnkIYgY2xpZW50IOmUmeivr+S6i+S7tu+8jOmUmeivr+Wdh+S4uuS4jeWPr+aBouWkjemUmeivr++8jOW7uuiuruaPkOekuueUqOaIt+WQjuWIt+aWsOmhtemdogogICAgICB0aGlzLmNsaWVudF8ub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICBhbGVydChlcnIpOwogICAgICAgIGNvbnNvbGUubG9nKCflrqLmiLfnq6/plJnor6/vvJonICsgZXJyKTsgLy8gbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOyAvLyDlpITnkIbnlKjmiLfooqvouKLkuovku7bvvIzpgJrluLjmmK/lm6DkuLrmiL/pl7TlhoXmnInlkIzlkI3nlKjmiLflvJXotbfvvIzov5nnp43pl67popjkuIDoiKzmmK/lupTnlKjlsYLpgLvovpHplJnor6/lvJXotbfnmoQKICAgICAgLy8g5bqU55So5bGC6K+35bC96YeP5L2/55So5LiN5ZCM55So5oi3SUTov5vmiL8KCiAgICAgIHRoaXMuY2xpZW50Xy5vbignY2xpZW50LWJhbm5lZCcsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdjbGllbnQgaGFzIGJlZW4gYmFubmVkIGZvciAnICsgZXJyKTsKICAgICAgICBjb25zb2xlLmxvZygn55So5oi36KKr6Lii5Ye65oi/6Ze077yBJyk7IC8vIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsgLy8g6L+c56uv55So5oi36L+b5oi/6YCa55+lIC0g5LuF6ZmQ5Li75Yqo5o6o5rWB55So5oi3CgogICAgICB0aGlzLmNsaWVudF8ub24oJ3BlZXItam9pbicsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICB2YXIgdXNlcklkID0gZXZ0LnVzZXJJZDsKICAgICAgICBjb25zb2xlLmxvZygncGVlci1qb2luICcgKyB1c2VySWQpOwogICAgICAgIGNvbnNvbGUubG9nKCfov5znq6/nlKjmiLfov5vmiL8gLSAnICsgdXNlcklkKTsKICAgICAgfSk7IC8vIOi/nOerr+eUqOaIt+mAgOaIv+mAmuefpSAtIOS7hemZkOS4u+WKqOaOqOa1geeUqOaItwoKICAgICAgdGhpcy5jbGllbnRfLm9uKCdwZWVyLWxlYXZlJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHZhciB1c2VySWQgPSBldnQudXNlcklkOwogICAgICAgIGNvbnNvbGUubG9nKCdwZWVyLWxlYXZlICcgKyB1c2VySWQpOwogICAgICAgIGNvbnNvbGUubG9nKCfov5znq6/nlKjmiLfpgIDmiL8gLSAnICsgdXNlcklkKTsgLy8g5Y+W5raI5YWs6K+B5ZGY6YCa6K+d5Lit54q25oCBCiAgICAgICAgLy8gdGhpcy5jYW5jZWxOb3RhcnlDYWxsKCk7CiAgICAgICAgLy8g5Y+W5raI5re35rWBCiAgICAgICAgLy8gdGhpcy5jYW5jZWxNaXhTdHJlYW0oKTsKICAgICAgfSk7IC8vIOWkhOeQhui/nOerr+a1geWinuWKoOS6i+S7tgoKICAgICAgdGhpcy5jbGllbnRfLm9uKCdzdHJlYW0tYWRkZWQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgdmFyIHJlbW90ZVN0cmVhbSA9IGV2dC5zdHJlYW07CiAgICAgICAgdmFyIGlkID0gcmVtb3RlU3RyZWFtLmdldElkKCk7CiAgICAgICAgdmFyIHVzZXJJZCA9IHJlbW90ZVN0cmVhbS5nZXRVc2VySWQoKTsKICAgICAgICBjb25zb2xlLmxvZygicmVtb3RlIHN0cmVhbSBhZGRlZDogWyIuY29uY2F0KHVzZXJJZCwgIl0gSUQ6ICIpLmNvbmNhdChpZCwgIiB0eXBlOiAiKS5jb25jYXQocmVtb3RlU3RyZWFtLmdldFR5cGUoKSkpOwogICAgICAgIGNvbnNvbGUubG9nKCfov5znq6/mtYHlop7liqAgLSAnICsgdXNlcklkKTsKICAgICAgICBjb25zb2xlLmxvZygnc3Vic2NyaWJlIHRvIHRoaXMgcmVtb3RlIHN0cmVhbScpOyAvLyDov5znq6/mtYHpu5jorqTlt7LorqLpmIXmiYDmnInpn7Pop4bpopHvvIzmraTlpITlj6/mjIflrprlj6rorqLpmIXpn7PpopHmiJbogIXpn7Pop4bpopHvvIzkuI3og73ku4XorqLpmIXop4bpopHjgIIKICAgICAgICAvLyDlpoLmnpzkuI3mg7Pop4LnnIvor6Xot6/ov5znq6/mtYHvvIzlj6/osIPnlKggdGhpcy5jbGllbnRfLnVuc3Vic2NyaWJlKHJlbW90ZVN0cmVhbSkg5Y+W5raI6K6i6ZiFCgogICAgICAgIF90aGlzLmNsaWVudF8uc3Vic2NyaWJlKHJlbW90ZVN0cmVhbSk7CiAgICAgIH0pOyAvLyDov5znq6/mtYHorqLpmIXmiJDlip/kuovku7YKCiAgICAgIHRoaXMuY2xpZW50Xy5vbignc3RyZWFtLXN1YnNjcmliZWQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgdmFyIHJlbW90ZVN0cmVhbSA9IGV2dC5zdHJlYW07CiAgICAgICAgdmFyIHVzZXJJZCA9IHJlbW90ZVN0cmVhbS5nZXRVc2VySWQoKTsKCiAgICAgICAgX3RoaXMucmVtb3RlU3RyZWFtc18ucHVzaChyZW1vdGVTdHJlYW0pOwoKICAgICAgICBfdGhpcy52aWRlb0xpc3QucHVzaCh1c2VySWQpOwoKICAgICAgICBheGlvcygib3JnL2VudGVyLWxpdmUtcm9vbT9tb2JpbGU9Ii5jb25jYXQodXNlcklkLCAiJm9yZGVySWQ9IikuY29uY2F0KF90aGlzLm9yZGVySWQpKTsKICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS04ODg4ODg4ODg4OC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVtb3RlU3RyZWFtLnBsYXkoInJlbW90ZV9zdHJlYW0iLmNvbmNhdCh1c2VySWQpKTsKICAgICAgICB9LCA1MDApOwogICAgICB9KTsgLy8g5aSE55CG6L+c56uv5rWB6KKr5Yig6Zmk5LqL5Lu2CgogICAgICB0aGlzLmNsaWVudF8ub24oJ3N0cmVhbS1yZW1vdmVkJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKGV2dCwgJ+eUqOaIt+mAgOWHuuS6hicpOwogICAgICAgIHZhciByZW1vdGVTdHJlYW0gPSBldnQuc3RyZWFtOwogICAgICAgIHZhciBpZCA9IHJlbW90ZVN0cmVhbS5nZXRJZCgpOwogICAgICAgIHZhciB1c2VySWQgPSByZW1vdGVTdHJlYW0uZ2V0VXNlcklkKCk7CgogICAgICAgIHZhciBpID0gX3RoaXMudmlkZW9MaXN0LmluZGV4T2YodXNlcklkKTsKCiAgICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgICBfdGhpcy52aWRlb0xpc3Quc3BsaWNlKGksIDEpOwoKICAgICAgICAgIGF4aW9zKCJvcmcvbGVhdmUtbGl2ZS1yb29tP21vYmlsZT0iLmNvbmNhdCh1c2VySWQsICImb3JkZXJJZD0iKS5jb25jYXQoX3RoaXMub3JkZXJJZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflvZPkuovkuronICsgcmVzLmRhdGEgKyAn6YCA5Ye65oi/6Ze0JywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIG9mZnNldDogMTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IC8vIOWFs+mXrei/nOerr+a1geWGhemDqOeahOmfs+inhumikeaSreaUvuWZqAoKCiAgICAgICAgcmVtb3RlU3RyZWFtLnN0b3AoKTsKICAgICAgICBfdGhpcy5yZW1vdGVTdHJlYW1zXyA9IF90aGlzLnJlbW90ZVN0cmVhbXNfLmZpbHRlcihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICByZXR1cm4gc3RyZWFtLmdldElkKCkgIT09IGlkOwogICAgICAgIH0pOwogICAgICB9KTsgLy8g5aSE55CG6L+c56uv5rWB5pu05paw5LqL5Lu277yM5Zyo6Z+z6KeG6aKR6YCa6K+d6L+H56iL5Lit77yM6L+c56uv5rWB6Z+z6aKR5oiW6KeG6aKR5Y+v6IO95Lya5pyJ5pu05pawCgogICAgICB0aGlzLmNsaWVudF8ub24oJ3N0cmVhbS11cGRhdGVkJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHZhciByZW1vdGVTdHJlYW0gPSBldnQuc3RyZWFtOwogICAgICAgIGNvbnNvbGUubG9nKCd0eXBlOiAnICsgcmVtb3RlU3RyZWFtLmdldFR5cGUoKSArICcgc3RyZWFtLXVwZGF0ZWQgaGFzQXVkaW86ICcgKyByZW1vdGVTdHJlYW0uaGFzQXVkaW8oKSArICcgaGFzVmlkZW86ICcgKyByZW1vdGVTdHJlYW0uaGFzVmlkZW8oKSk7CiAgICAgICAgY29uc29sZS5sb2coJ+i/nOerr+a1geabtOaWsO+8gScpOwogICAgICB9KTsgLy8g6L+c56uv5rWB6Z+z6aKR5oiW6KeG6aKRbXV0ZeeKtuaAgemAmuefpQoKICAgICAgdGhpcy5jbGllbnRfLm9uKCdtdXRlLWF1ZGlvJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKGV2dC51c2VySWQgKyAnIG11dGUgYXVkaW8nKTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2xpZW50Xy5vbigndW5tdXRlLWF1ZGlvJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKGV2dC51c2VySWQgKyAnIHVubXV0ZSBhdWRpbycpOwogICAgICB9KTsKICAgICAgdGhpcy5jbGllbnRfLm9uKCdtdXRlLXZpZGVvJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKGV2dC51c2VySWQgKyAnIG11dGUgdmlkZW8nKTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2xpZW50Xy5vbigndW5tdXRlLXZpZGVvJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKGV2dC51c2VySWQgKyAnIHVubXV0ZSB2aWRlbycpOwogICAgICB9KTsgLy8g5L+h5Luk6YCa6YGT6L+e5o6l54q25oCB6YCa55+lCgogICAgICB0aGlzLmNsaWVudF8ub24oJ2Nvbm5lY3Rpb24tc3RhdGUtY2hhbmdlZCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBjb25zb2xlLmxvZygiUnRjQ2xpZW50IHN0YXRlIGNoYW5nZWQgdG8gIi5jb25jYXQoZXZ0LnN0YXRlLCAiIGZyb20gIikuY29uY2F0KGV2dC5wcmV2U3RhdGUpKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUnRjQ2xpZW50Owp9KCk7CgpleHBvcnQgeyBSdGNDbGllbnQgYXMgZGVmYXVsdCB9Ow=="},null]}