{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/issuance/mail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/issuance/mail.vue","mtime":1634724784709},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZ2lvbkRhdGEgfSBmcm9tICdlbGVtZW50LWNoaW5hLWFyZWEtZGF0YSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDlv4XloavkuIDkuKrvvIjlr4Tku7bvvIkKICAgIHZhciBSZXF1aXJlZE9uZSA9IGZ1bmN0aW9uIFJlcXVpcmVkT25lKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICB2YXIgZml4ZWRMaW5lID0gX3RoaXMuZWRpdFNlbmRJbmZvLmNvbnRhY3ROdW1iZXI7CiAgICAgIHZhciBjb250YWN0TnVtYmVyID0gX3RoaXMuZWRpdFNlbmRJbmZvLmZpeGVkTGluZTsKCiAgICAgIGlmIChmaXhlZExpbmUgPT0gJycgJiYgY29udGFjdE51bWJlciA9PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOW/heWhq+S4gOS4qu+8iOaUtuS7tu+8iQoKCiAgICB2YXIgUmVxdWlyZWRPbmUyID0gZnVuY3Rpb24gUmVxdWlyZWRPbmUyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICB2YXIgcmVjZWl2ZU1vYmlsZSA9IF90aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlTW9iaWxlOwogICAgICB2YXIgcmVjZWl2ZUZpeGVkTGluZSA9IF90aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlRml4ZWRMaW5lOwoKICAgICAgaWYgKHJlY2VpdmVNb2JpbGUgPT0gJycgJiYgcmVjZWl2ZUZpeGVkTGluZSA9PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOaJi+acuuWPt+mqjOivgQoKCiAgICB2YXIgdmFsaWRhdGVQaG9uZSA9IGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwICYmIHZhbHVlLmxlbmd0aCA8IDcgfHwgdmFsdWUubGVuZ3RoID4gMTUpIHsKICAgICAgICBjYWxsYmFjaygn6K+35aGr5YaZNy0xNeS9jeaVsOWtlycpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOWbuuWumuWPt+eggemqjOivgQoKCiAgICB2YXIgdmFsaWRhdGVGaXhlTGluZSA9IGZ1bmN0aW9uIHZhbGlkYXRlRml4ZUxpbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwICYmICEvXihcZHsyLDR9LSlcZHs3LDE0fSQvLnRlc3QodmFsdWUpKSB7CiAgICAgICAgY2FsbGJhY2soJ+ivt+Whq+WGmeato+ehrueahOWbuuWumueUteivnScpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcGF5TWV0aG9kOiAn5pS25pa55LuYJywKICAgICAgcGF5TWV0aG9kT3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogJzInLAogICAgICAgIGxhYmVsOiAn5pS25pa55LuYJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxJywKICAgICAgICBsYWJlbDogJ+WvhOS7mOaciOe7kycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnNCcsCiAgICAgICAgbGFiZWw6ICflr4Tku5jnjrDnu5MnCiAgICAgIH1dLAogICAgICBleHByZXNzVHlwZTogMSwKICAgICAgcmVtYXJrOiAnJywKICAgICAgaW5wdXQ6IGZhbHNlLAogICAgICB1c2VyVHlwZTogMiwKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwKICAgICAgYTogJ1oyMDA4MTcwMDIzMicsCiAgICAgIGI6ICcxMTExJywKICAgICAgb3JkZXJOdW06ICcnLAogICAgICBzZW5kSW5mbzogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG9yZ0lkOiBudWxsLAogICAgICAgIHN5c1VzZXJJZDogbnVsbCwKICAgICAgICBzZW5kZXJOYW1lOiBudWxsLAogICAgICAgIGNvbnRhY3ROdW1iZXI6IG51bGwsCiAgICAgICAgZml4ZWRMaW5lOiBudWxsLAogICAgICAgIHJlZ2lvbkNvZGU6IG51bGwsCiAgICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgICBkZXRhaWxBZGRyZXNzOiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgc2lnblR5cGU6IG51bGwKICAgICAgfSwKICAgICAgZWRpdFNlbmRJbmZvOiB7CiAgICAgICAgc2VuZGVyTmFtZTogbnVsbCwKICAgICAgICBjb250YWN0TnVtYmVyOiBudWxsLAogICAgICAgIGZpeGVkTGluZTogbnVsbCwKICAgICAgICByZWdpb25Db2RlOiBudWxsLAogICAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgICAgZGV0YWlsQWRkcmVzczogbnVsbAogICAgICB9LAogICAgICBvcHRpb25zOiByZWdpb25EYXRhLAogICAgICAvLyDln47luILpgInmi6nnoIEKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRSZWNlaXZlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRTZW5kZXJJbmZvRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdFRpbWU6IDEsCiAgICAgIHNlbGVjdFRpbWUyOiBudWxsLAogICAgICB0aW1lU2VsZWN0TGlzdDogW3sKICAgICAgICB0aXQ6ICfku4rlpKknLAogICAgICAgIHR5cGU6IDEKICAgICAgfSwgewogICAgICAgIHRpdDogJ+aYjuWkqScsCiAgICAgICAgdHlwZTogMgogICAgICB9LCB7CiAgICAgICAgdGl0OiAn5ZCO5aSpJywKICAgICAgICB0eXBlOiAzCiAgICAgIH1dLAogICAgICBkYXRlVGltZUxpc3Q6IFtdLAogICAgICByZXNlcnZlRGF0ZVRpbWU6IG51bGwsCiAgICAgIHJlc2VydmVEYXRlOiBbXSwKICAgICAgc2VuZFN0YXJ0VGltZTogbnVsbCwKICAgICAgZWRpdFJlY2VpdmVJbmZvOiB7CiAgICAgICAgcHJvZE5hbWU6ICcnLAogICAgICAgIG9yZGVyTnVtOiAnJywKICAgICAgICBkb3NzaWVyTnVtOiAnJywKICAgICAgICByZWNlaXZlTmFtZTogJycsCiAgICAgICAgcmVjZWl2ZU1vYmlsZTogJycsCiAgICAgICAgcmVjZWl2ZUZpeGVkTGluZTogJycsCiAgICAgICAgcmVjZWl2ZUFkZHJlc3M6ICcnLAogICAgICAgIHJlY2VpdmVEZXRhaWxBZGRyZXNzOiAnJywKICAgICAgICByZWNlaXZlUmVnaW9uQ29kZTogbnVsbAogICAgICB9LAogICAgICBlZGl0UmVjZWl2ZVJvdzogMCwKICAgICAgcGxhY2VPcmRlckxpc3Q6IFtdLAogICAgICBydWxlczogewogICAgICAgIHNlbmRlck5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICcg6K+35aGr5YaZ5a+E5Lu25Lq6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMiwKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZMi0xNeS4quWtlycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb250YWN0TnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdG9yOiBSZXF1aXJlZE9uZSwKICAgICAgICAgIG1lc3NhZ2U6ICcg5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNywKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGhvbmUsCiAgICAgICAgICBtZXNzYWdlOiAnIOivt+Whq+WGmeato+ehrueahOaJi+acuuWPtycKICAgICAgICB9XSwKICAgICAgICBmaXhlZExpbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IFJlcXVpcmVkT25lLAogICAgICAgICAgbWVzc2FnZTogJyDmiYvmnLrlj7fnoIHjgIHlm7ror53lj7fnoIHor7foh7PlsJHloavlhpnkuIDpobknCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxMCwKICAgICAgICAgIG1heDogMjAsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlRml4ZUxpbmUsCiAgICAgICAgICBtZXNzYWdlOiAnIOivt+Whq+WGmeato+ehrueahOWbuuWumuWPt+eggScKICAgICAgICB9XSwKICAgICAgICByZWdpb25Db2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICDor7fpgInmi6npgInpobknLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkZXRhaWxBZGRyZXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICDor7floavlhpnor6bnu4blnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiAxMjAsCiAgICAgICAgICBtZXNzYWdlOiAnIOivt+Whq+WGmTUtMTIw5Liq5a2XJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJlY2VpdmVOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnIOivt+Whq+WGmeaUtuS7tuS6uicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmTItMTXkuKrlrZcnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcmVjZWl2ZU1vYmlsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogUmVxdWlyZWRPbmUyLAogICAgICAgICAgbWVzc2FnZTogJyDmiYvmnLrlj7fnoIHjgIHlm7ror53lj7fnoIHor7foh7PlsJHloavlhpnkuIDpobknCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA3LAogICAgICAgICAgbWF4OiAxNSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQaG9uZSwKICAgICAgICAgIG1lc3NhZ2U6ICcg6K+35aGr5YaZ5q2j56Gu55qE5omL5py65Y+3JwogICAgICAgIH1dLAogICAgICAgIHJlY2VpdmVGaXhlZExpbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IFJlcXVpcmVkT25lMiwKICAgICAgICAgIG1lc3NhZ2U6ICcg5omL5py65Y+356CB44CB5Zu66K+d5Y+356CB6K+36Iez5bCR5aGr5YaZ5LiA6aG5JwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtYXg6IDIwLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUZpeGVMaW5lLAogICAgICAgICAgbWVzc2FnZTogJyDor7floavlhpnmraPnoa7nmoTlm7rlrprlj7fnoIEnCiAgICAgICAgfV0sCiAgICAgICAgcmVjZWl2ZVJlZ2lvbkNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICcgIOivt+mAieaLqemAiemhuScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHJlY2VpdmVEZXRhaWxBZGRyZXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICDor7floavlhpnor6bnu4blnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiAxMjAsCiAgICAgICAgICBtZXNzYWdlOiAnIOivt+Whq+WGmTUtMTIw5Liq5a2XJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5vcmRlck51bSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVyTnVtOwogICAgdGhpcy51c2VyVHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXJUeXBlOwogICAgdGhpcy5nZXREYXRlKCk7CiAgICB0aGlzLmdldEV4cHJlc3NUeXBlKCk7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0U2VuZEluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHZhbDsKICAgIH0sCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlck51bSk7CiAgICAgIHZhciB1cmwgPSAnb3JnL3NlbGVjdC1yZWNlaXZlLWluZm8/b3JkZXJOdW09JyArIHRoaXMub3JkZXJOdW07CiAgICAgIHRoaXMuJGF4aW9zKHVybCwge30sIHsKICAgICAgICBtZXRob2Q6ICdwb3N0JwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMyLmxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5saXN0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCflh7rplJnkuobvvIEnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFNlbmRJbmZvOiBmdW5jdGlvbiBnZXRTZW5kSW5mbygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gJ29yZy9nZXQtb3JnLWV4cHJlc3Mtc2VuZGVyP3VzZXJUeXBlPScgKyB0aGlzLnVzZXJUeXBlOwogICAgICB0aGlzLiRheGlvcyh1cmwsIHt9LCB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHJlcy5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgX3RoaXMzLnNlbmRJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMzLnNlbmRJbmZvKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCflh7rplJnkuobvvIEnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1FZGl0U2VuZGVyOiBmdW5jdGlvbiBjb25maXJtRWRpdFNlbmRlcihlZGl0U2VuZEluZm8pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2VkaXRTZW5kSW5mb10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczQuc2VuZEluZm8uc2VuZGVyTmFtZSA9IF90aGlzNC5lZGl0U2VuZEluZm8uc2VuZGVyTmFtZTsKICAgICAgICAgIF90aGlzNC5zZW5kSW5mby5jb250YWN0TnVtYmVyID0gX3RoaXM0LmVkaXRTZW5kSW5mby5jb250YWN0TnVtYmVyOwogICAgICAgICAgX3RoaXM0LnNlbmRJbmZvLmZpeGVkTGluZSA9IF90aGlzNC5lZGl0U2VuZEluZm8uZml4ZWRMaW5lOwogICAgICAgICAgX3RoaXM0LnNlbmRJbmZvLnJlZ2lvbkNvZGUgPSBfdGhpczQuZWRpdFNlbmRJbmZvLnJlZ2lvbkNvZGU7CiAgICAgICAgICBfdGhpczQuc2VuZEluZm8uYWRkcmVzcyA9IF90aGlzNC5lZGl0U2VuZEluZm8uYWRkcmVzczsKICAgICAgICAgIF90aGlzNC5zZW5kSW5mby5kZXRhaWxBZGRyZXNzID0gX3RoaXM0LmVkaXRTZW5kSW5mby5kZXRhaWxBZGRyZXNzOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXM0LnNlbmRJbmZvLmlkKTsKICAgICAgICAgIHZhciB1cmwgPSAnJzsKCiAgICAgICAgICBpZiAoX3RoaXM0LnNlbmRJbmZvLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgdXJsID0gJ29yZy9pbnNlcnQtb3JnLWV4cHJlc3Mtc2VuZGVyP3VzZXJUeXBlPScgKyBfdGhpczQudXNlclR5cGUgKyAnJnNlbmRlck5hbWU9JyArIF90aGlzNC5zZW5kSW5mby5zZW5kZXJOYW1lICsgJyZjb250YWN0TnVtYmVyPScgKyBfdGhpczQuc2VuZEluZm8uY29udGFjdE51bWJlciArICcmZml4ZWRMaW5lPScgKyBfdGhpczQuc2VuZEluZm8uZml4ZWRMaW5lICsgJyZhZGRyZXNzPScgKyBfdGhpczQuc2VuZEluZm8uYWRkcmVzcyArICcmZGV0YWlsQWRkcmVzcz0nICsgX3RoaXM0LnNlbmRJbmZvLmRldGFpbEFkZHJlc3MgKyAnJnJlZ2lvbkNvZGU9JyArIF90aGlzNC5zZW5kSW5mby5yZWdpb25Db2RlICsgJyZpZD0nICsgX3RoaXM0LnNlbmRJbmZvLmlkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXJsID0gJ29yZy9pbnNlcnQtb3JnLWV4cHJlc3Mtc2VuZGVyP3VzZXJUeXBlPScgKyBfdGhpczQudXNlclR5cGUgKyAnJnNlbmRlck5hbWU9JyArIF90aGlzNC5zZW5kSW5mby5zZW5kZXJOYW1lICsgJyZjb250YWN0TnVtYmVyPScgKyBfdGhpczQuc2VuZEluZm8uY29udGFjdE51bWJlciArICcmZml4ZWRMaW5lPScgKyBfdGhpczQuc2VuZEluZm8uZml4ZWRMaW5lICsgJyZhZGRyZXNzPScgKyBfdGhpczQuc2VuZEluZm8uYWRkcmVzcyArICcmZGV0YWlsQWRkcmVzcz0nICsgX3RoaXM0LnNlbmRJbmZvLmRldGFpbEFkZHJlc3MgKyAnJnJlZ2lvbkNvZGU9JyArIF90aGlzNC5zZW5kSW5mby5yZWdpb25Db2RlOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNC4kYXhpb3ModXJsLCB7fSwgewogICAgICAgICAgICBtZXRob2Q6ICdwb3N0JwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S/neWtmOaIkOWKnycpOwogICAgICAgICAgICAgIF90aGlzNC5lZGl0U2VuZGVySW5mb0RpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQuc2VuZEluZm8pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcign5Ye66ZSZ5LqG77yBJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaXR5Q2hhbmdlOiBmdW5jdGlvbiBjaXR5Q2hhbmdlKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdFNlbmRJbmZvLnJlZ2lvbkNvZGUpOwogICAgICB2YXIgc3RyID0gJyc7CiAgICAgIHZhciBjaXR5TGlzdCA9IHRoaXMub3B0aW9uczsKICAgICAgdmFyIGEgPSB0aGlzLmVkaXRTZW5kSW5mby5yZWdpb25Db2RlLm1hcChmdW5jdGlvbiAodmFsLCBpLCBhcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyh2YWwpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2l0eUxpc3QpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdG0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChpdG0udmFsdWUgPT0gdmFsKSB7CiAgICAgICAgICAgICAgY2l0eUxpc3QgPSBpdG0uY2hpbGRyZW47CiAgICAgICAgICAgICAgcmV0dXJuIGl0bTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgc3RyICs9IGkubGFiZWw7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZSA9IHRoaXMuZWRpdFNlbmRJbmZvLnJlZ2lvbkNvZGVbdGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZS5sZW5ndGggLSAxXTsKICAgICAgdGhpcy5lZGl0U2VuZEluZm8uYWRkcmVzcyA9IHN0cjsKICAgIH0sCiAgICBjaXR5Q2hhbmdlMjogZnVuY3Rpb24gY2l0eUNoYW5nZTIoZSkgewogICAgICBpZiAodGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZVJlZ2lvbkNvZGUgIT0gbnVsbCAmJiB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZSAhPSAnJykgewogICAgICAgIHRoaXMucmVjZWl2ZVJlZ2lvbkNvZGVUaXBzID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZSk7CiAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgdmFyIGNpdHlMaXN0ID0gdGhpcy5vcHRpb25zOwogICAgICB2YXIgYSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlLm1hcChmdW5jdGlvbiAodmFsLCBpLCBhcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyh2YWwpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNpdHlMaXN0KSwKICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0bSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICAgIGlmIChpdG0udmFsdWUgPT0gdmFsKSB7CiAgICAgICAgICAgICAgY2l0eUxpc3QgPSBpdG0uY2hpbGRyZW47CiAgICAgICAgICAgICAgcmV0dXJuIGl0bTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGEpLAogICAgICAgICAgX3N0ZXA0OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGkgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICBzdHIgKz0gaS5sYWJlbDsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CgogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZSA9IHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlW3RoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVSZWdpb25Db2RlLmxlbmd0aCAtIDFdOwogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlQWRkcmVzcyA9IHN0cjsKICAgIH0sCiAgICByZXNlcnZlVGltZTogZnVuY3Rpb24gcmVzZXJ2ZVRpbWUoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZ2V0UmV2ZXJ2ZVRpbWVMaXN0KHRoaXMuc2VsZWN0VGltZSAtIDEpOwogICAgfSwKICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZShkb25lKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWFs+mXre+8nycpLnRoZW4oZnVuY3Rpb24gKF8pIHsKICAgICAgICBkb25lKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfKSB7fSk7CiAgICB9LAogICAgY2hhbmdlVGltZTogZnVuY3Rpb24gY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMuc2VsZWN0VGltZSA9IGU7CiAgICAgIHRoaXMuc2VsZWN0VGltZTIgPSBudWxsOwogICAgICB0aGlzLmdldFJldmVydmVUaW1lTGlzdCh0aGlzLnNlbGVjdFRpbWUgLSAxKTsKICAgIH0sCiAgICBjb25maXJtVGltZTogZnVuY3Rpb24gY29uZmlybVRpbWUoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdFRpbWUyOwoKICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHsKICAgICAgICB2YXIgdGltZSA9IHRoaXMuZGF0ZVRpbWVMaXN0W2luZGV4XTsKICAgICAgICB2YXIgdXJsID0gJ2dldC1zZi1hcHBvaW50bWVudC1kYXRlJzsKICAgICAgICB0aGlzLnJlc2VydmVEYXRlVGltZSA9IHRoaXMucmVzZXJ2ZURhdGVbdGhpcy5zZWxlY3RUaW1lIC0gMV0gKyAnICcgKyB0aW1lOwoKICAgICAgICBpZiAodGltZSA9PSAn5LiA5bCP5pe25YaFJykgewogICAgICAgICAgdGhpcy5zZW5kU3RhcnRUaW1lID0gdGhpcy5yZXNlcnZlRGF0ZVt0aGlzLnNlbGVjdFRpbWUgLSAxXSArICcgJyArIHRoaXMuZGF0ZVRpbWVMaXN0WzFdLnN1YnN0cmluZygwLCA1KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZW5kU3RhcnRUaW1lID0gdGhpcy5yZXNlcnZlRGF0ZVt0aGlzLnNlbGVjdFRpbWUgLSAxXSArICcgJyArIHRpbWUuc3Vic3RyaW5nKDYsIDExKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2VuZFN0YXJ0VGltZSA9IHRoaXMuc2VuZFN0YXJ0VGltZSArICc6MDAnOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VuZFN0YXJ0VGltZSk7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZXZlcnZlVGltZUxpc3Q6IGZ1bmN0aW9uIGdldFJldmVydmVUaW1lTGlzdChkYXRlVHlwZSkgewogICAgICB2YXIgdGltZUxpc3QgPSBuZXcgQXJyYXkoKTsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpOwoKICAgICAgaWYgKGRhdGVUeXBlID09IDAgJiYgaG91ciA8PSA4ICYmIG1pbnV0ZSA8IDMwIHx8IGRhdGVUeXBlICE9IDApIHsKICAgICAgICB0aGlzLmdldFRpbWVMaXN0KGhvdXIsIHRpbWVMaXN0LCAwLCBtaW51dGUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0VGltZUxpc3QoaG91ciwgdGltZUxpc3QsIDEsIG1pbnV0ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0ZVRpbWVMaXN0ID0gdGltZUxpc3Q7CiAgICB9LAogICAgZ2V0VGltZUxpc3Q6IGZ1bmN0aW9uIGdldFRpbWVMaXN0KGhvdXIsIHRpbWVMaXN0LCBmbGFnLCBtaW51dGUpIHsKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBpZiAoZmxhZyA9PSAwKSB7CiAgICAgICAgbnVtID0gODsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7CiAgICAgICAgICB0aW1lTGlzdC5wdXNoKG51bSArIGkgKyAnOjMwLScgKyAobnVtICsgaSArIDEpICsgJzozMCcpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBudW0gPSAyMCAtIGhvdXI7CgogICAgICAgIGlmIChtaW51dGUgPj0gMzApIHsKICAgICAgICAgIGhvdXIgKz0gMTsKICAgICAgICAgIG51bSA9IG51bSAtIDE7CiAgICAgICAgfQoKICAgICAgICB0aW1lTGlzdC5wdXNoKCfkuIDlsI/ml7blhoUnKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW07IGkrKykgewogICAgICAgICAgdGltZUxpc3QucHVzaChob3VyICsgaSArICc6MzAtJyArIChob3VyICsgaSArIDEpICsgJzozMCcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluS7iuWkqSzmmI7lpKnvvIzlkI7lpKnnmoTml6XmnJ8KICAgIGdldERhdGU6IGZ1bmN0aW9uIGdldERhdGUoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgLy8g5LiA5pW05aSp5o2i566X5oiQ5q+r56eS5pivODY0MDAwMDDvvJsKICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgaSAqIDg2NDAwMDAwOyAvLyDlsIbmr6vnp5LovazmjaLmiJDml6XmnJ/vvIhZWVlZLU1NLURE77yJCgogICAgICAgIHZhciBtb250aCA9IG5ldyBEYXRlKHRpbWUpLmdldE1vbnRoKCkgKyAxOwogICAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKHRpbWUpLmdldERhdGUoKTsKCiAgICAgICAgaWYgKG1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09IDEpIHsKICAgICAgICAgIG1vbnRoID0gMCArICcnICsgbW9udGg7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0ZXRpbWUudG9TdHJpbmcoKS5sZW5ndGggPT0gMSkgewogICAgICAgICAgZGF0ZXRpbWUgPSAwICsgJycgKyBkYXRldGltZTsKICAgICAgICB9CgogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZSkuZ2V0RnVsbFllYXIoKSArICctJyArIG1vbnRoICsgJy0nICsgZGF0ZXRpbWU7CiAgICAgICAgdGhpcy5yZXNlcnZlRGF0ZVtpXSA9IGRhdGU7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0UmVjZWl2ZTogZnVuY3Rpb24gZWRpdFJlY2VpdmUocm93LCBpbmRleCkgewogICAgICB0aGlzLmVkaXRSZWNlaXZlUm93ID0gaW5kZXg7CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucHJvZE5hbWUgPSByb3cucHJvZE5hbWU7CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLm9yZGVyTnVtID0gcm93Lm9yZGVyTnVtOwogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5kb3NzaWVyTnVtID0gcm93LmRvc3NpZXJOdW07CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVOYW1lID0gcm93LnJlY2VpdmVOYW1lOwogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlTW9iaWxlID0gcm93LnJlY2VpdmVNb2JpbGU7CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVGaXhlZExpbmUgPSByb3cucmVjZWl2ZUZpeGVkTGluZTsKICAgICAgdGhpcy5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZUFkZHJlc3MgPSByb3cucmVjZWl2ZUFkZHJlc3M7CiAgICAgIHRoaXMuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVEZXRhaWxBZGRyZXNzID0gcm93LnJlY2VpdmVEZXRhaWxBZGRyZXNzOwogICAgICB0aGlzLmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZSA9IHJvdy5yZWNlaXZlUmVnaW9uQ29kZTsKICAgIH0sCiAgICBkZWxldGVSZWNlaXZlOiBmdW5jdGlvbiBkZWxldGVSZWNlaXZlKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn54K55Ye756e76Zmk5pON5L2c5ZCO77yM5bCG5LuO6YKu5a+E5YiX6KGo5Lit56e76Zmk6K+l6K6i5Y2V56Gu6K6k56e76Zmk5ZCX77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5saXN0LnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn56e76Zmk5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtRWRpdFJlY2VpdmU6IGZ1bmN0aW9uIGNvbmZpcm1FZGl0UmVjZWl2ZShlZGl0UmVjZWl2ZUluZm8pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2VkaXRSZWNlaXZlSW5mb10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczYuJGNvbmZpcm0oJ+eCueWHu+ehruWumuaTjeS9nOWQju+8jOWwhuS/ruaUueW9k+WJjeaUtuS7tuS6uuS/oeaBr+ehruiupOS/neWtmOWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczYuZWRpdFJlY2VpdmVEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHZhciB1cmwgPSAnb3JnL3VwZGF0ZS1vcmRlci1leHByZXNzJzsKCiAgICAgICAgICAgIF90aGlzNi4kYXhpb3ModXJsLCB7CiAgICAgICAgICAgICAgb3JkZXJOdW06IF90aGlzNi5lZGl0UmVjZWl2ZUluZm8ub3JkZXJOdW0sCiAgICAgICAgICAgICAgcmVjZWl2ZU5hbWU6IF90aGlzNi5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZU5hbWUsCiAgICAgICAgICAgICAgcmVjZWl2ZU1vYmlsZTogX3RoaXM2LmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlTW9iaWxlLAogICAgICAgICAgICAgIHJlY2VpdmVGaXhlZExpbmU6IF90aGlzNi5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZUZpeGVkTGluZSwKICAgICAgICAgICAgICByZWNlaXZlQWRkcmVzczogX3RoaXM2LmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlQWRkcmVzcywKICAgICAgICAgICAgICByZWNlaXZlRGV0YWlsQWRkcmVzczogX3RoaXM2LmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlRGV0YWlsQWRkcmVzcywKICAgICAgICAgICAgICByZWNlaXZlUmVnaW9uQ29kZTogX3RoaXM2LmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlUmVnaW9uQ29kZQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAncHV0JwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3RbX3RoaXM2LmVkaXRSZWNlaXZlUm93XS5yZWNlaXZlTmFtZSA9IF90aGlzNi5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZU5hbWU7CiAgICAgICAgICAgICAgICBfdGhpczYubGlzdFtfdGhpczYuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVNb2JpbGUgPSBfdGhpczYuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVNb2JpbGU7CiAgICAgICAgICAgICAgICBfdGhpczYubGlzdFtfdGhpczYuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVGaXhlZExpbmUgPSBfdGhpczYuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVGaXhlZExpbmU7CiAgICAgICAgICAgICAgICBfdGhpczYubGlzdFtfdGhpczYuZWRpdFJlY2VpdmVSb3ddLnJlY2VpdmVBZGRyZXNzID0gX3RoaXM2LmVkaXRSZWNlaXZlSW5mby5yZWNlaXZlQWRkcmVzczsKICAgICAgICAgICAgICAgIF90aGlzNi5saXN0W190aGlzNi5lZGl0UmVjZWl2ZVJvd10ucmVjZWl2ZURldGFpbEFkZHJlc3MgPSBfdGhpczYuZWRpdFJlY2VpdmVJbmZvLnJlY2VpdmVEZXRhaWxBZGRyZXNzOwogICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3RbX3RoaXM2LmVkaXRSZWNlaXZlUm93XS5yZWNlaXZlUmVnaW9uQ29kZSA9IF90aGlzNi5lZGl0UmVjZWl2ZUluZm8ucmVjZWl2ZVJlZ2lvbkNvZGU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzNi4kbWVzc2FnZS5lcnJvcign5Ye66ZSZ5LqG77yBJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczYubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM2LiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOS/ruaUuScKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtUGxhY2VPcmRlcjogZnVuY3Rpb24gY29uZmlybVBsYWNlT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VuZEluZm8uc2VuZGVyTmFtZSA9PSBudWxsKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35YWI6YWN572u6YKu5a+E5L+h5oGvJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmV4cHJlc3NUeXBlKTsKCiAgICAgICAgaWYgKHRoaXMuZXhwcmVzc1R5cGUgPT0gMSkgewogICAgICAgICAgaWYgKHRoaXMuc2VuZFN0YXJ0VGltZSA9PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mFjee9rumihOe6puS4iumXqOaXtumXtCcpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZW5kU3RhcnRUaW1lKTsgLy8gZm9yICh2YXIgaSBpbiB0aGlzLmxpc3QpIHsKICAgICAgICAgIC8vICAgaWYgKHRoaXMucGxhY2VPcmRlckxpc3RbaV0gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXSA9IHt9CiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy5saXN0W2ldKQogICAgICAgICAgLy8gICBpZiAodGhpcy5zZW5kSW5mby5jb250YWN0TnVtYmVyID09IG51bGwgfHwgdGhpcy5zZW5kSW5mby5jb250YWN0TnVtYmVyID09ICcnKSB7CiAgICAgICAgICAvLyAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kVGVsID0gdGhpcy5zZW5kSW5mby5maXhlZExpbmUKICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgIC8vICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRUZWwgPSB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gICBpZiAodGhpcy5saXN0W2ldLnJlY2VpdmVNb2JpbGUgPT0gbnVsbCB8fCB0aGlzLmxpc3RbaV0ucmVjZWl2ZU1vYmlsZSA9PSAnJykgewogICAgICAgICAgLy8gICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZVRlbAk9IHRoaXMubGlzdFtpXS5yZWNlaXZlRml4ZWRMaW5lCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlVGVsCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVNb2JpbGUKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRDb250YWN0ID0gdGhpcy5zZW5kSW5mby5zZW5kZXJOYW1lCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZFByb3ZpbmNlcyA9IHRoaXMuc2VuZEluZm8uYWRkcmVzcwogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmREZXRhaWxBZGRyZXNzID0gdGhpcy5zZW5kSW5mby5kZXRhaWxBZGRyZXNzCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZEFkZHJlc3MgPSB0aGlzLnNlbmRJbmZvLmFkZHJlc3MgKyB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3MKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kQ29kZSA9IHRoaXMuc2VuZEluZm8ucmVnaW9uQ29kZQogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRTdGFydFRpbWUJPSB0aGlzLnNlbmRTdGFydFRpbWUKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZW1hcmsJPSB0aGlzLnJlbWFyawogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVDb250YWN0CT0gdGhpcy5saXN0W2ldLnJlY2VpdmVOYW1lCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZVByb3ZpbmNlcwk9IHRoaXMubGlzdFtpXS5yZWNlaXZlQWRkcmVzcwogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVEZXRhaWxBZGRyZXNzCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVEZXRhaWxBZGRyZXNzCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucmVjZWl2ZUFkZHJlc3MJPSB0aGlzLmxpc3RbaV0ucmVjZWl2ZUFkZHJlc3MgKyB0aGlzLmxpc3RbaV0ucmVjZWl2ZURldGFpbEFkZHJlc3MKICAgICAgICAgIC8vICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5vcmRlck51bQk9IHRoaXMubGlzdFtpXS5vcmRlck51bQogICAgICAgICAgLy8gICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnJlY2VpdmVDb2RlCT0gdGhpcy5saXN0W2ldLnJlY2VpdmVSZWdpb25Db2RlCiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBsYWNlT3JkZXJMaXN0KQogICAgICAgICAgLy8gY29uc3QgdXJsID0gJ29yZy9wbGFjZS1vcmRlcicKICAgICAgICAgIC8vIHRoaXMuJGF4aW9zKAogICAgICAgICAgLy8gICB1cmwsCiAgICAgICAgICAvLyAgIHRoaXMucGxhY2VPcmRlckxpc3QsCiAgICAgICAgICAvLyAgIHsKICAgICAgICAgIC8vICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyApLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAvLyAgICAgdmFyIG9yZGVyTnVtID0gJycKICAgICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxhY2VPcmRlckxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vICAgICAgIG9yZGVyTnVtID0gb3JkZXJOdW0gKyAnLCcgKyAiJyIgKyB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLm9yZGVyTnVtICsgIiciCiAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgLy8gICAgIG9yZGVyTnVtID0gb3JkZXJOdW0uc3Vic3RyaW5nKDEsIG9yZGVyTnVtLmxlbmd0aCkKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhvcmRlck51bSkKICAgICAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAvLyAgICAgICBuYW1lOiAnb3JkZXJTdWNjZXNzJywKICAgICAgICAgIC8vICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAvLyAgICAgICAgIG9yZGVyTnVtOiBvcmRlck51bQogICAgICAgICAgLy8gICAgICAgfQogICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiL5Y2V5aSx6LSl77yM6K+36YeN6K+V77yBJykKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfSkKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXhwcmVzc1R5cGUgPT0gMikgewogICAgICAgICAgY29uc29sZS5sb2codGhpcy5saXN0KTsKCiAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMubGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5wbGFjZU9yZGVyTGlzdFtpXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldID0ge307CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIgPT0gbnVsbCB8fCB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXIgPT0gJycpIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlckNvbnRhY3ROdW1iZXIgPSB0aGlzLnNlbmRJbmZvLmZpeGVkTGluZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlckNvbnRhY3ROdW1iZXIgPSB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RbaV0ucmVjZWl2ZU1vYmlsZSA9PSBudWxsIHx8IHRoaXMubGlzdFtpXS5yZWNlaXZlTW9iaWxlID09ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlTW9iaWxlID0gdGhpcy5saXN0W2ldLnJlY2VpdmVGaXhlZExpbmU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlTW9iaWxlID0gdGhpcy5saXN0W2ldLnJlY2VpdmVNb2JpbGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZGVyTmFtZSA9IHRoaXMuc2VuZEluZm8uc2VuZGVyTmFtZTsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5zZW5kZXJBZGRyZXNzID0gdGhpcy5zZW5kSW5mby5hZGRyZXNzOwogICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnNlbmRlckRldGFpbEFkZHJlc3MgPSB0aGlzLnNlbmRJbmZvLmRldGFpbEFkZHJlc3M7CiAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0uc2VuZGVyUmVnaW9uQ29kZSA9IHRoaXMuc2VuZEluZm8ucmVnaW9uQ29kZTsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZW1hcmsgPSB0aGlzLnJlbWFyazsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlTmFtZSA9IHRoaXMubGlzdFtpXS5yZWNlaXZlTmFtZTsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlQWRkcmVzcyA9IHRoaXMubGlzdFtpXS5yZWNlaXZlQWRkcmVzczsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlRGV0YWlsQWRkcmVzcyA9IHRoaXMubGlzdFtpXS5yZWNlaXZlRGV0YWlsQWRkcmVzczsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5vcmRlck51bSA9IHRoaXMubGlzdFtpXS5vcmRlck51bTsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5yZWNlaXZlUmVnaW9uQ29kZSA9IHRoaXMubGlzdFtpXS5yZWNlaXZlUmVnaW9uQ29kZTsKICAgICAgICAgICAgdGhpcy5wbGFjZU9yZGVyTGlzdFtpXS5wcm9kTmFtZSA9IHRoaXMubGlzdFtpXS5wcm9kTmFtZTsKCiAgICAgICAgICAgIGlmICh0aGlzLnBheU1ldGhvZCA9PSAn5pS25pa55LuYJykgewogICAgICAgICAgICAgIHRoaXMucGxhY2VPcmRlckxpc3RbaV0ucGF5TWV0aG9kID0gMjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnBsYWNlT3JkZXJMaXN0W2ldLnBheU1ldGhvZCA9IHRoaXMucGF5TWV0aG9kOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2codGhpcy5wbGFjZU9yZGVyTGlzdCk7CiAgICAgICAgICB2YXIgdXJsID0gJ29yZy9lbXMtb3JkZXInOwogICAgICAgICAgdGhpcy4kYXhpb3ModXJsLCB0aGlzLnBsYWNlT3JkZXJMaXN0LCB7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgb3JkZXJOdW0gPSAnJzsKCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczcucGxhY2VPcmRlckxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIG9yZGVyTnVtID0gb3JkZXJOdW0gKyAnLCcgKyAiJyIgKyBfdGhpczcucGxhY2VPcmRlckxpc3RbaV0ub3JkZXJOdW0gKyAiJyI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvcmRlck51bSA9IG9yZGVyTnVtLnN1YnN0cmluZygxLCBvcmRlck51bS5sZW5ndGgpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9yZGVyTnVtKTsKCiAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnb3JkZXJTdWNjZXNzJywKICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgIG9yZGVyTnVtOiBvcmRlck51bQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNy4kbWVzc2FnZS5lcnJvcign5LiL5Y2V5aSx6LSl77yM6K+36YeN6K+V77yBJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7CiAgICB9LAogICAgZ2V0RXhwcmVzc1R5cGU6IGZ1bmN0aW9uIGdldEV4cHJlc3NUeXBlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAnb3JnL2dldC1leHByZXNzLXR5cGUnOwogICAgICB0aGlzLiRheGlvcyh1cmwsIHt9LCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIF90aGlzOC5leHByZXNzVHlwZSA9IHJlcy5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczguJG1lc3NhZ2UuZXJyb3IoJ+WHuumUmeS6hu+8gScpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM4LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFNlbmRlckluZm86IGZ1bmN0aW9uIGVkaXRTZW5kZXJJbmZvKCkgewogICAgICB0aGlzLmVkaXRTZW5kZXJJbmZvRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZWRpdFNlbmRJbmZvLnNlbmRlck5hbWUgPSB0aGlzLnNlbmRJbmZvLnNlbmRlck5hbWU7CiAgICAgIHRoaXMuZWRpdFNlbmRJbmZvLmNvbnRhY3ROdW1iZXIgPSB0aGlzLnNlbmRJbmZvLmNvbnRhY3ROdW1iZXI7CiAgICAgIHRoaXMuZWRpdFNlbmRJbmZvLmZpeGVkTGluZSA9IHRoaXMuc2VuZEluZm8uZml4ZWRMaW5lOwogICAgICB0aGlzLmVkaXRTZW5kSW5mby5yZWdpb25Db2RlID0gdGhpcy5zZW5kSW5mby5yZWdpb25Db2RlOwogICAgICB0aGlzLmVkaXRTZW5kSW5mby5hZGRyZXNzID0gdGhpcy5zZW5kSW5mby5hZGRyZXNzOwogICAgICB0aGlzLmVkaXRTZW5kSW5mby5kZXRhaWxBZGRyZXNzID0gdGhpcy5zZW5kSW5mby5kZXRhaWxBZGRyZXNzOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRTZW5kSW5mby5zZW5kZXJOYW1lKTsKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0U2VuZEluZm8ucmVnaW9uQ29kZSk7CiAgICB9CiAgfQp9Ow=="},null]}