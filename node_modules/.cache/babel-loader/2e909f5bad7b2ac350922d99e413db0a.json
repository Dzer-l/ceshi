{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/components/delegate/entrustInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/components/delegate/entrustInfo.vue","mtime":1634724784692},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZ2lvbkRhdGEgfSBmcm9tICdlbGVtZW50LWNoaW5hLWFyZWEtZGF0YSc7CmltcG9ydCAqIGFzIGRlIGZyb20gJ0AvYXBpL2RlbGVnYXRlJzsKdmFyIE51bXJlZyA9IC9eWzAtOV0qJC87CnZhciBpZENhcmQgPSAvXltcdTRFMDAtXHU5RkE1XSskLzsKdmFyIGNuSWRDYXJkID0gL15bMS05XVxkezd9KCgwXGQpfCgxWzAtMl0pKSgoWzB8MXwyXVxkKXwzWzAtMV0pXGR7M30kfF5bMS05XVxkezV9WzEtOV1cZHszfSgoMFxkKXwoMVswLTJdKSkoKFswfDF8Ml1cZCl8M1swLTFdKVxkezN9KFswLTldfFgpJC87CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgb3JkZXJJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgb3JkZXJOdW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGZsaWVMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHZhbGlkYXRlQWRkID0gZnVuY3Rpb24gdmFsaWRhdGVBZGQocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgdmFyIGFkZCA9IF90aGlzLm1hbkluZm8uZGV0YWlsQWRkcmVzczsKCiAgICAgIGlmICghYWRkKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfogZTns7vlnLDlnYDkuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSBpZiAoYWRkLmxlbmd0aCA8IDIgfHwgYWRkLmxlbmd0aCA+IDEyMCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6IGU57O75Zyw5Z2A6ZyA6L6T5YWlNS0xMjDkuKrlrZcnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgY2FyZFZlcmlmaWVkID0gZnVuY3Rpb24gY2FyZFZlcmlmaWVkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7floavlhpnor4Hku7blj7fnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLm1hbkluZm8uZW50cnVzdExpc3RbX3RoaXMuZWRpdEluZGV4XS5jYXJkVHlwZSA9PT0gJzExMScpIHsKICAgICAgICAgIGlmICghY25JZENhcmQudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7floavlhpnmnInmlYjor4Hku7blj7fnoIEnKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB0aGlzLmdvKHZhbHVlLmxlbmd0aCwgdmFsdWUpCiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpZENhcmQudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7floavlhpnmnInmlYjor4Hku7blj7fnoIEnKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBkYXRhUnVsZXM6IHsKICAgICAgICBkaXNhYmxlZERhdGU6IGZ1bmN0aW9uIGRpc2FibGVkRGF0ZSh0aW1lKSB7CiAgICAgICAgICByZXR1cm4gdGltZS5nZXRUaW1lKCkgPiBEYXRlLm5vdygpIC0gOC42NGU2OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFzZUluZm86IHsKICAgICAgICBzZXg6ICcnLAogICAgICAgIGJpcnRoZGF5OiAnJywKICAgICAgICBhZ2U6ICcnLAogICAgICAgIGJpcnRocGxhY2U6ICcnCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy4kY2ZnLmh0dHAsCiAgICAgIGVudGVydXN0RWRpdDogZmFsc2UsCiAgICAgIG9wdGlvbnM6IHJlZ2lvbkRhdGEsCiAgICAgIC8vIOWfjuW4gumAieaLqeeggQogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlp5PlkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZMi0zMOS4quWtl+espicsCiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDMwLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZGF0ZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWHuueUn+aXpeacnycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBleHBpcnlEYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6K+B5Lu25pyJ5pWI5pyfJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNhcmROdW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnor4Hku7blj7cnLAogICAgICAgICAgbWF4OiAxOCwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2FyZFZlcmlmaWVkLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgYWRkcmVzczogW3sKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmiL/kuqfmiYDlpITlnLDljLonLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkZXRhaWxBZGRyZXNzOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUFkZCwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG1vYmlsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsCiAgICAgICAgICBtYXg6IDIwLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogTnVtcmVnLAogICAgICAgICAgbWVzc2FnZTogJ+S7heWFgeiuuOi+k+WFpeaVsOWtlycKICAgICAgICB9XQogICAgICB9LAogICAgICBtYW5JbmZvOiBudWxsLAogICAgICBlbnRydXN0SW5mbzogbnVsbCwKICAgICAgZWRpdEluZGV4OiBudWxsLAogICAgICBjYXJkTGlzdDogewogICAgICAgICcxMTEnOiAn5bGF5rCR6Lqr5Lu96K+B77yaJywKICAgICAgICAnMTEyJzogJ+S4tOaXtuWxheawkei6q+S7veivge+8micsCiAgICAgICAgJzExMyc6ICfmiLflj6PnsL/vvJonLAogICAgICAgICcxMTQnOiAn5Lit5Zu95Lq65rCR6Kej5pS+5Yab5Yab5a6Y6K+B77yaJywKICAgICAgICAnMTE2JzogJ+mmmea4r+Wxheawkei6q+S7veivge+8micsCiAgICAgICAgJzExNyc6ICfmvrPpl6jlsYXmsJHouqvku73or4HvvJonLAogICAgICAgICcxMTgnOiAn5riv5r6z5bGF5rCR6YCa6KGM6K+B77yaJywKICAgICAgICAnMTE5JzogJ+WPsOa5vuWxheawkemAmuihjOivge+8micsCiAgICAgICAgJzEyMyc6ICflo6vlhbXor4HvvJonLAogICAgICAgICcxMjQnOiAn5Y+w5rm+5bGF5rCR6Lqr5Lu96K+B77yaJywKICAgICAgICAnMTI1JzogJ+W+i+W4iOivge+8micsCiAgICAgICAgJzEyOCc6ICfpqb7pqbbor4HvvJonLAogICAgICAgICcxMzAnOiAn5riv5r6z5bGF5rCR5bGF5L2P6K+B77yaJywKICAgICAgICAnMTMxJzogJ+WPsOa5vuWxheawkeWxheS9j+ivge+8micsCiAgICAgICAgJzEzMic6ICfkuK3lm73miqTnhafvvJonLAogICAgICAgICcxMzMnOiAn5aSW5Zu95oqk54Wn77yaJwogICAgICB9LAogICAgICBDYXJkVHlwZUxpc3Q6IFt7CiAgICAgICAgdmFsdWU6ICcxMTYnLAogICAgICAgIGxhYmVsOiAn6aaZ5riv5bGF5rCR5bGF5L2P6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMTcnLAogICAgICAgIGxhYmVsOiAn5r6z6Zeo5bGF5rCR5bGF5L2P6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMTgnLAogICAgICAgIGxhYmVsOiAn5riv5r6z5bGF5rCR5p2l5b6A5YaF5Zyw6YCa6KGM6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMTknLAogICAgICAgIGxhYmVsOiAn5Y+w5rm+5bGF5rCR5p2l5b6A5YaF5Zyw6YCa6KGM6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMzEnLAogICAgICAgIGxhYmVsOiAn5Y+w5rm+5bGF5rCR5bGF5L2P6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMzAnLAogICAgICAgIGxhYmVsOiAn5riv5r6z5bGF5rCR5bGF5L2P6K+BJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcxMjQnLAogICAgICAgIGxhYmVsOiAn5Y+w5rm+5bGF5rCR6Lqr5Lu96K+BJwogICAgICB9XSwKICAgICAgZkNhcmRUeXBlTGlzdDogW3sKICAgICAgICB2YWx1ZTogJzEzMicsCiAgICAgICAgbGFiZWw6ICfkuK3lm73miqTnhacnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzEzMycsCiAgICAgICAgbGFiZWw6ICflpJblm73miqTnhacnCiAgICAgIH1dLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcm9sZUNhdGVnb3J5OiAnZGxycycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIExvYWRpbmcuc2VydmljZSgpOwogICAgLy8gdGhpcy5tYW5JbmZvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVudHJ1c3RJbmZvKSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gdGhpcy5tYW5JbmZvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVudHJ1c3RJbmZvKSk7CiAgICB0aGlzLmdldEVudHJ1c3RJbmZvcygpOwogICAgdGhpcy5nZXRDYXJkVHlwZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2F0ZWdvcnlTZWxlY3Q6IGZ1bmN0aW9uIGNhdGVnb3J5U2VsZWN0KCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGFmZmlybUFkZFByb3Bvc2VyOiBmdW5jdGlvbiBhZmZpcm1BZGRQcm9wb3NlcigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHZhciBtYXRlcmlhbHNPYmo7CgogICAgICBpZiAodGhpcy5yb2xlQ2F0ZWdvcnkgPT0gJ2RscnMnKSB7CiAgICAgICAgbWF0ZXJpYWxzT2JqID0gW3sKICAgICAgICAgIG1hdGVyaWFsTmFtZTogJ+i6q+S7veivgeato+mdoueFpycsCiAgICAgICAgICBtYXRlcmlhbENvZGU6ICcxMDAxJywKICAgICAgICAgIHVybDogJycKICAgICAgICB9LCB7CiAgICAgICAgICBtYXRlcmlhbE5hbWU6ICfouqvku73or4Hlj43pnaLnhacnLAogICAgICAgICAgbWF0ZXJpYWxDb2RlOiAnMTAwMCcsCiAgICAgICAgICB1cmw6ICcnCiAgICAgICAgfV07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xlQ2F0ZWdvcnkgPT0gJ2dhdHJzJykgewogICAgICAgIG1hdGVyaWFsc09iaiA9IFt7CiAgICAgICAgICBtYXRlcmlhbE5hbWU6ICfouqvku73or4HmraPpnaLnhacnLAogICAgICAgICAgbWF0ZXJpYWxDb2RlOiAnMTAwMScsCiAgICAgICAgICB1cmw6ICcnCiAgICAgICAgfSwgewogICAgICAgICAgbWF0ZXJpYWxOYW1lOiAn6Lqr5Lu96K+B5Y+N6Z2i54WnJywKICAgICAgICAgIG1hdGVyaWFsQ29kZTogJzEwMDAnLAogICAgICAgICAgdXJsOiAnJwogICAgICAgIH0sIHsKICAgICAgICAgIG1hdGVyaWFsTmFtZTogJ+mAmuihjOivge+8iOato+mdoueFpyvlj43pnaLnhafvvIknLAogICAgICAgICAgbWF0ZXJpYWxDb2RlOiAnMTAwNicsCiAgICAgICAgICB1cmw6ICcnCiAgICAgICAgfSwgewogICAgICAgICAgbWF0ZXJpYWxOYW1lOiAn6YCa6KGM6K+B77yI5q2j6Z2i54WnK+WPjemdoueFp++8iScsCiAgICAgICAgICBtYXRlcmlhbENvZGU6ICcxMDA2JywKICAgICAgICAgIHVybDogJycKICAgICAgICB9XTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYXRlcmlhbHNPYmogPSBbewogICAgICAgICAgbWF0ZXJpYWxOYW1lOiAn5oqk54WnJywKICAgICAgICAgIG1hdGVyaWFsQ29kZTogJzEwMDcnLAogICAgICAgICAgdXJsOiAnJwogICAgICAgIH1dOwogICAgICB9CgogICAgICB2YXIgcHJvcG9zZXJJbmZvID0gewogICAgICAgIG5vd19hZGQ6IHRydWUsCiAgICAgICAgYmlydGhkYXk6ICcnLAogICAgICAgIGNhcmROdW06ICcnLAogICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgY2FyZFR5cGU6IHRoaXMucm9sZUNhdGVnb3J5ID09ICdkbHJzJyA/ICcxMTEnIDogdGhpcy5yb2xlQ2F0ZWdvcnkgPT0gJ2dhdHJzJyA/ICcxMzAnIDogJzEzMicsCiAgICAgICAgZ2VuZGVyOiAiMSIsCiAgICAgICAgbW9iaWxlOiAiIiwKICAgICAgICBvcmRlcklkOiB0aGlzLm1hbkluZm8uaWQsCiAgICAgICAgcmVhbE5hbWU6ICIiLAogICAgICAgIG1hdGVyaWFsTGlzdDogbWF0ZXJpYWxzT2JqLAogICAgICAgIHJvbGVDb2RlOiB0aGlzLnJvbGVDYXRlZ29yeQogICAgICB9OwogICAgICB0aGlzLm1hbkluZm8uZW50cnVzdExpc3QucHVzaChwcm9wb3NlckluZm8pOwogICAgfSwKICAgIGdldENhcmRUeXBlOiBmdW5jdGlvbiBnZXRDYXJkVHlwZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcygnb3JnL2NhcmQtdHlwZS1lbnVtJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgICBPYmplY3Qua2V5cyhyZXMuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBsaXN0LnB1c2goewogICAgICAgICAgICB2YWx1ZToga2V5LAogICAgICAgICAgICBsYWJlbDogcmVzLmRhdGFba2V5XQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLkNhcmRUeXBlTGlzdCA9IGxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEVudHJ1c3RJbmZvczogZnVuY3Rpb24gZ2V0RW50cnVzdEluZm9zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRlLmdldEVudHJ1c3RJbmZvKHsKICAgICAgICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMzLm9yZGVySWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yLCBfc3RlcCwgaiwgX2l0ZXJhdG9yMywgX3N0ZXAzLCBpLCBfaXRlcmF0b3IyLCBfc3RlcDIsIHQ7CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEuZW50cnVzdExpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqLmVkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGouZ2VuZGVyID0gai5nZW5kZXIgKyAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lbnRydXN0SW5mbyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm1hbkluZm8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMy5lbnRydXN0SW5mbykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGoubWF0ZXJpYWxMaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnMoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0SW1nKGkuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaS51cmwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnVybCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmVudHJ1c3RJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMubWFuSW5mbyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMzLmVudHJ1c3RJbmZvKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxMSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzMTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDMxKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoX2NvbnRleHQudDEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQxOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCg0MSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMzLm1hbkluZm8uZW50cnVzdExpc3QpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm5vd19hZGQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDM4LCA0MSwgNDRdLCBbMTEsIDI4LCAzMSwgMzRdXSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0SW1nOiBmdW5jdGlvbiBnZXRJbWcoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRheGlvcygib3JnL29yZGVyLXByb3Bvc2VyLW1hdGVyaWFsLXByZXZpZXctaW1nP2lkPSIuY29uY2F0KGlkKSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOe8lui+kQogICAgb25DbGlja19lZGl0OiBmdW5jdGlvbiBvbkNsaWNrX2VkaXQoZSwgdHlwZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gdGhpcy5tYW5JbmZvLmVudHJ1c3RMaXN0W2VdOwogICAgICB2YXIgb2xkRGF0YSA9IHRoaXMuZW50cnVzdEluZm8uZW50cnVzdExpc3RbZV07CgogICAgICBpZiAodHlwZSA9PT0gJ25vbmUnKSB7CiAgICAgICAgaWYgKGRhdGEubm93X2FkZCkgewogICAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5qyh5aGr5YaZ55qE5L+h5oGv5bCG6KKr5riF56m677yM5piv5ZCm57un57ut77yfJywgJ+aPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM1Lm1hbkluZm8uZW50cnVzdExpc3Quc3BsaWNlKGUsIDEpOwoKICAgICAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubWFuSW5mby5lbnRydXN0TGlzdFtlXS5lZGl0ID0gIWRhdGEuZWRpdDsKICAgICAgICAgIHRoaXMuJHJlZnNbInNoaXBwaW5nRm9ybSIuY29uY2F0KGUpXVswXS5jbGVhclZhbGlkYXRlKCk7CiAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VpZHQnKSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFba2V5XSAhPT0gb2xkRGF0YVtrZXldKSB7CiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBvbGREYXRhW2tleV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZ2V0RW50cnVzdEluZm9zKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChkYXRhLmVkaXQgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnN1Ym1pdChlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1hbkluZm8uZW50cnVzdExpc3RbZV0uZWRpdCA9IHRydWU7CiAgICAgICAgdGhpcy5lZGl0SW5kZXggPSBlOwogICAgICB9CiAgICB9LAogICAgZ286IGZ1bmN0aW9uIGdvKHZhbCwgdmFsdWUsIGluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmFzZUluZm8pCiAgICAgIHZhciBpZGVuID0gdmFsdWU7CiAgICAgIHZhciBzZXggPSBudWxsOwogICAgICB2YXIgYmlydGggPSBudWxsOwogICAgICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIG1vbnRoID0gbXlEYXRlLmdldE1vbnRoKCkgKyAxOwogICAgICB2YXIgZGF5ID0gbXlEYXRlLmdldERhdGUoKTsKICAgICAgdmFyIGFnZSA9IDA7CiAgICAgIHRoaXMuZWRpdEluZGV4ID0gaW5kZXg7CgogICAgICBpZiAodmFsID09PSAxOCkgewogICAgICAgIGFnZSA9IG15RGF0ZS5nZXRGdWxsWWVhcigpIC0gaWRlbi5zdWJzdHJpbmcoNiwgMTApIC0gMTsKICAgICAgICBzZXggPSBpZGVuLnN1YnN0cmluZygxNiwgMTcpOwogICAgICAgIGJpcnRoID0gaWRlbi5zdWJzdHJpbmcoNiwgMTApICsgJy0nICsgaWRlbi5zdWJzdHJpbmcoMTAsIDEyKSArICctJyArIGlkZW4uc3Vic3RyaW5nKDEyLCAxNCk7CiAgICAgICAgaWYgKGlkZW4uc3Vic3RyaW5nKDEwLCAxMikgPCBtb250aCB8fCBpZGVuLnN1YnN0cmluZygxMCwgMTIpID09PSBtb250aCAmJiBpZGVuLnN1YnN0cmluZygxMiwgMTQpIDw9IGRheSkgYWdlKys7CiAgICAgIH0KCiAgICAgIGlmICh2YWwgPT09IDE1KSB7CiAgICAgICAgYWdlID0gbXlEYXRlLmdldEZ1bGxZZWFyKCkgLSBpZGVuLnN1YnN0cmluZyg2LCA4KSAtIDE5MDE7CiAgICAgICAgc2V4ID0gaWRlbi5zdWJzdHJpbmcoMTMsIDE0KTsKICAgICAgICBiaXJ0aCA9ICcxOScgKyBpZGVuLnN1YnN0cmluZyg2LCA4KSArICctJyArIGlkZW4uc3Vic3RyaW5nKDgsIDEwKSArICctJyArIGlkZW4uc3Vic3RyaW5nKDEwLCAxMik7CiAgICAgICAgaWYgKGlkZW4uc3Vic3RyaW5nKDgsIDEwKSA8IG1vbnRoIHx8IGlkZW4uc3Vic3RyaW5nKDgsIDEwKSA9PT0gbW9udGggJiYgaWRlbi5zdWJzdHJpbmcoMTAsIDEyKSA8PSBkYXkpIGFnZSsrOwogICAgICB9CgogICAgICBpZiAoc2V4ICUgMiA9PT0gMCkgewogICAgICAgIHNleCA9ICcyJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZXggPSAnMSc7CiAgICAgIH0KCiAgICAgIHRoaXMuYmFzZUluZm8uc2V4ID0gc2V4OwogICAgICB0aGlzLmJhc2VJbmZvLmFnZSA9IGFnZTsKICAgICAgdGhpcy5iYXNlSW5mby5iaXJ0aGRheSA9IGJpcnRoOyAvLyB0aGlzLmJhc2VJbmZvLmJpcnRocGxhY2UgPSB0aGlzLmFyZWFbaWRlbi5zdWJzdHJpbmcoMCwgMildCgogICAgICBjb25zb2xlLmxvZyh0aGlzLmJhc2VJbmZvLCB0aGlzLm1hbkluZm8sIGluZGV4KTsKCiAgICAgIGlmICh2YWwgPT09IDE4IHx8IHZhbCA9PT0gMTUpIHsKICAgICAgICB0aGlzLm1hbkluZm8uZW50cnVzdExpc3RbaW5kZXhdLmdlbmRlciA9IHNleDsKICAgICAgICB0aGlzLm1hbkluZm8uZW50cnVzdExpc3RbaW5kZXhdLmJpcnRoZGF5ID0gYmlydGg7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIvovb3lvZPkuovkurrmnZDmlpkKICAgIGRvd25BbGxGaWxlOiBmdW5jdGlvbiBkb3duQWxsRmlsZShlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MoJ29yZy96aXAtb3JkZXItYW5uZXgnLCB7CiAgICAgICAgb3JkZXJJZDogdGhpcy5lbnRydXN0SW5mby5pZAogICAgICB9LCB7CiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIF90aGlzNi4kZnVuLmJsb2JGaWxlKGJsb2IsICIiLmNvbmNhdChfdGhpczYub3JkZXJOdW0sICIuemlwIikpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRJbWc6IGZ1bmN0aW9uIHVwbG9hZEltZyhlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIGZpbGUgPSBlLmZpbGU7CiAgICAgIHZhciBmaWxlVHlwZSA9IGZpbGUudHlwZTsgLy8g5paH5Lu257G75Z6LCgogICAgICB2YXIgdHlwZUxpc3QgPSBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvanBnJywgJ2ltYWdlL3BuZyddOwogICAgICB2YXIgaXNJbWFnZSA9IHR5cGVMaXN0LmluZGV4T2YoZmlsZVR5cGUpICE9PSAtMTsgLy8g6ZmQ5Yi25qC85byPCgogICAgICB2YXIgaXNMdDE1TSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMTU7IC8vIOaWh+S7tuWkp+WwjwoKICAgICAgdmFyIGRhdGFJbmRleCA9IGUuZGF0YS5saXN0SW5kZXg7IC8vIOWbvueJh2luZGV4CgogICAgICB2YXIgZGF0YUltZyA9IGUuZGF0YS5pbmRleDsgLy8g6IGU57O75Lq6aW5kZXgKCiAgICAgIGlmICghaXNJbWFnZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+S4iuS8oGpwZ+OAgWpwZWfjgIFwbmfmoLzlvI/nmoTmlofku7YhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIWlzTHQxNU0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYfnmoTlpKflsI/lupTlsI/kuo4xNU0nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdvcmRlcklkJywgdGhpcy5tYW5JbmZvLmlkKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlVHlwZScsICdvcmRlci1tYXRlcmlhbCcpOyAvLyDmlofku7bmtYEKCiAgICAgIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7CiAgICAgIHZhciBpbWdVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOyAvLyDmnKzlnLB1cmwKCiAgICAgIHZhciBjaGFuZ2VMaXN0ID0gdGhpcy5tYW5JbmZvLmVudHJ1c3RMaXN0W2RhdGFJbmRleF0ubWF0ZXJpYWxMaXN0OwogICAgICB0aGlzLiRheGlvcygnb3JnL3NpbmdsZS1maWxlLXVwbG9hZCcsIGZvcm1EYXRhLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBpZiAoIV90aGlzNy5tYW5JbmZvLmVudHJ1c3RMaXN0W2RhdGFJbmRleF0ubm93X2FkZCkgewogICAgICAgICAgICBjaGFuZ2VMaXN0W2RhdGFJbWddLm1hdGVyaWFsRmlsZSA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKTsKICAgICAgICAgICAgY2hhbmdlTGlzdFtkYXRhSW1nXS5vcmlnaW5GaWxlTmFtZSA9IHJlcy5kYXRhLm9yaWdpbmFsRmlsZW5hbWU7CiAgICAgICAgICAgIGNoYW5nZUxpc3RbZGF0YUltZ10udXJsID0gaW1nVVJMOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hhbmdlTGlzdFtkYXRhSW1nXVsnbWF0ZXJpYWxGaWxlJ10gPSBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSk7CiAgICAgICAgICAgIGNoYW5nZUxpc3RbZGF0YUltZ11bJ3VybCddID0gaW1nVVJMOwogICAgICAgICAgICBjaGFuZ2VMaXN0W2RhdGFJbWddWydmaWxlVHlwZSddID0gZmlsZVR5cGU7CgogICAgICAgICAgICBpZiAoX3RoaXM3Lm1hbkluZm8uZW50cnVzdExpc3RbZGF0YUluZGV4XS5yb2xlQ29kZSA9PSAnaHF3anJzJykgewogICAgICAgICAgICAgIGNoYW5nZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBtYXRlcmlhbE5hbWU6ICfmiqTnhacnLAogICAgICAgICAgICAgICAgbWF0ZXJpYWxDb2RlOiAnMTAwNycsCiAgICAgICAgICAgICAgICB1cmw6ICcnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZyhjaGFuZ2VMaXN0W2RhdGFJbWddKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/neWtmAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoaSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzOC4kcmVmc1sic2hpcHBpbmdGb3JtIi5jb25jYXQoaSldWzBdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgICAgICAgICB2YXIgaXNfaW1nVmVyaWZ5ID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczgubWFuSW5mby5lbnRydXN0TGlzdFtpXS5ub3dfYWRkKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBfdGhpczgubWFuSW5mby5lbnRydXN0TGlzdFtpXS5tYXRlcmlhbExpc3QubGVuZ3RoOyB5KyspIHsvLyBpZih0aGlzLm1hbkluZm8uZW50cnVzdExpc3RbaV0ubWF0ZXJpYWxMaXN0W3ldLnVybD09JycpewogICAgICAgICAgICAgICAgICAgICAgLy8gICBpZigodGhpcy5tYW5JbmZvLmVudHJ1c3RMaXN0W2ldLnJvbGVDb2RlPT0naHF3anJzJyYmeT09MCl8fHRoaXMubWFuSW5mby5lbnRydXN0TGlzdFtpXS5yb2xlQ29kZSE9J2hxd2pycycpewogICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+W/heWhq+mhueWbvueJh+S4uuepuu+8jOivt+S4iuS8oOWbvueJhycpCiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaXNfaW1nVmVyaWZ5PWZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCAmJiBpc19pbWdWZXJpZnkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUluZm8gPSBfdGhpczgubWFuSW5mby5lbnRydXN0TGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgIGhvdXNlRW50cnVzdERUTzoge30sCiAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlclJlRFRPOiB7fSwKICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VyTWF0ZXJpYWxMaXN0OiB7fQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wb3NlclJlRFRPID0gewogICAgICAgICAgICAgICAgICAgICAgb3JkZXJJZDogaXRlbUluZm8ub3JkZXJJZCwKICAgICAgICAgICAgICAgICAgICAgIGNhcmRUeXBlOiBpdGVtSW5mby5jYXJkVHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHJlYWxOYW1lOiBpdGVtSW5mby5yZWFsTmFtZSwKICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZTogaXRlbUluZm8ubW9iaWxlLAogICAgICAgICAgICAgICAgICAgICAgY2FyZE51bTogaXRlbUluZm8uY2FyZE51bSwKICAgICAgICAgICAgICAgICAgICAgIGJpcnRoZGF5OiBpdGVtSW5mby5iaXJ0aGRheSwKICAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogaXRlbUluZm8uZ2VuZGVyLAogICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5RGF0ZTogaXRlbUluZm8uZXhwaXJ5RGF0ZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wb3Nlck1hdGVyaWFsTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbUluZm8ubWF0ZXJpYWxMaXN0KSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhLmhvdXNlRW50cnVzdERUTy5pZCA9IF90aGlzOC5tYW5JbmZvLmVudHJ1c3RJZDsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaG91c2VFbnRydXN0RFRPLm9yZGVySWQgPSBfdGhpczgubWFuSW5mby5pZDsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaG91c2VFbnRydXN0RFRPLmRldGFpbEFkZHJlc3MgPSBfdGhpczgubWFuSW5mby5kZXRhaWxBZGRyZXNzOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5ob3VzZUVudHJ1c3REVE87CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBkYXRhLnByb3Bvc2VyTWF0ZXJpYWxMaXN0ID0gZGF0YS5wcm9wb3Nlck1hdGVyaWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnVybCAhPSAnJzsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1JbmZvLm5vd19hZGQpIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcG9zZXJSZURUT1sncm9sZUNvZGUnXSA9IGl0ZW1JbmZvLnJvbGVDb2RlOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YS5wcm9wb3Nlck1hdGVyaWFsTGlzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBfc3RlcDQudmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmZpbGVUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhWydvcmlnaW5GaWxlTmFtZSddID0gaXRlbUluZm8ucmVhbE5hbWUgKyAnLScgKyBhLm1hdGVyaWFsTmFtZSArICcuJyArIGEuZmlsZVR5cGUuc3Vic3RyaW5nKGEuZmlsZVR5cGUuaW5kZXhPZignLycpICsgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhWydvcmRlcklkJ10gPSBpdGVtSW5mby5vcmRlcklkOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRheGlvcygnb3JnL3NhdmUtb3JkZXItcHJvcG9zZXInLCBkYXRhLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnCiAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmdldEVudHJ1c3RJbmZvcygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguJGZ1bi5tc2coJ+eUs+ivt+S6uua3u+WKoOaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRmdW4ubXNnKCfnlLPor7fkurrmt7vliqDlpLHotKUnLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcG9zZXJSZURUT1snaWQnXSA9IGl0ZW1JbmZvLmlkOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kYXhpb3MoJ29yZy91cGRhdGUtb3JkZXItcHJvcG9zZXInLCBkYXRhLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3B1dCcKICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguJGZ1bi5tc2coJ+iBlOezu+S6uuS/ruaUueaIkOWKnycsICdzdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5tYW5JbmZvLmVudHJ1c3RMaXN0W2ldLmVkaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguZW50cnVzdEluZm8uZW50cnVzdExpc3RbaV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzOC5tYW5JbmZvLmVudHJ1c3RMaXN0W2ldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kcGFyZW50LmdldEVJbmZvKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRmdW4ubXNnKCfogZTns7vkurrkv67mlLnlpLHotKUnLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},null]}