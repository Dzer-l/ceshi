{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/components/entryTab/applicationInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/components/entryTab/applicationInfo.vue","mtime":1634724784693},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0RW50cnlEYXRlaWwsIGdldFByb3Bvc2VJbmZvLCBnZXRQcm9wb3NlRGF0ZWFpbEluZm8sIGdldENpdHlEYXRhLCBtb2RpZmljYXRpb25Db3N0SW5mbywgbW9kaWZpY2F0aW9uUGFydGllc0luZm8gfSBmcm9tICcuLi8uLi9hcGkvY2xvdWRNYWlsJzsKaW1wb3J0IHsgZ2V0UmVwbGFjZUpzb24sIHJlcGxhY2VWYXJpYWJsZSB9IGZyb20gIi4uLy4uL2FwaS9wYXJraW5nU3BhY2UiOwppbXBvcnQgKiBhcyBuZXdIb3VzZSBmcm9tICcuLi8uLi9hcGkvbmV3aG91c2UnOwppbXBvcnQgbmV3UmVsYXRpb25hbFBlcnNvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL25ld0hvdXNlL25ld1JlbGF0aW9uYWxQZXJzb24nOwppbXBvcnQgeyBmaWx0ZXJDYXJkVHlwZSB9IGZyb20gJ0AvZmlsdGVycy9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBuZXdSZWxhdGlvbmFsUGVyc29uOiBuZXdSZWxhdGlvbmFsUGVyc29uCiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJDYXJkVHlwZTogZmlsdGVyQ2FyZFR5cGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB2YWxpZFBob25lID0gZnVuY3Rpb24gdmFsaWRQaG9uZShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5omL5py65Y+3JykpOwogICAgICB9IGVsc2UgaWYgKCEvXjFbM3w0fDV8Nnw3fDh8OV1bMC05XVxkezh9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPtycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHZhciB2YWxpZElkY2FyZCA9IGZ1bmN0aW9uIHZhbGlkSWRjYXJkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAvLyBjb25zdCByZWcgPSAvXlsxLTldXGR7NX1cZHsyfSgoMFsxLTldKXwoMTB8MTF8MTIpKSgoWzAtMl1bMS05XSl8MTB8MjB8MzB8MzEpXGR7M30kLwogICAgICAvLyB2YXIgcmVncyA9IC9eWzEtOV1cZHs1fSgxOHwxOXwoWzIzXVxkKSlcZHsyfSgoMFsxLTldKXwoMTB8MTF8MTIpKSgoWzAtMl1bMS05XSl8MTB8MjB8MzB8MzEpXGR7M31bMC05WHhdJC8KICAgICAgdmFyIHJlZyA9IC9eWzAtOWEtekEtWl17MTUsMTh9JC87CgogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXor4Hku7blj7cnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHBhcnNlSW50KF90aGlzLnBhcnRpZXNJbmZvLmNhcmRUeXBlKSA9PT0gMTExKSB7CiAgICAgICAgICBpZiAocmVnLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOivgeS7tuWPtycpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZhbGlkQWRkciA9IGZ1bmN0aW9uIHZhbGlkQWRkcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKF90aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGlmICghX3RoaXMucGFydGllc0luZm8uZGV0YWlsQWRkcmVzcykgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fpgInmi6nnnIEv5biCL+WMuicpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjYXJkVHlwZTogW3sKICAgICAgICB2YWx1ZTogJzExMScsCiAgICAgICAgbGFiZWw6ICflsYXmsJHouqvku73or4EnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzExMicsCiAgICAgICAgbGFiZWw6ICfkuLTml7blsYXmsJHouqvku73or4EnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzExMycsCiAgICAgICAgbGFiZWw6ICfmiLflj6PnsL8nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzExNCcsCiAgICAgICAgbGFiZWw6ICfkuK3lm73kurrmsJHop6PmlL7lhpvlhpvlrpjor4EnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzEzMicsCiAgICAgICAgbGFiZWw6ICfmma7pgJrmiqTnhaco5Lit5Zu9KScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTMzJywKICAgICAgICBsYWJlbDogJ+WkluWbveaKpOeFpycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTMwJywKICAgICAgICBsYWJlbDogJ+a4r+a+s+WxheawkeWxheS9j+ivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTE4JywKICAgICAgICBsYWJlbDogJ+a4r+a+s+WxheawkemAmuihjOivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTE5JywKICAgICAgICBsYWJlbDogJ+WPsOa5vuWxheawkemAmuihjOivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTIzJywKICAgICAgICBsYWJlbDogJ+Wjq+WFteivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTMxJywKICAgICAgICBsYWJlbDogJ+WPsOa5vuWxheawkeWxheS9j+ivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTI1JywKICAgICAgICBsYWJlbDogJ+W+i+W4iOivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTI4JywKICAgICAgICBsYWJlbDogJ+mpvumptuivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMTI5JywKICAgICAgICBsYWJlbDogJ+WbnuS5oeivgScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMDAwJywKICAgICAgICBsYWJlbDogJ+WFtuS7licKICAgICAgfV0sCiAgICAgIGJhc2ljRGF0YToge30sCiAgICAgIHBhcnRpZXNUYWJsZURhdGE6IFtdLAogICAgICBjb3N0VGFibGVEYXRhOiBbXSwKICAgICAgY29tcGlsZVBhcnRpZXM6IGZhbHNlLAogICAgICBwYXJ0aWVzSW5mbzogey8vIG9yZ2FuaXphdGlvbk5hbWU6JycsCiAgICAgICAgLy8gb3JnYW5pemF0aW9uQ2FyZFR5cGU6JycsCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBwZXJzb25hZ2U6IHsKICAgICAgICBjYXJkTnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkSWRjYXJkLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcmVhbE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlkI3lrZcnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY2FyZFR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nor4Hku7bnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBnZW5kZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmgKfliKsnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBiaXJ0aGRheTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWHuueUn+aXpeacnycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIG1vYmlsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZFBob25lLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbW9kZUFkZHJlc3M6IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkQWRkciwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgTEdkYXRhOiB7CiAgICAgICAgbnVtOiAxLAogICAgICAgIG5vdGFyeUNvc3Q6ICcnLAogICAgICAgIGFsbENvc3Q6ICcnCiAgICAgIH0sCiAgICAgIGVudGVycHJpc2U6IHsKICAgICAgICBvcmdhbml6YXRpb25DYXJkTnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ6K+B5Lu25Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG9yZ2FuaXphdGlvbk5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnkvIHkuJrlkI3lrZcnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgb3JnYW5pemF0aW9uQ2FyZFR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nor4Hku7bnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBvcmdhbml6YXRpb25QaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZFBob25lLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZW50ZXJwcmlzZU1vZGVsQWRkcmVzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5Zyw5Yy6JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgb3JnYW5pemF0aW9uRGV0YWlsQWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeivpue7huWcsOWdgCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBjb3N0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm1MYWJlbEFsaWduOiB7CiAgICAgICAgbm90YXJ5Q29zdDogJycsCiAgICAgICAgc3ViaGVhZENvc3Q6ICcnLAogICAgICAgIG5vdGFyeVRyYW5zbGF0ZUNvc3Q6ICcnLAogICAgICAgIG51bTogJycsCiAgICAgICAgZmlsZVRyYW5zbGF0ZUNvc3Q6ICcnCiAgICAgIH0sCiAgICAgIGNvc3RSdWxzZTogewogICAgICAgIG5vdGFyeUNvc3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor6XotLnnlKjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgc3ViaGVhZENvc3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor6XotLnnlKjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbm90YXJ5VHJhbnNsYXRlQ29zdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivpei0ueeUqOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBudW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor6XotLnnlKjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZmlsZVRyYW5zbGF0ZUNvc3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor6XotLnnlKjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgTEdSdWxzZTogewogICAgICAgIG51bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivpei0ueeUqOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBub3RhcnlDb3N0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+l6LS555So5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGFsbENvc3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor6XotLnnlKjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbXVsdGlwbGVDb3N0UnVsZXM6IHsKICAgICAgICBub3RhcnlDb3N0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+l6LS555So5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNvcHlDb3N0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+l6LS555So5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHRyYW5zQ29zdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivpei0ueeUqOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0cmFuc1RleHRDb3N0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+l6LS555So5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGNvc3REYXRhOiB7fSwKICAgICAgb3JkZXJJZDogJycsCiAgICAgIHBheVFyQ29kZVNob3c6IG51bGwsCiAgICAgIGp1cmlzZGljdGlvbjogZmFsc2UsCiAgICAgIG11bHRpcGxlQ29zdDoge30sCiAgICAgIG11bHRpcGxlQ29zdEZyb21EYXRhOiB7fSwKICAgICAgcXJjb2RlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgbmV3UGVyc29uZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBxckNvZGVGcm9tRGF0YTogbmV3IEZvcm1EYXRhKCksCiAgICAgIGNpdHlBcnI6IFtdLAogICAgICAvLyDkvKDpgJLlrZDnu4Tku7bnmoTln47luILkuInnuqfogZTliqjmlbDmja4sCiAgICAgIG9wZXJhdGluZ1R5cGU6ICdhZGQnIC8vIOaTjeS9nOexu+WeiwoKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5qdXJpc2RpY3Rpb24gPSB0aGlzLiRwYXJlbnQuJHBhcmVudC4kcGFyZW50Lmp1cmlzZGljdGlvbjsKICB9LAogIC8vIHdhdGNoOnsKICAvLyAgICRwYXJlbnQuJHBhcmVudC4kcGFyZW50LmJhc2ljRGF0YQogIC8vIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlcklkKSB7CiAgICAgIHRoaXMub3JkZXJJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVySWQ7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm9yZGVySWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAub3JkZXJJZDsKICAgICAgdmFyIHVybCA9ICIvIyIuY29uY2F0KHRoaXMuJHJvdXRlLnBhdGgsICI/b3JkZXJJZD0iKS5jb25jYXQodGhpcy5vcmRlcklkKTsKICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgdXJsKTsKICAgIH0KCiAgICB0aGlzLmluaXRpYWxpemF0aW9uRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdGlhbGl6YXRpb25EYXRhOiBmdW5jdGlvbiBpbml0aWFsaXphdGlvbkRhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkCiAgICAgIH07CiAgICAgIGdldEVudHJ5RGF0ZWlsKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcywgJ+WfuuacrOS/oeaBrycpCiAgICAgICAgX3RoaXMyLmJhc2ljRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGdldFByb3Bvc2VJbmZvKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLCAn55Sz6K+35L+h5oGv5b2T5LqL5Lq65L+h5oGvJykKICAgICAgICAgIF90aGlzMi5wYXJ0aWVzVGFibGVEYXRhID0gX3RoaXMyLmRpc3Bvc2UocmVzLmRhdGEpOwogICAgICAgICAgdmFyIGFwaXVybCA9IF90aGlzMi5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA2IHx8IF90aGlzMi5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA3ID8gIm9yZy9vcmRlci1ub3RhcnktY29zdC1kZXRhaWw/b3JkZXJJZD0iLmNvbmNhdChfdGhpczIub3JkZXJJZCkgOiAib3JnL21haWwtb3JkZXItbm90YXJ5LWluZm8tY29zdC8iLmNvbmNhdChfdGhpczIub3JkZXJJZCk7CgogICAgICAgICAgX3RoaXMyLiRheGlvcyhhcGl1cmwsIHsKICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMyLm9yZGVySWQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMsICfnlLPor7fkurrkv6Hmga/otLnnlKjkv6Hmga8nKQogICAgICAgICAgICBpZiAocmVzLmRhdGEgIT09IG51bGwpIHsKICAgICAgICAgICAgICBpZiAoX3RoaXMyLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDYgfHwgX3RoaXMyLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDcpIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcwMDAwMDAwMDAwMDAwMDAwMDAnKQogICAgICAgICAgICAgICAgX3RoaXMyLmNvc3RUYWJsZURhdGEgPSByZXMuZGF0YS5vcmdOb3RhcnlJbmZvRFRPTGlzdDsKICAgICAgICAgICAgICAgIF90aGlzMi5tdWx0aXBsZUNvc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLmNvc3RUYWJsZURhdGEucHVzaChyZXMuZGF0YSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmNvc3REYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybUxhYmVsQWxpZ24ubm90YXJ5Q29zdCA9IHJlcy5kYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy5jb3N0OwogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1MYWJlbEFsaWduLnN1YmhlYWRDb3N0ID0gcmVzLmRhdGEub3JkZXJOb3RhcnlDb3N0RGV0YWlsRFRPLmNvcHlDb3N0OwogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1MYWJlbEFsaWduLm5vdGFyeVRyYW5zbGF0ZUNvc3QgPSByZXMuZGF0YS5vcmRlck5vdGFyeUNvc3REZXRhaWxEVE8udHJhbnNDb3N0OwogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1MYWJlbEFsaWduLmZpbGVUcmFuc2xhdGVDb3N0ID0gcmVzLmRhdGEub3JkZXJOb3RhcnlDb3N0RGV0YWlsRFRPLnRyYW5zVGV4dENvc3Q7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybUxhYmVsQWxpZ24ubnVtID0gcmVzLmRhdGEubm90YXJ5TnVtOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNSkgewogICAgICAgICAgICAgICAgICAvLyB0aGlzLkxHZGF0YS5udW0gPSByZXMuZGF0YS5ub3RhcnlOdW0KICAgICAgICAgICAgICAgICAgX3RoaXMyLkxHZGF0YS5ub3RhcnlDb3N0ID0gcmVzLmRhdGEub3JkZXJOb3RhcnlDb3N0RGV0YWlsRFRPLmNvc3Q7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5MR2RhdGEuYWxsQ29zdCA9IHJlcy5kYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy5ub3RhcnlUb3RhbENvc3Q7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gZ2V0TWFpbENvc3RJbmZvKGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXMsICfnlLPor7fkurrkv6Hmga/otLnnlKjkv6Hmga8nKQogICAgICAgICAgLy8gICBpZiAocmVzLmRhdGEgIT09IG51bGwpIHsKICAgICAgICAgIC8vICAgICB0aGlzLmNvc3RUYWJsZURhdGEucHVzaChyZXMuZGF0YSkKICAgICAgICAgIC8vICAgICB0aGlzLmNvc3REYXRhID0gcmVzLmRhdGEKICAgICAgICAgIC8vICAgICB0aGlzLmZvcm1MYWJlbEFsaWduLm5vdGFyeUNvc3QgPSByZXMuZGF0YS5vcmRlck5vdGFyeUNvc3REZXRhaWxEVE8uY29zdAogICAgICAgICAgLy8gICAgIHRoaXMuZm9ybUxhYmVsQWxpZ24uc3ViaGVhZENvc3QgPQogICAgICAgICAgLy8gICAgICAgcmVzLmRhdGEub3JkZXJOb3RhcnlDb3N0RGV0YWlsRFRPLmNvcHlDb3N0CiAgICAgICAgICAvLyAgICAgdGhpcy5mb3JtTGFiZWxBbGlnbi5ub3RhcnlUcmFuc2xhdGVDb3N0ID0KICAgICAgICAgIC8vICAgICAgIHJlcy5kYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy50cmFuc0Nvc3QKICAgICAgICAgIC8vICAgICB0aGlzLmZvcm1MYWJlbEFsaWduLmZpbGVUcmFuc2xhdGVDb3N0ID0KICAgICAgICAgIC8vICAgICAgIHJlcy5kYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy50cmFuc1RleHRDb3N0CiAgICAgICAgICAvLyAgICAgdGhpcy5mb3JtTGFiZWxBbGlnbi5udW0gPSByZXMuZGF0YS5ub3RhcnlOdW0KICAgICAgICAgIC8vICAgICBpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA1KSB7CiAgICAgICAgICAvLyAgICAgICAvLyB0aGlzLkxHZGF0YS5udW0gPSByZXMuZGF0YS5ub3RhcnlOdW0KICAgICAgICAgIC8vICAgICAgIHRoaXMuTEdkYXRhLm5vdGFyeUNvc3QgPSByZXMuZGF0YS5vcmRlck5vdGFyeUNvc3REZXRhaWxEVE8uY29zdAogICAgICAgICAgLy8gICAgICAgdGhpcy5MR2RhdGEuYWxsQ29zdCA9IHJlcy5kYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy5ub3RhcnlUb3RhbENvc3QKICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vIH0pCgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKGFycmF5KSB7CiAgICAgIHZhciBsaXN0ID0gW107CiAgICAgIHZhciB0ID0gMDsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICB2YXIgdW8gPSB7CiAgICAgICAgICBpZDogJycsCiAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY3JhZFR5cGU6ICcnLAogICAgICAgICAgaWRDcmFkOiAnJywKICAgICAgICAgIHBob25lOiAnJywKICAgICAgICAgIG9yZ2FuaXphdGlvblR5cGU6ICcnLAogICAgICAgICAgY3JhZFR5cGVEc2M6ICcnCiAgICAgICAgfTsKICAgICAgICB1by5pZCA9IGFycmF5W2luZGV4XS5pZDsKCiAgICAgICAgaWYgKHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJykgewogICAgICAgICAgdW8udHlwZSA9IGFycmF5W2luZGV4XS5yb2xlQ29kZSA9PT0gJ2NtcicgPyAn5Y2W5pa5JyA6ICfkubDmlrknOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA2IHx8IHRoaXMuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNykgewogICAgICAgICAgICB1by50eXBlID0gYXJyYXlbaW5kZXhdLnJvbGVDb2RlID09PSAnbHl6cicgPyAn56uL6YGX5Zix5Lq6JyA6IGFycmF5W2luZGV4XS5yb2xlQ29kZSA9PT0gJ3pibHMnID8gJ+S4u+WKnuW+i+W4iCcgOiAn5Y2P5Yqe5b6L5biIL+WKqeeQhic7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1by50eXBlID0gYXJyYXlbaW5kZXhdLnByb3Bvc2VyVHlwZURlc2M7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyc2VJbnQoYXJyYXlbaW5kZXhdLm9yZ2FuaXphdGlvblR5cGUpID09PSAwKSB7CiAgICAgICAgICB1by5vcmdhbml6YXRpb25UeXBlID0gYXJyYXlbaW5kZXhdLm9yZ2FuaXphdGlvblR5cGU7CiAgICAgICAgICB1by5uYW1lID0gYXJyYXlbaW5kZXhdLnJlYWxOYW1lOwogICAgICAgICAgdW8uY3JhZFR5cGUgPSBhcnJheVtpbmRleF0uY2FyZFR5cGU7CiAgICAgICAgICB1by5jcmFkVHlwZURzYyA9IGFycmF5W2luZGV4XS5jYXJkVHlwZURlc2M7CiAgICAgICAgICB1by5pZENyYWQgPSBhcnJheVtpbmRleF0uY2FyZE51bTsKICAgICAgICAgIHVvLnBob25lID0gYXJyYXlbaW5kZXhdLm1vYmlsZTsKCiAgICAgICAgICBpZiAocGFyc2VJbnQoYXJyYXlbaW5kZXhdLnByb3Bvc2VyVHlwZSkgPT09IDAgJiYgYXJyYXlbaW5kZXhdLnJvbGVDb2RlICE9PSAnemJscycgJiYgYXJyYXlbaW5kZXhdLnJvbGVDb2RlICE9PSAneGJscycpIHsKICAgICAgICAgICAgdCsrOwoKICAgICAgICAgICAgaWYgKHQgPT09IDEpIHsKICAgICAgICAgICAgICBsaXN0LnVuc2hpZnQodW8pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGxpc3QucHVzaCh1byk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpc3QucHVzaCh1byk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwYXJzZUludChhcnJheVtpbmRleF0ucHJvcG9zZXJUeXBlKSA9PT0gMCkgewogICAgICAgICAgICB1by5vcmdhbml6YXRpb25UeXBlID0gYXJyYXlbaW5kZXhdLm9yZ2FuaXphdGlvblR5cGU7CiAgICAgICAgICAgIHVvLm5hbWUgPSBhcnJheVtpbmRleF0ub3JnYW5pemF0aW9uTmFtZTsKICAgICAgICAgICAgdW8uY3JhZFR5cGUgPSBhcnJheVtpbmRleF0ub3JnYW5pemF0aW9uQ2FyZFR5cGU7CiAgICAgICAgICAgIHVvLmlkQ3JhZCA9IGFycmF5W2luZGV4XS5vcmdhbml6YXRpb25DYXJkTnVtOwogICAgICAgICAgICB1by5waG9uZSA9IGFycmF5W2luZGV4XS5vcmdhbml6YXRpb25QaG9uZTsKICAgICAgICAgICAgdW8uY3JhZFR5cGVEc2MgPSBhcnJheVtpbmRleF0uY2FyZFR5cGVEZXNjOwogICAgICAgICAgICBsaXN0LnVuc2hpZnQodW8pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdW8ub3JnYW5pemF0aW9uVHlwZSA9IDA7CiAgICAgICAgICAgIHVvLm5hbWUgPSBhcnJheVtpbmRleF0ucmVhbE5hbWU7CiAgICAgICAgICAgIHVvLmNyYWRUeXBlID0gYXJyYXlbaW5kZXhdLmNhcmRUeXBlOwogICAgICAgICAgICB1by5pZENyYWQgPSBhcnJheVtpbmRleF0uY2FyZE51bTsKICAgICAgICAgICAgdW8ucGhvbmUgPSBhcnJheVtpbmRleF0ubW9iaWxlOwogICAgICAgICAgICB1by5jcmFkVHlwZURzYyA9IGFycmF5W2luZGV4XS5jYXJkVHlwZURlc2M7CiAgICAgICAgICAgIGxpc3QucHVzaCh1byk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbGlzdDsKICAgIH0sCiAgICBjb21waWxlSW5mbzogZnVuY3Rpb24gY29tcGlsZUluZm8odmFsKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgb3JkZXJQcm9wb3NlSWQ6IHZhbC5pZAogICAgICB9OwogICAgICBnZXRQcm9wb3NlRGF0ZWFpbEluZm8oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzLmRhdGEuZW50ZXJwcmlzZU1vZGVsQWRkcmVzID0gW107CgogICAgICAgIGlmIChyZXMuZGF0YS5nZW5kZXIgIT09IG51bGwpIHsKICAgICAgICAgIHJlcy5kYXRhLmdlbmRlciA9IHJlcy5kYXRhLmdlbmRlci50b1N0cmluZygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXMuZGF0YS5nZW5kZXIgPSAnJzsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5wYXJ0aWVzSW5mbyA9IHJlcy5kYXRhOwogICAgICAgIHZhciBtb2RlQWRkcmVzcyA9IFtdOwoKICAgICAgICBpZiAocmVzLmRhdGEucHJvdmluY2UgIT0gbnVsbCAmJiByZXMuZGF0YS5jaXR5ICE9PSBudWxsICYmIHJlcy5kYXRhLmNvdW50eSAhPT0gbnVsbCkgewogICAgICAgICAgbW9kZUFkZHJlc3MucHVzaChyZXMuZGF0YS5wcm92aW5jZSk7CiAgICAgICAgICBtb2RlQWRkcmVzcy5wdXNoKHJlcy5kYXRhLmNpdHkpOwogICAgICAgICAgbW9kZUFkZHJlc3MucHVzaChyZXMuZGF0YS5jb3VudHkpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGVudGVycHJpc2VNb2RlbEFkZHJlcyA9IFtdOwoKICAgICAgICBpZiAocmVzLmRhdGEub3JnYW5pemF0aW9uUHJvdmluY2UgIT0gbnVsbCAmJiByZXMuZGF0YS5vcmdhbml6YXRpb25DaXR5ICE9PSBudWxsICYmIHJlcy5kYXRhLm9yZ2FuaXphdGlvbkNvdW50eSAhPT0gbnVsbCkgewogICAgICAgICAgZW50ZXJwcmlzZU1vZGVsQWRkcmVzLnB1c2gocmVzLmRhdGEub3JnYW5pemF0aW9uUHJvdmluY2UpOwogICAgICAgICAgZW50ZXJwcmlzZU1vZGVsQWRkcmVzLnB1c2gocmVzLmRhdGEub3JnYW5pemF0aW9uQ2l0eSk7CiAgICAgICAgICBlbnRlcnByaXNlTW9kZWxBZGRyZXMucHVzaChyZXMuZGF0YS5vcmdhbml6YXRpb25Db3VudHkpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLnBhcnRpZXNJbmZvLmVudGVycHJpc2VNb2RlbEFkZHJlcyA9IGVudGVycHJpc2VNb2RlbEFkZHJlczsKICAgICAgICBfdGhpczMucGFydGllc0luZm8ubW9kZUFkZHJlc3MgPSBtb2RlQWRkcmVzczsKCiAgICAgICAgaWYgKF90aGlzMy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CiAgICAgICAgICBuZXdIb3VzZS5nZXRVcmJhbkFyZWFUcmVlKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIF90aGlzMy5jaXR5QXJyID0gcmVzLmRhdGFbMF0uY2hpbGRyZW47CiAgICAgICAgICAgICAgX3RoaXMzLm9wZXJhdGluZ1R5cGUgPSAnZWRpdCc7CiAgICAgICAgICAgICAgX3RoaXMzLm5ld1BlcnNvbmVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGdldENpdHlEYXRhKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMy5vcHRpb25zID0gcmVzLmRhdGFbMF0uY2hpbGRyZW47CgogICAgICAgICAgICBpZiAoX3RoaXMzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDYgfHwgX3RoaXMzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDcpIHsKICAgICAgICAgICAgICB2YXIgY29kZSA9IHZhbC50eXBlID09PSAn56uL6YGX5Zix5Lq6JyA/ICdseXpyJyA6IHZhbC50eXBlID09PSAn5Y2P5Yqe5b6L5biIJyA/ICd4YmxzJyA6ICd6YmxzJzsKCiAgICAgICAgICAgICAgX3RoaXMzLiRheGlvcygib3JnL29yZy1wcm9kdWN0aW9uLXJvbGUtY2VydC9ieS1yb2xlLWNvZGUvIi5jb25jYXQoX3RoaXMzLmJhc2ljRGF0YS5wcm9kQ29kZSwgIi8iKS5jb25jYXQoX3RoaXMzLmJhc2ljRGF0YS5vcmdJZCwgIi8iKS5jb25jYXQoY29kZSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCByZXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzLmRhdGFbaW5kZXhdLmNlcnRDb2RlLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiByZXMuZGF0YVtpbmRleF0uY2VydE5hbWUKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgYXJyLnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmNhcmRUeXBlID0gYXJyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczMuY29tcGlsZVBhcnRpZXMgPSB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2VFbnRlcnByaXNlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VFbnRlcnByaXNlKCkgewogICAgICB0aGlzLnBhcnRpZXNJbmZvLm9yZ2FuaXphdGlvblByb3ZpbmNlID0gdGhpcy5wYXJ0aWVzSW5mby5lbnRlcnByaXNlTW9kZWxBZGRyZXNbMF07CiAgICAgIHRoaXMucGFydGllc0luZm8ub3JnYW5pemF0aW9uQ2l0eSA9IHRoaXMucGFydGllc0luZm8uZW50ZXJwcmlzZU1vZGVsQWRkcmVzWzFdOwogICAgICB0aGlzLnBhcnRpZXNJbmZvLm9yZ2FuaXphdGlvbkNvdW50eSA9IHRoaXMucGFydGllc0luZm8uZW50ZXJwcmlzZU1vZGVsQWRkcmVzWzJdOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZVBlcnNvbmFnZUFkZHJlczogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlUGVyc29uYWdlQWRkcmVzKCkgewogICAgICB0aGlzLnBhcnRpZXNJbmZvLnByb3ZpbmNlID0gdGhpcy5wYXJ0aWVzSW5mby5tb2RlQWRkcmVzc1swXTsKICAgICAgdGhpcy5wYXJ0aWVzSW5mby5jb3VudHkgPSB0aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzWzJdOwogICAgICB0aGlzLnBhcnRpZXNJbmZvLmNpdHkgPSB0aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzWzFdOwogICAgfSwKICAgIC8vIOS/neWtmOW9k+S6i+S6uuS/oeaBrwogICAgc2F2ZVBhcnRpZXNJbmZvOiBmdW5jdGlvbiBzYXZlUGFydGllc0luZm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wYXJ0aWVzSW5mby5vcmdhbml6YXRpb25UeXBlKQogICAgICB0aGlzLiRjb25maXJtKCc8ZGl2Ij7mm7TmlLnlvZPkuovkurrkv6Hmga/pnIDopoE8Yj7ph43mlrDnlJ/miJDlhazor4HmlofkuabjgIHlhazor4Hkuabor4Hor43lj4rph43mlrDlrqHmoLjlkIjlkIznsbvmlofkuaY8L2I+LOehruWumue7p+e7reaTjeS9nO+8nzwvZGl2PicsICfph43opoHmj5DnpLonLCB7CiAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY3VzdG9tQ2xhc3M6ICdjb25maXJtX19DbGFzcycgLy8g6ZyA6KaB5YaZ5Zyo5rKh5pyJc2NvcGXnmoRzdHlsZemHjOmdouaJjeS8mueUn+aViAoKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHAxID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgX3RoaXM0LiRyZWZzWydwZXJzb25hZ2UnXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQsIG9iaikgewogICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlamVjdChmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoX3RoaXM0LnBhcnRpZXNJbmZvLm9yZ2FuaXphdGlvblR5cGUgPT09IDAgfHwgX3RoaXM0LnBhcnRpZXNJbmZvLm9yZ2FuaXphdGlvblR5cGUgPT09IG51bGwpIHsKICAgICAgICAgIFByb21pc2UuYWxsKFtwMV0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczQuU3VibWl0b2RpZmljYXRpb24oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcDIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgIF90aGlzNC4kcmVmc1snZW50ZXJwcmlzZSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCwgb2JqKSB7CiAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWplY3QoZmFsc2UpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIFByb21pc2UuYWxsKFtwMSwgcDJdKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXM0LlN1Ym1pdG9kaWZpY2F0aW9uKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiY2FuY2xlIik7CiAgICAgIH0pOwogICAgfSwKICAgIFN1Ym1pdG9kaWZpY2F0aW9uOiBmdW5jdGlvbiBTdWJtaXRvZGlmaWNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJ0aWVzSW5mbykpOwoKICAgICAgaWYgKHRoaXMucGFydGllc0luZm8ubW9kZUFkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgIGRhdGEuZGV0YWlsQWRkcmVzcyA9IHRoaXMucGFydGllc0luZm8ubW9kZUFkZHJlc3MgPyB0aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzLmxlbmd0aCA9PT0gMyA/IHRoaXMucGFydGllc0luZm8ubW9kZUFkZHJlc3NbMF0gKyB0aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzWzFdICsgdGhpcy5wYXJ0aWVzSW5mby5tb2RlQWRkcmVzc1syXSArIHRoaXMucGFydGllc0luZm8uZGV0YWlsQWRkcmVzcyA6IHRoaXMucGFydGllc0luZm8ubW9kZUFkZHJlc3NbMF0gKyB0aGlzLnBhcnRpZXNJbmZvLm1vZGVBZGRyZXNzWzFdICsgdGhpcy5wYXJ0aWVzSW5mby5kZXRhaWxBZGRyZXNzIDogJyc7CgogICAgICAgIGlmICh0aGlzLnBhcnRpZXNJbmZvLmVudGVycHJpc2VNb2RlbEFkZHJlcy5pbmRleE9mKG51bGwpIDwgMCkgewogICAgICAgICAgdmFyIHR1ID0gdGhpcy5wYXJ0aWVzSW5mby5lbnRlcnByaXNlTW9kZWxBZGRyZXMgPyB0aGlzLnBhcnRpZXNJbmZvLmVudGVycHJpc2VNb2RlbEFkZHJlcy5sZW5ndGggPT09IDMgPyB0aGlzLnBhcnRpZXNJbmZvLmVudGVycHJpc2VNb2RlbEFkZHJlc1swXSArIHRoaXMucGFydGllc0luZm8uZW50ZXJwcmlzZU1vZGVsQWRkcmVzWzFdICsgdGhpcy5wYXJ0aWVzSW5mby5lbnRlcnByaXNlTW9kZWxBZGRyZXNbMl0gOiB0aGlzLnBhcnRpZXNJbmZvLmVudGVycHJpc2VNb2RlbEFkZHJlc1swXSArIHRoaXMucGFydGllc0luZm8uZW50ZXJwcmlzZU1vZGVsQWRkcmVzWzFdIDogJyc7CiAgICAgICAgICBkYXRhLm9yZ2FuaXphdGlvbkFkZHJlc3MgPSB0dSArIGRhdGEub3JnYW5pemF0aW9uRGV0YWlsQWRkcmVzczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1vZGlmaWNhdGlvblBhcnRpZXNJbmZvKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgaWYgKF90aGlzNS5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewogICAgICAgICAgICAvLyDkurrpmLLovabkvY0KICAgICAgICAgICAgX3RoaXM1LnBhcGFya2luZ1NwYWNlUmVwbGFjZVZhcmlhYmxlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUuJGZ1bi5yZXBsYWNlSW5zdHJ1bWVudChfdGhpczUub3JkZXJJZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBwYXBhcmtpbmdTcGFjZVJlcGxhY2VWYXJpYWJsZTogZnVuY3Rpb24gcGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlcywgdmFyaWFibGUsIHJlc3VsdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UmVwbGFjZUpzb24oX3RoaXM2Lm9yZGVySWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyaWFibGUgPSB7CiAgICAgICAgICAgICAgICAgIG9yZ0lkOiBfdGhpczYuYmFzaWNEYXRhLm9yZ0lkLAogICAgICAgICAgICAgICAgICBwcm9Db2RlOiAicmZjdyIsCiAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IF90aGlzNi5vcmRlcklkLAogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVR5cGU6IDAsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICIiLAogICAgICAgICAgICAgICAgICBqc29uOiBKU09OLnN0cmluZ2lmeShyZXMpLAogICAgICAgICAgICAgICAgICBpZERlbGV0ZTogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhcmlhYmxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VWYXJpYWJsZSh2YXJpYWJsZSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5pu/5o2i57uT5p6cJywgcmVzdWx0KTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY29tcGlsZUNvc3Q6IGZ1bmN0aW9uIGNvbXBpbGVDb3N0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMubXVsdGlwbGVDb3N0RnJvbURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubXVsdGlwbGVDb3N0KSk7CiAgICAgIHRoaXMuY29zdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB2YXIgZm9ybSA9IHRoaXMuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNiB8fCB0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDcgPyAnbXVsdGlwQ29zdEZvcm0nIDogJ2Nvc3RGb3JtJzsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNy4kcmVmc1tmb3JtXS5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNvc3REYXRhU3VibWl0OiBmdW5jdGlvbiBjb3N0RGF0YVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA2IHx8IHRoaXMuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNykgewogICAgICAgIHRoaXMuJHJlZnNbJ211bHRpcENvc3RGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkLCBvYmopIHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzOC5tdWx0aXBsZUNvc3RGcm9tRGF0YS5vcmdOb3RhcnlJbmZvRFRPTGlzdDsKCiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgIGRhdGFbaW5kZXhdLm5vdGFyeVRvdGFsQ29zdCA9IHBhcnNlRmxvYXQoZGF0YVtpbmRleF0ubm90YXJ5Q29zdCkgKyBwYXJzZUZsb2F0KGRhdGFbaW5kZXhdLnRyYW5zQ29zdCkgKyBwYXJzZUZsb2F0KGRhdGFbaW5kZXhdLnRyYW5zVGV4dENvc3QpICsgcGFyc2VGbG9hdChkYXRhW2luZGV4XS5jb3B5Q29zdCk7CiAgICAgICAgICAgICAgZGF0YVtpbmRleF0uaXRlbVRvdGFsID0gcGFyc2VGbG9hdChkYXRhW2luZGV4XS5ub3RhcnlDb3N0KSArIHBhcnNlRmxvYXQoZGF0YVtpbmRleF0udHJhbnNDb3N0KSArIHBhcnNlRmxvYXQoZGF0YVtpbmRleF0udHJhbnNUZXh0Q29zdCkgKyBwYXJzZUZsb2F0KGRhdGFbaW5kZXhdLmNvcHlDb3N0KTsKICAgICAgICAgICAgICBkYXRhW2luZGV4XS5jb3N0ID0gZGF0YVtpbmRleF0ubm90YXJ5Q29zdDsKICAgICAgICAgICAgICBkYXRhW2luZGV4XS5pdGVtVG90YWwgPSBwYXJzZUZsb2F0KGRhdGFbaW5kZXhdLm5vdGFyeUNvc3QpICsgcGFyc2VGbG9hdChkYXRhW2luZGV4XS50cmFuc0Nvc3QpICsgcGFyc2VGbG9hdChkYXRhW2luZGV4XS50cmFuc1RleHRDb3N0KSArIHBhcnNlRmxvYXQoZGF0YVtpbmRleF0uY29weUNvc3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczguJGF4aW9zKCJvcmcvb3JkZXItbm90YXJ5LWNvc3RzLWRldGFpbCIsIGRhdGEsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzOC4kcm91dGVyLmdvKDApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzWydjb3N0Rm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCwgb2JqKSB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgaWQ6IF90aGlzOC5jb3N0RGF0YS5vcmRlck5vdGFyeUNvc3REZXRhaWxEVE8uaWQsCiAgICAgICAgICAgICAgb3JkZXJOb3RhcnlJZDogX3RoaXM4LmNvc3REYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy5vcmRlck5vdGFyeUlkLAogICAgICAgICAgICAgIG9yZGVySWQ6IF90aGlzOC5vcmRlcklkLAogICAgICAgICAgICAgIGNvc3RUeXBlOiBfdGhpczguY29zdERhdGEub3JkZXJOb3RhcnlDb3N0RGV0YWlsRFRPLmNvc3RUeXBlLAogICAgICAgICAgICAgIGNvc3RQcmljZTogX3RoaXM4LmNvc3REYXRhLm9yZGVyTm90YXJ5Q29zdERldGFpbERUTy5jb3N0UHJpY2UsCiAgICAgICAgICAgICAgY29weUNvc3Q6IF90aGlzOC5mb3JtTGFiZWxBbGlnbi5zdWJoZWFkQ29zdCwKICAgICAgICAgICAgICB0cmFuc0Nvc3Q6IF90aGlzOC5mb3JtTGFiZWxBbGlnbi5ub3RhcnlUcmFuc2xhdGVDb3N0LAogICAgICAgICAgICAgIHRyYW5zVGV4dENvc3Q6IF90aGlzOC5mb3JtTGFiZWxBbGlnbi5maWxlVHJhbnNsYXRlQ29zdCwKICAgICAgICAgICAgICBub3RhcnlOdW06IF90aGlzOC5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA0IHx8IF90aGlzOC5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnIHx8IF90aGlzOC5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSA/IF90aGlzOC5mb3JtTGFiZWxBbGlnbi5udW0gOiBfdGhpczguTEdkYXRhLm51bSwKICAgICAgICAgICAgICBjb3N0OiBfdGhpczguYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNCB8fCBfdGhpczguYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyB8fCBfdGhpczguYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gMTEgPyBfdGhpczguZm9ybUxhYmVsQWxpZ24ubm90YXJ5Q29zdCA6IF90aGlzOC5MR2RhdGEubm90YXJ5Q29zdAogICAgICAgICAgICB9OwogICAgICAgICAgICBtb2RpZmljYXRpb25Db3N0SW5mbyhkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKQogICAgICAgICAgICAgICAgaWYgKF90aGlzOC5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC4kcm91dGVyLmdvKDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewogICAgICAgICAgICAgICAgICAgIC8vIOS6uumYsui9puS9jQogICAgICAgICAgICAgICAgICAgIF90aGlzOC5wYXBhcmtpbmdTcGFjZVJlcGxhY2VWYXJpYWJsZSgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzOC4kZnVuLnJlcGxhY2VJbnN0cnVtZW50KF90aGlzOC5vcmRlcklkKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVQcm9wb3NlcjogZnVuY3Rpb24gZGVsZXRlUHJvcG9zZXIodmFsKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgLy8gdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6Zmk6K+l5b2T5LqL5Lq677yfJywgJ+aPkOekuicsIHsKICAgICAgLy8gICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgIC8vICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgIC8vICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIC8vIH0pLnRoZW4oKCkgPT4gewogICAgICAvLyAgIG5ld0hvdXNlLmRlbGV0ZVByb3Bvc2VyKHsgb3JkZXJQcm9wb3NlcklkOiB2YWwuaWQgfSkudGhlbihyZXMgPT4gewogICAgICAvLyAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgIC8vICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICfliKDpmaTlhbPns7vkurrmiJDlip8nIH0pCiAgICAgIC8vICAgICAgIHRoaXMuJGZ1bi5yZXBsYWNlSW5zdHJ1bWVudCh0aGlzLm9yZGVySWQpCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gfSkuY2F0Y2goKCkgPT4gewogICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAvLyAgICAgdHlwZTogJ2luZm8nLAogICAgICAvLyAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgLy8gICB9KQogICAgICAvLyB9KQogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbWVzc2FnZTogaCgncCcsIG51bGwsIFtoKCdzcGFuJywgbnVsbCwgJ+ehruWumuWIoOmZpOivpeW9k+S6i+S6uu+8nyAnKSwgaCgncCcsIHsKICAgICAgICAgIHN0eWxlOiAnY29sb3I6ICNFNkEyM0MnCiAgICAgICAgfSwgJ+WIoOmZpOWQju+8jOaXoOazleaBouWkjScpXSksCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIGJlZm9yZUNsb3NlKGFjdGlvbiwgaW5zdGFuY2UsIGRvbmUpIHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewogICAgICAgICAgICBuZXdIb3VzZS5kZWxldGVQcm9wb3Nlcih7CiAgICAgICAgICAgICAgb3JkZXJQcm9wb3NlcklkOiB2YWwuaWQKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5YWz57O75Lq65oiQ5YqfJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKHRoYXQuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gMTEpIHsKICAgICAgICAgICAgICAgICAgLy8g5Lq66Ziy6L2m5L2NCiAgICAgICAgICAgICAgICAgIHRoYXQucGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoYXQuJGZ1bi5yZXBsYWNlSW5zdHJ1bWVudCh0aGF0Lm9yZGVySWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICBfdGhpczkuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ2FjdGlvbjogJyArIGFjdGlvbgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgcGF5UXJDb2RlOiBmdW5jdGlvbiBwYXlRckNvZGUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIG5ld0hvdXNlLmdldE9yZGVyUGF5UXJDb2RlKHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMC5wYXlRckNvZGVTaG93ID0gcmVzLmRhdGEgPyAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwnICsgcmVzLmRhdGEucXJDb2RlRmlsZSA6IG51bGw7CiAgICAgICAgX3RoaXMxMC5xcmNvZGVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgdXBMb2FRUkNvZGU6IGZ1bmN0aW9uIHVwTG9hUVJDb2RlKGUpIHsKICAgICAgdmFyIGZpbGUgPSBlLmZpbGU7CiAgICAgIHRoaXMucXJDb2RlRnJvbURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgICAgIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7CiAgICAgIHRoaXMucGF5UXJDb2RlU2hvdyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICB9LAogICAgZGV0ZXJtaW5lVXBsb2FkOiBmdW5jdGlvbiBkZXRlcm1pbmVVcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICBmb3JtRGF0YTogdGhpcy5xckNvZGVGcm9tRGF0YQogICAgICB9OwogICAgICBuZXdIb3VzZS51cGxvYWRQYXltZW50UXJDb2RlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMxMS4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOaIkOWKnycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMTEucXJDb2RlRnJvbURhdGEuZGVsZXRlKCdmaWxlJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChlKSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKCiAgICAgIGlmICh0aGlzLmdldEZpbGVUeXBlKGUubmFtZSkgIT09ICdpbWFnZScpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDnmoTmlofku7blj6rog73kuLrlm77niYfmoLzlvI/jgIInKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGaWxlVHlwZTogZnVuY3Rpb24gZ2V0RmlsZVR5cGUoZmlsZU5hbWUpIHsKICAgICAgLy8g5ZCO57yA6I635Y+WCiAgICAgIHZhciBzdWZmaXggPSAnJzsgLy8g6I635Y+W57G75Z6L57uT5p6cCgogICAgICB2YXIgcmVzdWx0ID0gJyc7CgogICAgICB0cnkgewogICAgICAgIHZhciBmbGllQXJyID0gZmlsZU5hbWUuc3BsaXQoJy4nKTsKICAgICAgICBzdWZmaXggPSBmbGllQXJyW2ZsaWVBcnIubGVuZ3RoIC0gMV07CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHN1ZmZpeCA9ICcnOwogICAgICB9IC8vIGZpbGVOYW1l5peg5ZCO57yA6L+U5ZueIGZhbHNlCgoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHN1ZmZpeCA9IHN1ZmZpeC50b0xvY2FsZUxvd2VyQ2FzZSgpOyAvLyDlm77niYfmoLzlvI8KCiAgICAgIHZhciBpbWdsaXN0ID0gWydwbmcnLCAnanBnJywgJ2pwZWcnLCAnYm1wJywgJ2dpZiddOyAvLyDov5vooYzlm77niYfljLnphY0KCiAgICAgIHJlc3VsdCA9IGltZ2xpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAnaW1hZ2UnOwogICAgICB9IC8vIOWMuemFjXR4dAoKCiAgICAgIHZhciB0eHRsaXN0ID0gWyd0eHQnXTsKICAgICAgcmVzdWx0ID0gdHh0bGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICd0eHQnOwogICAgICB9IC8vIOWMuemFjSBleGNlbAoKCiAgICAgIHZhciBleGNlbGlzdCA9IFsneGxzJywgJ3hsc3gnXTsKICAgICAgcmVzdWx0ID0gZXhjZWxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAnZXhjZWwnOwogICAgICB9IC8vIOWMuemFjSB3b3JkCgoKICAgICAgdmFyIHdvcmRsaXN0ID0gWydkb2MnLCAnZG9jeCddOwogICAgICByZXN1bHQgPSB3b3JkbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICd3b3JkJzsKICAgICAgfSAvLyDljLnphY0gcGRmCgoKICAgICAgdmFyIHBkZmxpc3QgPSBbJ3BkZiddOwogICAgICByZXN1bHQgPSBwZGZsaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PT0gc3VmZml4OwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICByZXR1cm4gJ3BkZic7CiAgICAgIH0gLy8g5Yy56YWNIHBwdAoKCiAgICAgIHZhciBwcHRsaXN0ID0gWydwcHQnLCAncHB0eCddOwogICAgICByZXN1bHQgPSBwcHRsaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PT0gc3VmZml4OwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICByZXR1cm4gJ3BwdCc7CiAgICAgIH0gLy8g5Yy56YWNIOinhumikQoKCiAgICAgIHZhciB2aWRlb2xpc3QgPSBbJ21wNCcsICdtMnYnLCAnbWt2JywgJ3JtdmInLCAnd212JywgJ2F2aScsICdmbHYnLCAnbW92JywgJ200diddOwogICAgICByZXN1bHQgPSB2aWRlb2xpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAndmlkZW8nOwogICAgICB9IC8vIOWMuemFjSDpn7PpopEKCgogICAgICB2YXIgcmFkaW9saXN0ID0gWydtcDMnLCAnd2F2JywgJ3dtdiddOwogICAgICByZXN1bHQgPSByYWRpb2xpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAncmFkaW8nOwogICAgICB9IC8vIOWFtuS7liDmlofku7bnsbvlnosKCgogICAgICByZXR1cm4gJ290aGVyJzsKICAgIH0sCiAgICBuZXdQZXJzb25lOiBmdW5jdGlvbiBuZXdQZXJzb25lKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB0aGlzLm9wZXJhdGluZ1R5cGUgPSAnYWRkJzsKICAgICAgbmV3SG91c2UuZ2V0VXJiYW5BcmVhVHJlZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMxMi5jaXR5QXJyID0gcmVzLmRhdGFbMF0uY2hpbGRyZW47CiAgICAgICAgICBfdGhpczEyLm5ld1BlcnNvbmVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsgLy8gdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgLy8gICB0aGlzLiRyZWZzLm5ld1JlbGF0aW9uYWxydWxlRm9ybS5yZXNldEZvcm0oKQogICAgICAgICAgLy8gfSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1OZXc6IGZ1bmN0aW9uIGNvbmZpcm1OZXcoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMubmV3UmVsYXRpb25hbHJ1bGVGb3JtLnZlcmlmeUZvcm0oKSkKICAgICAgdGhpcy4kcmVmcy5uZXdSZWxhdGlvbmFscnVsZUZvcm0udmVyaWZ5Rm9ybSgpOwogICAgfQogIH0KfTs="},null]}