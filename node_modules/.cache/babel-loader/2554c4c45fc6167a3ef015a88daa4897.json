{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/components/universal/evidenceMaterial.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/components/universal/evidenceMaterial.vue","mtime":1634724784699},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL2plbmtpbnNfZGF0YS93b3Jrc3BhY2UvXHU5ODc1XHU5NzYyLVx1NTE2Q1x1OEJDMVx1NTkwNFx1NTQwRVx1NTNGMC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEV2aWRlbmNlTWF0ZXJpYWwsIC8vIOiOt+WPluivgeaNruadkOaWmeWIl+ihqO+8iOaXp++8iQpnZXRFbnRyeURhdGVpbCwgLy8g6I635Y+W6K6i5Y2V6K+m5oOF77yI5pen77yJCnByZXZpZXdNYXRlcmlhbHMsIC8vIOmihOiniOWbvueJh++8iOaXp++8iQpEZWxldGVNYXRlcmlhbHMsIC8vIOWIoOmZpOivgeaNruadkOaWme+8iOaXp++8iQpnZXRBbGxUeXBlTWF0ZXJpYWwsIC8vIOiOt+WPluiuouWNleaJgOacieWFs+ezu+S6uuS4i+eahOadkOaWmeexu+Wei+WPiuadkOaWmeaWh+S7tu+8iOaXp++8iQphZGRBcHBsaWNhdGlvbk1hdGVyaWFsIC8vIOiuouWNleaWsOWinuWFs+ezu+S6uuadkOaWme+8iOaXp++8iQp9IGZyb20gJy4uLy4uL2FwaS9jbG91ZE1haWwnOwppbXBvcnQgeyBnZXRVbml2ZXJzYWxNYXRlcmlhbExpc3QsIC8vIOivgeaNruadkOaWmeafpeivogpnZXRVbml2ZXJzYWxPcmRlckRldGFpbCwgLy8g6K6i5Y2V6K+m5oOFCmdldFVuaXZlcnNhbERvY3VtZW50UHJldmlld0ltZyAvLyDmlofkuabmnZDmlpnpooTop4jlm77niYcKfSBmcm9tICcuLi8uLi9hcGkvdW5pdmVyc2FsJzsKaW1wb3J0ICogYXMgZHMgZnJvbSAnQC9hcGkvZGV0YWlscyc7CmltcG9ydCB7IHByaW50SW5pdCwgcHJpbnQgfSBmcm9tICcuLi8uLi91dGlscy9lbnRyeVByaW50JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBqdXJpc2RpY3Rpb246IGZhbHNlLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGZpbGU6IHt9LAogICAgICBjaGVja0xpc3Q6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ2xhYmVsJwogICAgICB9LAogICAgICBzZWxlY3REYXRhOiBbXSwKICAgICAgZXZpZW5jZURhdGE6IFtdLAogICAgICBhbGxDaGVja2VkOiBmYWxzZSwKICAgICAgaXNJbmRldGVybWluYXRlOiBmYWxzZSwKICAgICAgY3VycmVudFBhZ2UzOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICBvcmRlcklkOiAnJywKICAgICAgYmFzdWVEYXRhOiB7fSwKICAgICAgdXBsb2FkTWF0ZXJpYWxEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybUxhYmVsQWxpZ246IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0eXBlOiAnJwogICAgICB9LAogICAgICBvcHRpb25zOiBbXSwKICAgICAgaW1nVVJMRGF0YTogW10sCiAgICAgIHByb3Blc0RhdGE6IFtdLAogICAgICBtYXRlcmlhbERhdGE6IHt9LAogICAgICB1cGxvYWREYXRhOiBbXSwKICAgICAgZnVsbHNjcmVlbkxvYWRpbmc6IGZhbHNlLAogICAgICBtYXRlcmlhbExpc3Q6IFtdLAogICAgICB0b3RhbFN0YXR1OiBmYWxzZSwKICAgICAgY2hlY2tTdGF0dXM6IHRydWUsCiAgICAgIG1hdGVyaWFsTGlzdERhdGE6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmp1cmlzZGljdGlvbiA9IHRoaXMuJHBhcmVudC4kcGFyZW50LiRwYXJlbnQuanVyaXNkaWN0aW9uOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlcklkKSB7CiAgICAgIHRoaXMub3JkZXJJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVySWQ7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm9yZGVySWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAub3JkZXJJZDsKICAgICAgdmFyIHVybCA9ICIvIyIuY29uY2F0KHRoaXMuJHJvdXRlLnBhdGgsICI/b3JkZXJJZD0iKS5jb25jYXQodGhpcy5vcmRlcklkKTsKICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgdXJsKTsKICAgIH0KCiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGp1ZGdlRmlsZUZvcm1hdDogZnVuY3Rpb24ganVkZ2VGaWxlRm9ybWF0KHN0cikgewogICAgICB2YXIgaXNfYnV0dG9uID0gdHJ1ZTsKICAgICAgdmFyIHZpZGVvU3VmZml4RGF0YSA9IFsnYXZpJywgJ3dtdicsICdtcGcnLCAnbXBlZycsICdtb3YnLCAncm0nLCAncmFtJywgJ3N3ZicsICdmbHYnLCAnbXA0JywgJ20ydicsICdta3YnLCAncm12YicsICdtNHYnXTsKCiAgICAgIGZvciAodmFyIF9pID0gMCwgX3ZpZGVvU3VmZml4RGF0YSA9IHZpZGVvU3VmZml4RGF0YTsgX2kgPCBfdmlkZW9TdWZmaXhEYXRhLmxlbmd0aDsgX2krKykgewogICAgICAgIHZhciBpID0gX3ZpZGVvU3VmZml4RGF0YVtfaV07CgogICAgICAgIGlmIChzdHIuaW5jbHVkZXMoaSkpIHsKICAgICAgICAgIGlzX2J1dHRvbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGlzX2J1dHRvbjsKICAgIH0sCiAgICAvLyDojrflj5bliJfooagKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgcGFnZU51bTogdGhpcy5jdXJyZW50UGFnZTMsCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgfTsgLy8g5paw5aKe5YqgCgogICAgICBnZXRVbml2ZXJzYWxPcmRlckRldGFpbChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5iYXN1ZURhdGEgPSByZXMuZGF0YTsKICAgICAgICBnZXRVbml2ZXJzYWxNYXRlcmlhbExpc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgX3RoaXMubWF0ZXJpYWxMaXN0RGF0YSA9IHJlcy5kYXRhOyAvLyB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWwKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7IC8vIOWOn+adpeeahAogICAgICAvLyBnZXRFbnRyeURhdGVpbChkYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gCXRoaXMuYmFzdWVEYXRhID0gcmVzLmRhdGEKICAgICAgLy8gCWdldEV2aWRlbmNlTWF0ZXJpYWwoZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgIC8vIAkJaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgIC8vIAkJCXRoaXMubWF0ZXJpYWxMaXN0RGF0YSA9IHJlcy5kYXRhCiAgICAgIC8vIAkJCS8vIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbAogICAgICAvLyAJCX0KICAgICAgLy8gCX0pCiAgICAgIC8vIH0pCiAgICB9LAogICAgLy8g5paH5Lmm5LiL6L2977yI5Y2V5Liq77yJCiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgdmFyIGRvd25sb2FkVHlwZSA9IDI7CiAgICAgIHZhciBmaWxlTmFtZSA9IHZhbC5vcmlnaW5GaWxlTmFtZTsKICAgICAgdGhpcy4kYXhpb3MoJ29yZy9hY2NlcHRhbmNlLWRvd25sb2FkLW1hdGVyaWFsJywgLy8g5paH5Lmm5LiL6L295Zyw5Z2ACiAgICAgIHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgZG9jdW1lbnRJZDogdmFsLmlkLAogICAgICAgIGRvd25sb2FkVHlwZTogZG93bmxvYWRUeXBlCiAgICAgIH0sIHsKICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgY29uc29sZS5sb2coYmxvYik7CiAgICAgICAgY29uc29sZS5sb2coZmlsZU5hbWUpOwoKICAgICAgICBfdGhpczIuc2F2ZUFzKGJsb2IsIGZpbGVOYW1lKTsKCiAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL6L295paH5Lu25Ye95pWwCiAgICBzYXZlQXM6IGZ1bmN0aW9uIHNhdmVBcyhibG9iLCBmaWxlTmFtZSkgewogICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7CiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpOwogICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOyAvLyDliJvlu7rlr7nosaF1cmwKCiAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lOyAvLyBmaXggRmlyZWZveAoKICAgICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpOyAvLyDpgJrov4fosIPnlKggVVJMLmNyZWF0ZU9iamVjdFVSTCgpIOWIm+W7uueahCBVUkwg5a+56LGhCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bmlofku7blkI7nvIAKICAgIGdldEZpbGVUeXBlOiBmdW5jdGlvbiBnZXRGaWxlVHlwZShmaWxlTmFtZSkgewogICAgICAvLyDlkI7nvIDojrflj5YKICAgICAgdmFyIHN1ZmZpeCA9ICcnOyAvLyDojrflj5bnsbvlnovnu5PmnpwKCiAgICAgIHZhciByZXN1bHQgPSAnJzsKCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGZsaWVBcnIgPSBmaWxlTmFtZS5zcGxpdCgnLicpOwogICAgICAgIHN1ZmZpeCA9IGZsaWVBcnJbZmxpZUFyci5sZW5ndGggLSAxXTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgc3VmZml4ID0gJyc7CiAgICAgIH0gLy8gZmlsZU5hbWXml6DlkI7nvIDov5Tlm54gZmFsc2UKCgogICAgICBpZiAoIXN1ZmZpeCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgc3VmZml4ID0gc3VmZml4LnRvTG9jYWxlTG93ZXJDYXNlKCk7IC8vIOWbvueJh+agvOW8jwoKICAgICAgdmFyIGltZ2xpc3QgPSBbJ3BuZycsICdqcGcnLCAnanBlZycsICdibXAnLCAnZ2lmJ107IC8vIOi/m+ihjOWbvueJh+WMuemFjQoKICAgICAgcmVzdWx0ID0gaW1nbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICdpbWFnZSc7CiAgICAgIH0gLy8g5Yy56YWNdHh0CgoKICAgICAgdmFyIHR4dGxpc3QgPSBbJ3R4dCddOwogICAgICByZXN1bHQgPSB0eHRsaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PT0gc3VmZml4OwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICByZXR1cm4gJ3R4dCc7CiAgICAgIH0gLy8g5Yy56YWNIGV4Y2VsCgoKICAgICAgdmFyIGV4Y2VsaXN0ID0gWyd4bHMnLCAneGxzeCddOwogICAgICByZXN1bHQgPSBleGNlbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICdleGNlbCc7CiAgICAgIH0gLy8g5Yy56YWNIHdvcmQKCgogICAgICB2YXIgd29yZGxpc3QgPSBbJ2RvYycsICdkb2N4J107CiAgICAgIHJlc3VsdCA9IHdvcmRsaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PT0gc3VmZml4OwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICByZXR1cm4gJ3dvcmQnOwogICAgICB9IC8vIOWMuemFjSBwZGYKCgogICAgICB2YXIgcGRmbGlzdCA9IFsncGRmJ107CiAgICAgIHJlc3VsdCA9IHBkZmxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAncGRmJzsKICAgICAgfSAvLyDljLnphY0gcHB0CgoKICAgICAgdmFyIHBwdGxpc3QgPSBbJ3BwdCcsICdwcHR4J107CiAgICAgIHJlc3VsdCA9IHBwdGxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBzdWZmaXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHJldHVybiAncHB0JzsKICAgICAgfSAvLyDljLnphY0g6KeG6aKRCgoKICAgICAgdmFyIHZpZGVvbGlzdCA9IFsnbXA0JywgJ20ydicsICdta3YnLCAncm12YicsICd3bXYnLCAnYXZpJywgJ2ZsdicsICdtb3YnLCAnbTR2J107CiAgICAgIHJlc3VsdCA9IHZpZGVvbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICd2aWRlbyc7CiAgICAgIH0gLy8g5Yy56YWNIOmfs+mikQoKCiAgICAgIHZhciByYWRpb2xpc3QgPSBbJ21wMycsICd3YXYnLCAnd212J107CiAgICAgIHJlc3VsdCA9IHJhZGlvbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHN1ZmZpeDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuICdyYWRpbyc7CiAgICAgIH0gLy8g5YW25LuWIOaWh+S7tuexu+WeiwoKCiAgICAgIHJldHVybiAnb3RoZXInOwogICAgfSwKICAgIC8vIOmihOiniOWbvueJhwogICAgcHJldmlld0ZpbGU6IGZ1bmN0aW9uIHByZXZpZXdGaWxlKGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZ2V0RmlsZVR5cGUoaXRlbXMub3JpZ2luRmlsZU5hbWUpID09PSAnZXhjZWwnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+l5paH5Lu25pqC5LiN5pSv5oyB6aKE6KeIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0RmlsZVR5cGUoaXRlbXMub3JpZ2luRmlsZU5hbWUpKTsKCiAgICAgIGlmICh0aGlzLmdldEZpbGVUeXBlKGl0ZW1zLm9yaWdpbkZpbGVOYW1lKSA9PT0gJ2ltYWdlJykgewogICAgICAgIC8vIOmihOiniOWbvueJh+WHveaVsAogICAgICAgIGdldFVuaXZlcnNhbERvY3VtZW50UHJldmlld0ltZyh7CiAgICAgICAgICBpZDogaXRlbXMuaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7IC8vIGlmIChyZXMuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAvLyAgIC8vIOWbvueJh+WcsOWdgOWIneWni+WAvOS4umJhc2U2NCznu5nmr4/kuKp1cmzovazljJbmiJDlj6/muLLmn5PnmoTlnLDlnYAKCiAgICAgICAgICBfdGhpczMuZnVsbHNjcmVlbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHZhciBlID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcmVzLmRhdGE7CiAgICAgICAgICB2YXIgbGlzdCA9IFtdOyAvLyDlsIblm77niYfnmoR1cmzlrZjlhaXkuIDkuKrmlbDnu4TkuK0KCiAgICAgICAgICBsaXN0LnB1c2goZSk7IC8vIOWwhuaVsOe7hOWtmOWFpeWIsHZ1ZXjkuK3lnKhhcHAudnVl5Lit6LCD55So6aKE6KeICgogICAgICAgICAgX3RoaXMzLiRzdG9yZS5jb21taXQoJ2FwcC9DSEFOR0VfSU1BR0UnLCBsaXN0KTsgLy8gfQoKCiAgICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1zLmlkKTsKICAgICAgICB0aGlzLiRheGlvcygib3JnL2FjY2VwdGFuY2Utb3JkZXItcHJvcG9zZXItbWF0ZXJpYWwtcHJldmlldy8iLmNvbmNhdChpdGVtcy5pZCkpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICAgIHZhciBsaXN0LCBpLCBpbWdVcmw7CiAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IHJlcy5kYXRhLmRhdGEuaWRzOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKGxpc3QpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIGlmICgoX2NvbnRleHQudDEgPSBfY29udGV4dC50MCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGkgPSBfY29udGV4dC50MS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmdldEltZyhsaXN0W2ldLCAyKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICBpbWdVcmwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIGxpc3RbaV0gPSBpbWdVcmw7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmNvbW1pdCgnYXBwL0NIQU5HRV9JTUFHRScsIGxpc3QpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfTsKICAgICAgICB9KCkpOyAvLyBkcy5nZXRNYXRlcmlhUHJvcG9zZXJsTGlzdCh7IGlkOiAgfSkudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgLy8gCWNvbnNvbGUubG9nKHJlcykKICAgICAgICAvLyAJaWYgKHJlcy5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAvLyAJCWNvbnN0IGxpc3QgPSByZXMuZGF0YS5kYXRhLmlkcwogICAgICAgIC8vIAkJZm9yIChjb25zdCBpIGluIGxpc3QpIHsKICAgICAgICAvLyAJCQljb25zdCBpbWdVcmwgPSBhd2FpdCB0aGlzLmdldEltZyhsaXN0W2ldLCAyKQogICAgICAgIC8vIAkJCWxpc3RbaV0gPSBpbWdVcmwKICAgICAgICAvLyAJCX0KICAgICAgICAvLyAJCXRoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSBmYWxzZQogICAgICAgIC8vIAkJdGhpcy4kc3RvcmUuY29tbWl0KCdhcHAvQ0hBTkdFX0lNQUdFJywgbGlzdCkKICAgICAgICAvLyAJfQogICAgICAgIC8vIH0pCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5blm77niYflnLDlnYAKICAgIGdldEltZzogZnVuY3Rpb24gZ2V0SW1nKGlkLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB1cmw7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1cmwgPSB0eXBlID09PSAxID8gIm9yZy9hY2NlcHRhbmNlLW9yZGVyLXByb3Bvc2VyLW1hdGVyaWFsLXByZXZpZXcvIi5jb25jYXQoaWQpIDogIm9yZy9hY2NlcHRhbmNlLW9yZGVyLXByb3Bvc2VyLW1hdGVyaWFsLXByZXZpZXctd29yZC1pbWcvIi5jb25jYXQoaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kYXhpb3ModXJsKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5omT5Y2w5p2Q5paZCiAgICBwcmludE1hdGVyaWFsOiBmdW5jdGlvbiBwcmludE1hdGVyaWFsKHZhbCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgc3RhdHVzLCBfc3RhdHVzOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNS5nZXRGaWxlVHlwZSh2YWwub3JpZ2luRmlsZU5hbWUpICE9PSAnaW1hZ2UnICYmIF90aGlzNS5nZXRGaWxlVHlwZSh2YWwub3JpZ2luRmlsZU5hbWUpICE9PSAnd29yZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivpeaWh+S7tuaaguS4jeaUr+aMgeaJk+WNsCcsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM1LmdldEZpbGVUeXBlKHZhbC5vcmlnaW5GaWxlTmFtZSkgPT09ICdpbWFnZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBwcmludEluaXQoMSwgewogICAgICAgICAgICAgICAgICBpZDogdmFsLmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgc3RhdHVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWwuaWQpOwoKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoKTsKICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIHByaW50SW5pdCgzLCB7CiAgICAgICAgICAgICAgICAgIGlkOiB2YWwuaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3N0YXR1cyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHByaW50KCk7CiAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIDplK7kuIvovb0KICAgIGJhdGNoRG93bmxvYWQ6IGZ1bmN0aW9uIGJhdGNoRG93bmxvYWQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8gdmFyIGZpbGVOYW1lID0gYCR7dGhpcy5iYXN1ZURhdGEuYnVzaW5lc3NUeXBlRGVzY30ke3RoaXMuYmFzdWVEYXRhLm9yZGVyTnVtfSAke3RoaXMuZ2V0VGltZSgpfS56aXBgCiAgICAgIHZhciBmaWxlTmFtZSA9ICJcdThCQzFcdTYzNkVcdTY1ODdcdTRFRjYiLmNvbmNhdCh0aGlzLmJhc3VlRGF0YS5vcmRlck51bSwgIiAiKS5jb25jYXQodGhpcy5nZXRUaW1lKCksICIuemlwIik7CiAgICAgIGNvbnNvbGUubG9nKGZpbGVOYW1lKTsKICAgICAgdmFyIGlkcyA9ICcnOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMubWF0ZXJpYWxMaXN0RGF0YSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpbmRleCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmIChpbmRleC5vcmRlck5lZWRNYXRlcmlhbERUT1MgIT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpbmRleC5vcmRlck5lZWRNYXRlcmlhbERUT1MpLAogICAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIGkgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKGkub3JkZXJQcm9wb3Nlck1hdGVyaWFsRFRPUyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGkub3JkZXJQcm9wb3Nlck1hdGVyaWFsRFRPUyksCiAgICAgICAgICAgICAgICAgICAgICBfc3RlcDM7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIGlkcyArPSBtLmlkICsgJywnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOwogICAgICB0aGlzLiRheGlvcygnb3JnL2FjY2VwdGFuY2UtZG93bmxvYWQtbWF0ZXJpYWwnLCB7CiAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkLAogICAgICAgIGRvY3VtZW50SWQ6IGlkcywKICAgICAgICBkb3dubG9hZFR5cGU6IDIKICAgICAgfSwgewogICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICBjb25zb2xlLmxvZyhibG9iKTsKCiAgICAgICAgX3RoaXM2LnNhdmVBcyhibG9iLCBmaWxlTmFtZSk7CgogICAgICAgIF90aGlzNi5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFRpbWU6IGZ1bmN0aW9uIGdldFRpbWUoKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIHNlcGVyYXRvcjEgPSAnLic7IC8vIOW5tOaciOaXpeS5i+mXtOeahOWIhumalAoKICAgICAgdmFyIHNlcGVyYXRvcjIgPSAnOic7IC8vIOaXtuWIhuenkuS5i+mXtOeahOWIhumalAoKICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMSA8IDEwID8gJzAnICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpIDogZGF0ZS5nZXRNb250aCgpICsgMTsgLy8g6I635Y+W5pyILOWmguaenOWwj+S6jjEwLOWJjemdouihpeS4qjAKCiAgICAgIHZhciBzdHJEYXRlID0gZGF0ZS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0RGF0ZSgpIDogZGF0ZS5nZXREYXRlKCk7IC8vIOiOt+WPluaXpSzlpoLmnpzlsI/kuo4xMCzliY3pnaLooaXkuKowCgogICAgICB2YXIgc3RySG91cnMgPSBkYXRlLmdldEhvdXJzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0SG91cnMoKSA6IGRhdGUuZ2V0SG91cnMoKTsgLy8g6I635Y+W5bCP5pe2LOWmguaenOWwj+S6jjEwLOWJjemdouihpeS4qjAKCiAgICAgIHZhciBzdHJNaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0TWludXRlcygpIDogZGF0ZS5nZXRNaW51dGVzKCk7IC8vIOiOt+WPluWIhizlpoLmnpzlsI/kuo4xMCzliY3pnaLooaXkuKowCgogICAgICB2YXIgc3RyU2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldFNlY29uZHMoKSA6IGRhdGUuZ2V0U2Vjb25kcygpOyAvLyDojrflj5bnp5Is5aaC5p6c5bCP5LqOMTAs5YmN6Z2i6KGl5LiqMAoKICAgICAgdmFyIGN1cnJlbnRkYXRlID0gZGF0ZS5nZXRGdWxsWWVhcigpICsgc2VwZXJhdG9yMSArIG1vbnRoICsgc2VwZXJhdG9yMSArIHN0ckRhdGUgKyAnICcgKyBzdHJIb3VycyArIHNlcGVyYXRvcjIgKyBzdHJNaW51dGVzICsgc2VwZXJhdG9yMiArIHN0clNlY29uZHM7IC8vIOaLvOaOpeS4gOS4iwoKICAgICAgcmV0dXJuIGN1cnJlbnRkYXRlOyAvLyDov5Tlm54KICAgIH0KICB9Cn07"},null]}