{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/views/business/entryDetailsOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/views/business/entryDetailsOrder.vue","mtime":1634724784704},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENsaXBib2FyZCBmcm9tICdjbGlwYm9hcmQnOwppbXBvcnQgeyBnZXRFbnRyeURhdGVpbCwgZ2V0QWxsQWRkcmVzcywgZ2V0QWNjb3VudEluZm8sIGdldE1hdGVyaWFsRGVwb3QsIG1vZGlmaWNhdGlvbk9yZGVySW5mbywgZGV0ZXJtaW5lV2hldGhlciwgYWRkRGV0ZXJtaW5lLCBhZGROZWVkRGV0ZXJtaW5lLCBnZXRSZWNlaXZlckluZm8sIFNpZ25lZENvZGVDb3B5LCBzZW5kVGV4dE1lc3NhZ2UsIG1vZGlmaWNhdGlvblJlY2VpdmVJbmZvLCBnZXRQcm9wb3NlSW5mbywgc2VuZFNtc1RvVGhlUGFydGllcywgZ2V0RW50ZXJwcmlzZVByaXZ5SW5mbywgZ2V0UmVjaXBpZW50c0luZm8sIHNlbmROb3RhcnlQYXBlciB9IGZyb20gJy4uLy4uL2FwaS9jbG91ZE1haWwnOwppbXBvcnQgeyBhcHBvaW50bWVudFRpbWUgfSBmcm9tICcuLi8uLi9hcGkvbWFpbE1hbmFnZSc7CmltcG9ydCB7IGdldFJlcGxhY2VKc29uLCByZXBsYWNlVmFyaWFibGUsIHNhdmVEZWZlbnNlUGFya2luZ0hvbGRlckluZm8gfSBmcm9tICIuLi8uLi9hcGkvcGFya2luZ1NwYWNlIjsKaW1wb3J0ICogYXMgbmV3SG91c2UgZnJvbSAnLi4vLi4vYXBpL25ld2hvdXNlJzsKaW1wb3J0IGFwcGxpY2F0aW9uSW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL2FwcGxpY2F0aW9uSW5mbyc7CmltcG9ydCBkb2N1bWVudE1hdGVyaWFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvZG9jdW1lbnRNYXRlcmlhbCc7CmltcG9ydCBsb2dpc3RpY3NJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvbG9naXN0aWNzSW5mbyc7CmltcG9ydCBkZXBvc2l0Q2VydGlmaWNhdGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lbnRyeVRhYi9kZXBvc2l0Q2VydGlmaWNhdGUnOwppbXBvcnQgcmVjZWl2ZXJJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZW50cnlUYWIvcmVjZWl2ZXJJbmZvJzsKaW1wb3J0IGV2aWRlbmNlTWF0ZXJpYWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lbnRyeVRhYi9ldmlkZW5jZU1hdGVyaWFsJzsKaW1wb3J0IHdpbGxQYXlDZXJ0aWZpY2F0ZUluZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lbnRyeVRhYi93aWxsUGF5Q2VydGlmaWNhdGVJbmZvJzsKaW1wb3J0IHByb3BlcnR5SW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL3Byb3BlcnR5SW5mbyc7CmltcG9ydCBxdWFsaWZpY2F0aW9uSW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VudHJ5VGFiL3F1YWxpZmljYXRpb25JbmZvJzsKaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IHsgZmlsdGVyQ2FyZFR5cGUgfSBmcm9tICdAL2ZpbHRlcnMvaW5kZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgYXBwbGljYXRpb25JbmZvOiBhcHBsaWNhdGlvbkluZm8sCiAgICBkb2N1bWVudE1hdGVyaWFsOiBkb2N1bWVudE1hdGVyaWFsLAogICAgbG9naXN0aWNzSW5mbzogbG9naXN0aWNzSW5mbywKICAgIGRlcG9zaXRDZXJ0aWZpY2F0ZTogZGVwb3NpdENlcnRpZmljYXRlLAogICAgcmVjZWl2ZXJJbmZvOiByZWNlaXZlckluZm8sCiAgICBldmlkZW5jZU1hdGVyaWFsOiBldmlkZW5jZU1hdGVyaWFsLAogICAgd2lsbFBheUNlcnRpZmljYXRlSW5mbzogd2lsbFBheUNlcnRpZmljYXRlSW5mbywKICAgIHByb3BlcnR5SW5mbzogcHJvcGVydHlJbmZvLAogICAgcXVhbGlmaWNhdGlvbkluZm86IHF1YWxpZmljYXRpb25JbmZvCiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJDYXJkVHlwZTogZmlsdGVyQ2FyZFR5cGUsCiAgICAvLyBjZXJ0aWZpY2F0ZVR5cGUodmFsKSB7CiAgICAvLyAgIHZhciBzdHIgPSAnJwogICAgLy8gICBzd2l0Y2ggKHRydWUpIHsKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTE6c3RyID0gJ+Wxheawkei6q+S7veivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTI6c3RyID0gJ+S4tOaXtuWxheawkei6q+S7veivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTM6c3RyID0gJ+aIt+WPo+ewvycKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTQ6c3RyID0gJ+S4reWbveS6uuawkeino+aUvuWGm+WGm+WumOivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTY6c3RyID0gJ+mmmea4r+Wxheawkei6q+S7veivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTc6c3RyID0gJ+a+s+mXqOWxheawkei6q+S7veivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTg6c3RyID0gJ+a4r+a+s+WxheawkeadpeW+gOWGheWcsOmAmuihjOivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMTk6c3RyID0gJ+WPsOa5vuWxheawkeadpeW+gOWGheWcsOmAmuihjOivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjE6c3RyID0gJ+iQpeS4muaJp+eFp+azqOWGjOWPtycKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjI6c3RyID0gJ+acuuaehOe7hOe7h+S7o+eggScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjM6c3RyID0gJ+Wjq+WFteivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjQ6c3RyID0gJ+WPsOa5vuWxheawkei6q+S7veivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjY6c3RyID0gJ+e7n+S4gOekvuS8muS/oeeUqOS7o+eggScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjU6c3RyID0gJ+W+i+W4iOivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjc6c3RyID0gJ+S8geS4muazqOWGjOe8lueggScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMjg6c3RyID0gJ+mpvumptuivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzA6c3RyID0gJ+a4r+a+s+WxheawkeWxheS9j+ivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzE6c3RyID0gJ+WPsOa5vuWxheawkeWxheS9j+ivgScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzM6c3RyID0gJ+WkluWbveaKpOeFpycKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgICBjYXNlIHBhcmVudCh2YWwpID09PSAxMzI6c3RyID0gJ+aZrumAmuaKpOeFp++8iOS4reWbve+8iScKICAgIC8vICAgICAgIHJldHVybiBzdHIKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gc3RyCiAgICAvLyB9LAogICAgdXNlclR5cGU6IGZ1bmN0aW9uIHVzZXJUeXBlKHZhbCkgewogICAgICB2YXIgc3RyID0gJyc7CgogICAgICBpZiAocGFyc2VJbnQodmFsKSA9PT0gMSkgewogICAgICAgIHN0ciA9ICfkuKrkurrnlKjmiLcnOwogICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KHZhbCkgPT09IDIpIHsKICAgICAgICBzdHIgPSAn5LyB5Lia55So5oi3JzsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvcmRlclN0YXRlOiBmdW5jdGlvbiBvcmRlclN0YXRlKHZhbCkgewogICAgICB2YXIgc3RyID0gJyc7CgogICAgICBzd2l0Y2ggKHRydWUpIHsKICAgICAgICBjYXNlIHZhbCA9PT0gMToKICAgICAgICAgIHN0ciA9ICflvoXmj5DkuqQnOwogICAgICAgICAgcmV0dXJuIHN0cjsKCiAgICAgICAgY2FzZSB2YWwgPT09IDEwNDoKICAgICAgICAgIHN0ciA9ICflvoXmi5/lkIjlkIwnOwogICAgICAgICAgcmV0dXJuIHN0cjsKCiAgICAgICAgY2FzZSB2YWwgPT09IDEwNToKICAgICAgICAgIHN0ciA9ICflvoXlvZXliLYnOwogICAgICAgICAgcmV0dXJuIHN0cjsKCiAgICAgICAgY2FzZSB2YWwgPT09IDI6CiAgICAgICAgICBzdHIgPSAn5Y+X55CG5LitJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAyMDE6CiAgICAgICAgICBzdHIgPSAn5b6F5a6h5qC4JzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAyMDI6CiAgICAgICAgICBzdHIgPSAn6ZyA6KGl5p2Q5paZJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDE6CiAgICAgICAgICBzdHIgPSAn5Yi26K+B5LitJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDI6CiAgICAgICAgICBzdHIgPSAn5b6F6YKu5a+EJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDM6CiAgICAgICAgICBzdHIgPSAn5b6F6aKE57qmJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDQ6CiAgICAgICAgICBzdHIgPSAn5bey6YKu5a+EJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDU6CiAgICAgICAgICBzdHIgPSAn5bey6aKE57qmJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAzMDY6CiAgICAgICAgICBzdHIgPSAn5bey5a6M5oiQJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSA0MDE6CiAgICAgICAgICBzdHIgPSAn5ouS57ud5Y+X55CGJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAxMDM6CiAgICAgICAgICBzdHIgPSAn5b6F6KeG6aKRJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSA0MDI6CiAgICAgICAgICBzdHIgPSAn5bey57uI5q2iJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAxMDI6CiAgICAgICAgICBzdHIgPSAn5b6F562+572yJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSA0MDM6CiAgICAgICAgICBzdHIgPSAn5bey5pKk6ZSAJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSA0MDQ6CiAgICAgICAgICBzdHIgPSAn5bey5Yig6ZmkJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGNhc2UgdmFsID09PSAxMDE6CiAgICAgICAgICBzdHIgPSAn5b6F5pSv5LuYJzsKICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdmFsOwogICAgICB9CiAgICB9LAogICAgdGV4dENvbXB1dGVkOiBmdW5jdGlvbiB0ZXh0Q29tcHV0ZWQodmFsKSB7CiAgICAgIHZhciB0ZXh0ID0gewogICAgICAgIDQ6ICLnrb7nvbLnoIEiLAogICAgICAgIGRlZmF1bHQ6ICLnrb7nvbIv6KeG6aKR56CBIgogICAgICB9OwogICAgICBpZiAodGV4dFt2YWxdKSByZXR1cm4gdGV4dFt2YWxdOwogICAgICByZXR1cm4gdGV4dC5kZWZhdWx0OwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbmRTbXM6IGZhbHNlLAogICAgICBwaWNrZXJPcHRpb25zMDogewogICAgICAgIGRpc2FibGVkRGF0ZTogZnVuY3Rpb24gZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgIHJldHVybiB0aW1lLmdldFRpbWUoKSA8IERhdGUubm93KCkgLSA4LjY0ZTc7IC8vIOWmguaenOayoeacieWQjumdoueahC04LjY0ZTflsLHmmK/kuI3lj6/ku6XpgInmi6nku4rlpKnnmoQKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGp1cmlzZGljdGlvbjogZmFsc2UsCiAgICAgIHBlcnNvbm5lbFFSQ29kZUxpc3Q6IGZhbHNlLAogICAgICBzdWJtaXRTdGF0dTogZmFsc2UsCiAgICAgIHRhYmxlc3RhOiBmYWxzZSwKICAgICAgb3JkZXJJZDogJycsCiAgICAgIG1haW5TdGF0dTogdHJ1ZSwKICAgICAgYmFzaWNEYXRhOiB7fSwKICAgICAgLy8gdm9sdW1lRGF0YTogewogICAgICAvLyAgIHZvbHVtZU51bTogJycsCiAgICAgIC8vICAgbmFtZTogJycsCiAgICAgIC8vICAgYXNzaXN0YW50OiAnJwogICAgICAvLyB9LAogICAgICB2b2x1bWVSdWxlczogewogICAgICAgIGRvc3NpZXJOdW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTljbflrpflj7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbm90YXJ5UGVyc29uSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflhYHorrjovpPlhaXmsYnlrZfjgIHmlbDlrZfjgIHlrZfmr43miJbvvIjvvIktJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGFzc2lzdGFudE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflhYHorrjovpPlhaXmsYnlrZfjgIHmlbDlrZfjgIHlrZfmr43miJbvvIjvvIktJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG5vdGFyeU51bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WFgeiuuOi+k+WFpeaxieWtl+OAgeaVsOWtl+OAgeWtl+avjeaIlu+8iO+8iS0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgdm9sdW1lTnVtU3RhdHU6IHRydWUsCiAgICAgIGFjY291bnREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgYWNjb3VudERhdGE6IHt9LAogICAgICByZWZ1c2VkQWNjZXB0RGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICByZWZ1c2VkQWNjZXB0Rm9ybTogewogICAgICAgIHJlYXNvbjogJycKICAgICAgfSwKICAgICAgcmVmdXNlZEFjY2VwdFJ1bGVzOiB7CiAgICAgICAgcmVhc29uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ouS57ud55CG55SxJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMTIwLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpSA1IOWIsCAxMjAg5Liq5a2XJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG1hdGVyaWFsc0RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICBzZWFyY2hNYXRlcmlhbDogJycsCiAgICAgIGNoZWNrTGlzdDogW10sCiAgICAgIGFkZE1hdGVyaWFsOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9LAogICAgICBhZGRNYXRlcmlhbERhdGE6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmV3TmFtZTogJ+aWsOadkOaWmeWQjeensCcsCiAgICAgICAgbmV3UmVtYXJrOiAn5p2Q5paZ5aSH5rOoJywKICAgICAgICBidG46ICfmt7vliqAnLAogICAgICAgIG1vZGVsOiB7CiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHJlbWFyazogJycKICAgICAgICB9CiAgICAgIH1dLAogICAgICB0YWJBY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICBtYXRlcmlhbERhdGE6IFtdLAogICAgICB0ZXJtaW5hdGlvbkRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB0ZXJtaW5hdGlvbkRhdGE6IHsKICAgICAgICB0ZXJtaW5hdGlvbkNhdXNlOiAnJwogICAgICB9LAogICAgICB0ZXJtaW5hdGlvblJ1bGVzOiB7CiAgICAgICAgdGVybWluYXRpb25DYXVzZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpee7iOatouWOn+WboCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDUsCiAgICAgICAgICBtYXg6IDEyMCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMyDliLAgMTIwIOS4quWtlycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBhcHBvaW50bWVudERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZXREYXRhOiB7CiAgICAgICAgdGltZTogJycsCiAgICAgICAgc2l0ZTogJycsCiAgICAgICAgbnVtOiAnJwogICAgICB9LAogICAgICBvcHRpb25zOiBbXSwKICAgICAgc2V0UnVsc2U6IHsKICAgICAgICB0aW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6aKG6K+B5pel5pyfJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgc2l0ZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemihuivgeWcsOeCuScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIG51bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmemihuivgeWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBjb2RlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvZGVVcmw6ICcnLAogICAgICBwcml2eURhdGE6IHt9LAogICAgICBzZXRVcEFDb250cmFjdG9yRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGxpc3RPZk9yZ2FuaXplcnM6IFtdLAogICAgICBvcmdhbml6ZXI6ICcnLAogICAgICByb3V0aW5lRGF0YTogewogICAgICAgIGRvc3NpZXJOdW06ICcnLAogICAgICAgIG5vdGFyeU51bTogJycsCiAgICAgICAgbm90YXJ5UGVyc29uTmFtZTogJycsCiAgICAgICAgYXNzaXN0YW50TmFtZTogJycsCiAgICAgICAgbm90YXJ5UGVyc29uSWQ6ICcnCiAgICAgIH0sCiAgICAgIG9yZGVyT3BlcmF0aW9uOiBmYWxzZSwKICAgICAgY29udHJhY3RTdGF0dXM6ICIiLAogICAgICBleHByZXNzSWQ6ICcnLAogICAgICBzaWduU3RhdHVzRmluaXNoOiBmYWxzZSAvLyDlj6/lh7rlhbfor4HkuabnirbmgIEKCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRleHQ6IGZ1bmN0aW9uIHRleHQoKSB7CiAgICAgIHZhciBzdHIgPSAnJzsKCiAgICAgIGlmICh0aGlzLnZvbHVtZU51bVN0YXR1KSB7CiAgICAgICAgc3RyID0gJ+e8lui+kSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RyID0gJ+S/neWtmCc7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdHI7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g6Lev55Sx55uR5ZCs77ya55uR5ZCs6Lev55Sx55qE5Y+Y5YyW77yM5LuO6ICM5YGa5Ye655u45bqU5pON5L2cCiAgICAkcm91dGU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAvLyDkuIDml6bnm5HlkKzliLDot6/nlLHnmoTlj5jljJbnq4vljbPmiafooYwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih0bywgZnJvbSkgewogICAgICAgIC8vIOWbnuiwg+WHveaVsO+8jOS4pOS4quWPguaVsO+8jHRv77ya5b2T5YmN55qE57uE5Lu277yMZnJvbe+8muS4iuS4gOS4que7hOS7tgogICAgICAgIGlmICh0by5uYW1lICE9PSAnZW50cnlEZXRhaWxzT3JkZXInKSB7CiAgICAgICAgICB0aGlzLm1haW5TdGF0dSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICckc3RvcmUuc3RhdGUuYXBwLm1hc2snOiBmdW5jdGlvbiAkc3RvcmVTdGF0ZUFwcE1hc2sobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgIHRoaXMuc2VuZFNtcyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkub3JkZXJJZCkgewogICAgICB0aGlzLm9yZGVySWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlcklkOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5vcmRlcklkID0gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLm9yZGVySWQ7CiAgICAgIHZhciB1cmwgPSAiLyMiLmNvbmNhdCh0aGlzLiRyb3V0ZS5wYXRoLCAiP29yZGVySWQ9IikuY29uY2F0KHRoaXMub3JkZXJJZCk7CiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIHVybCk7CiAgICB9CgogICAgdmFyIGRhdGEgPSB7CiAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgfTsgLy8gZ2V0SnVyaXNkaWN0aW9uKHsgb3JkZXJJZDogdGhpcy5vcmRlcklkIH0pLnRoZW4oKHJlcykgPT4gewogICAgLy8gaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAvLyB0aGlzLmp1cmlzZGljdGlvbiA9ICFyZXMuZGF0YQoKICAgIHRoaXMuZ2V0RGF0YShkYXRhKTsgLy8gfQogICAgLy8gfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWPr+WHuuWFt+ivgeS5pueKtuaAgQogICAgaGFuZGxlU2lnblN0YXR1c0ZpbmlzaDogZnVuY3Rpb24gaGFuZGxlU2lnblN0YXR1c0ZpbmlzaCh2YWwpIHsKICAgICAgdGhpcy5zaWduU3RhdHVzRmluaXNoID0gdmFsOwogICAgfSwKICAgIHNldFVwQUNvbnRyYWN0b3I6IGZ1bmN0aW9uIHNldFVwQUNvbnRyYWN0b3IoKSB7CiAgICAgIC8vIG5ld0hvdXNlLmdldEFMaXN0T2ZPcmdhbml6ZXJzKCkudGhlbihyZXMgPT4gewogICAgICAvLyAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAvLyAgICAgdGhpcy5saXN0T2ZPcmdhbml6ZXJzID0gcmVzLmRhdGEKICAgICAgdGhpcy5vcmdhbml6ZXIgPSAnJzsgLy8gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCA6IHRoaXMuYmFzaWNEYXRhLmFjY2VwdFN5c1VzZXJJZCA9PT0gbnVsbCA/ICcnIDogdGhpcy5iYXNpY0RhdGEuYWNjZXB0U3lzVXNlcklkCgogICAgICB0aGlzLnNldFVwQUNvbnRyYWN0b3JEaWFsb2dWaXNpYmxlID0gdHJ1ZTsgLy8gbmV3SG91c2Uuc2V0VGhlT3JkZXJIYW5kbGVyKHtvcmRlcklkOnRoaXMub3JkZXJJZCxvcmdVc2VySWQ6dGhpcy5vcmdhbml6ZXJ9KS50aGVuKHJlcz0+ewogICAgICAvLyB9KQogICAgICAvLyB9CiAgICAgIC8vIH0pCiAgICB9LAogICAgZGV0ZXJtaW5lVGhlU2V0dGluZ3M6IGZ1bmN0aW9uIGRldGVybWluZVRoZVNldHRpbmdzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgbmV3SG91c2Uuc2V0VGhlT3JkZXJIYW5kbGVyKHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgb3JnVXNlcklkOiB0aGlzLm9yZ2FuaXplcgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBuZXdIb3VzZS5nZXRBTGlzdE9mT3JnYW5pemVycygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMyLmxpc3RPZk9yZ2FuaXplcnMgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBnZXRFbnRyeURhdGVpbCh7CiAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIGNvbnRyYWN0U3RhdHVzLCBzdGEsIGluZGV4OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmJhc2ljRGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEucHJvZENvZGUgPT09ICd5c2YnKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdIb3VzZS5jb250cmFjdFN0YXR1cyhfdGhpczIub3JkZXJJZCk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBjb250cmFjdFN0YXR1cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb250cmFjdFN0YXR1cyA9IGNvbnRyYWN0U3RhdHVzLnN1Y2Nlc3MgPyBjb250cmFjdFN0YXR1cy5kYXRhIDogIiI7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3SG91c2UuZ2V0T3JkZXJPcGVyYXRpb25QZXJtaXNzaW9ucyh7CiAgICAgICAgICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMyLm9yZGVySWQKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBzdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKHN0YS5jb2RlID09PSAyMDAwNikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5qdXJpc2RpY3Rpb24gPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3Ioc3RhLm1zZyk7IC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICAgICAgICAgICAgICAgIC8vIH0sIDIwMDApCgogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcmRlck9wZXJhdGlvbiA9IHN0YS5jb2RlID09PSAyOwogICAgICAgICAgICAgICAgICAgIG5ld0hvdXNlLmdldFZvbHVtZUluZm9ybWF0aW9uKHsKICAgICAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IF90aGlzMi5vcmRlcklkCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucm91dGluZURhdGEuZG9zc2llck51bSA9IHZhbC5kYXRhLmRvc3NpZXJOdW07CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucm91dGluZURhdGEubm90YXJ5TnVtID0gdmFsLmRhdGEubm90YXJ5TnVtOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbk5hbWUgPSB2YWwuZGF0YS5kb3NzaWVyTnVtOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJvdXRpbmVEYXRhLmFzc2lzdGFudE5hbWUgPSB2YWwuZGF0YS5hc3Npc3RhbnRVc2VyTmFtZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCA9IHZhbC5kYXRhLm5vdGFyeVVzZXJJZDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucHJvZENvZGUgPT09ICdyZmN3JykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcmRlck9wZXJhdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgbmV3SG91c2UuZ2V0Vm9sdW1lSW5mb3JtYXRpb24oewogICAgICAgICAgICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMyLm9yZGVySWQKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yb3V0aW5lRGF0YS5kb3NzaWVyTnVtID0gdmFsLmRhdGEuZG9zc2llck51bTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yb3V0aW5lRGF0YS5ub3RhcnlOdW0gPSB2YWwuZGF0YS5ub3RhcnlOdW07CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSA9IHZhbC5kYXRhLmRvc3NpZXJOdW07CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucm91dGluZURhdGEuYXNzaXN0YW50TmFtZSA9IHZhbC5kYXRhLmFzc2lzdGFudFVzZXJOYW1lOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkID0gdmFsLmRhdGEubm90YXJ5VXNlcklkOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yb3V0aW5lRGF0YS5kb3NzaWVyTnVtID0gcmVzLmRhdGEuZG9zc2llck51bTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIucm91dGluZURhdGEubm90YXJ5TnVtID0gcmVzLmRhdGEubm90YXJ5TnVtOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yb3V0aW5lRGF0YS5hc3Npc3RhbnROYW1lID0gcmVzLmRhdGEuYXNzaXN0YW50TmFtZTsKCiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgX3RoaXMyLmxpc3RPZk9yZ2FuaXplcnMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmJhc2ljRGF0YS5ub3RhcnlQZXJzb25OYW1lID09PSBfdGhpczIubGlzdE9mT3JnYW5pemVyc1tpbmRleF0ucmVhbE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkID0gX3RoaXMyLmxpc3RPZk9yZ2FuaXplcnNbaW5kZXhdLmlkOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMudm9sdW1lRGF0YS52b2x1bWVOdW0gPSByZXMuZGF0YS5kb3NzaWVyTnVtCiAgICAgICAgICAgICAgICAgIC8vIHRoaXMudm9sdW1lRGF0YS5uYW1lID0gcmVzLmRhdGEubm90YXJ5UGVyc29uTmFtZQogICAgICAgICAgICAgICAgICAvLyB0aGlzLnZvbHVtZURhdGEuYXNzaXN0YW50ID0gcmVzLmRhdGEuYXNzaXN0YW50TmFtZQogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgIT09IDUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGFiQWN0aXZlTmFtZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGFiQWN0aXZlTmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhYkFjdGl2ZU5hbWUgPSAnZmlyc3QnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSA9PT0gJ2ZvdXJ0aCcgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGFiQWN0aXZlTmFtZScpID09PSAnZmlmdGgnIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSA9PT0gJ3NpeHRoJykgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi50YWJBY3RpdmVOYW1lID0gJ2ZpcnN0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGFiQWN0aXZlTmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhYkFjdGl2ZU5hbWUgPSAnZmlyc3QnOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGFiQWN0aXZlTmFtZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0YWJBY3RpdmVOYW1lJykgPT09ICdzZWNvbmQnIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKSA9PT0gJ3RoaXJkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi50YWJBY3RpdmVOYW1lID0gJ2ZpcnN0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGFiQWN0aXZlTmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RhYkFjdGl2ZU5hbWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhYkFjdGl2ZU5hbWUgPSAnZmlyc3QnOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhYmxlc3RhID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRFeHByZXNzSWQoewogICAgICAgICAgICAgICAgICAgIG9yZGVyTnVtOiByZXMuZGF0YS5vcmRlck51bQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIGdldEV4cHJlc3NJZDogZnVuY3Rpb24gZ2V0RXhwcmVzc0lkKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBnZXRSZWNpcGllbnRzSW5mbyhkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgJiYgcmVzLmRhdGEpIHsKICAgICAgICAgIF90aGlzMy5leHByZXNzSWQgPSByZXMuZGF0YS5pZDsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDngrnlh7vlpI3liLborqLljZXnvJblj7cKICAgIGNvcHlOdW06IGZ1bmN0aW9uIGNvcHlOdW0oKSB7CiAgICAgIHRoaXMuY29weSgnLmNvcHktb3JkZXItbnVtJyk7CiAgICB9LAogICAgLy8g54K55Ye75aSN5Yi25pSv5LuY57yW5Y+3CiAgICBjb3B5UGF5TnVtOiBmdW5jdGlvbiBjb3B5UGF5TnVtKCkgewogICAgICB0aGlzLmNvcHkoJy5jb3B5LXBheS1udW0nKTsKICAgIH0sCiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KHZhbCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCh2YWwpOyAvLyDov5nph4zmi6zlj7fph4zloavlhpnkuIrpnaLngrnlh7vkuovku7bnu5HlrprnmoRjbGFzc+WQjQoKICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAvLyDlpI3liLbmiJDlip/vvIzmj5DnpLrmoLnmja7oh6rlt7Hpobnnm67lrp7pmYXkvb/nlKjnmoRVSeadpeWGmQogICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5aSN5Yi25oiQ5YqfJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7IC8vIOmHiuaUvuWGheWtmAoKCiAgICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgfSk7CiAgICAgIGNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIOS4jeaUr+aMgeWkjeWItu+8jOaPkOekuuagueaNruiHquW3semhueebruWunumZheS9v+eUqOeahFVJ5p2l5YaZCiAgICAgICAgLy8g6YeK5pS+5YaF5a2YCiAgICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS55Y235a6X5Y+3CiAgICBzYXZlVm9sdW1lTnVtOiBmdW5jdGlvbiBzYXZlVm9sdW1lTnVtKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaW5kZXgsIGZ1RGF0YSwgdXJsLCBzdGEsIHJldDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUudm9sdW1lTnVtU3RhdHUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCkgewogICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBfdGhpczUubGlzdE9mT3JnYW5pemVycy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnJvdXRpbmVEYXRhLm5vdGFyeVBlcnNvbklkID09PSBfdGhpczUubGlzdE9mT3JnYW5pemVyc1tpbmRleF0uaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25OYW1lID0gX3RoaXM1Lmxpc3RPZk9yZ2FuaXplcnNbaW5kZXhdLnJlYWxOYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAvLyBjb25zdCBmdURhdGEgPSB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicgfHwgdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICdyZmN3JyA/IHsgb3JkZXJJZDogdGhpcy5vcmRlcklkLCBkb3NzaWVyTnVtOiB0aGlzLnJvdXRpbmVEYXRhLmRvc3NpZXJOdW0sIG5vdGFyeU51bTogdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlOdW0sIG5vdGFyeVVzZXJJZDogdGhpcy5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25JZCwgbm90YXJ5VXNlck5hbWU6IHRoaXMucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSwgYXNzaXN0YW50VXNlck5hbWU6IHRoaXMucm91dGluZURhdGEuYXNzaXN0YW50TmFtZSB9IDogdGhpcy5iYXNpY0RhdGEKCgogICAgICAgICAgICAgICAgZnVEYXRhID0gewogICAgICAgICAgICAgICAgICBvcmRlcklkOiBfdGhpczUub3JkZXJJZCwKICAgICAgICAgICAgICAgICAgZG9zc2llck51bTogX3RoaXM1LnJvdXRpbmVEYXRhLmRvc3NpZXJOdW0sCiAgICAgICAgICAgICAgICAgIG5vdGFyeU51bTogX3RoaXM1LnJvdXRpbmVEYXRhLm5vdGFyeU51bSwKICAgICAgICAgICAgICAgICAgbm90YXJ5VXNlcklkOiBfdGhpczUucm91dGluZURhdGEubm90YXJ5UGVyc29uSWQsCiAgICAgICAgICAgICAgICAgIG5vdGFyeVVzZXJOYW1lOiBfdGhpczUucm91dGluZURhdGEubm90YXJ5UGVyc29uTmFtZSwKICAgICAgICAgICAgICAgICAgYXNzaXN0YW50VXNlck5hbWU6IF90aGlzNS5yb3V0aW5lRGF0YS5hc3Npc3RhbnROYW1lCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuYmFzaWNEYXRhLnByb2RDb2RlICE9PSAneXNmJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuYmFzaWNEYXRhLmRvc3NpZXJOdW0gPSBfdGhpczUucm91dGluZURhdGEuZG9zc2llck51bTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmJhc2ljRGF0YS5hY2NlcHRTeXNVc2VySWQgPSBfdGhpczUucm91dGluZURhdGEubm90YXJ5UGVyc29uSWQ7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5iYXNpY0RhdGEubm90YXJ5UGVyc29uTmFtZSA9IF90aGlzNS5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25OYW1lOwogICAgICAgICAgICAgICAgICBfdGhpczUuYmFzaWNEYXRhLmFzc2lzdGFudE5hbWUgPSBfdGhpczUucm91dGluZURhdGEuYXNzaXN0YW50TmFtZTsKICAgICAgICAgICAgICAgIH0gLy8gY29uc3QgdXJsID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnIHx8IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAncmZjdyc/IGBvcmcvdXBkYXRlLW9yZGVyLWRvc3NpZXJgIDogYG9yZy91cGRhdGUtb3JkZXItaW5mb2AKCgogICAgICAgICAgICAgICAgdXJsID0gIm9yZy91cGRhdGUtb3JkZXItZG9zc2llciI7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM1LmJhc2ljRGF0YS5wcm9kQ29kZSAhPT0gJ3lzZicgJiYgX3RoaXM1LmJhc2ljRGF0YS5wcm9kQ29kZSAhPT0gJ3JmY3cnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnZlcmlmeVRoZVZvbHVtZUZvcm0oKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgc3RhID0gX2NvbnRleHQyLnQwOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhKTsKCiAgICAgICAgICAgICAgICBpZiAoc3RhKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5a6M5pW05Y235a6X5L+h5oGvJyk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRheGlvcyh1cmwsIGZ1RGF0YSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICByZXQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAvLyAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJldC5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS52b2x1bWVOdW1TdGF0dSA9ICFfdGhpczUudm9sdW1lTnVtU3RhdHU7IC8vIGlmICh0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgPT09IDExKSB7CS8vIOS6uumYsui9puS9jQogICAgICAgICAgICAgICAgICAvLyAJCXRoaXMucGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKQogICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyAJdGhpcy4kZnVuLnJlcGxhY2VJbnN0cnVtZW50KHRoaXMub3JkZXJJZCkKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgfSAvLyB9KQoKCiAgICAgICAgICAgICAgICBfdGhpczUucm91dGluZURhdGEubm90YXJ5TnVtID0gX3RoaXM1LmJhc2ljRGF0YS5hc3Npc3RhbnRVc2VyTmFtZTsKICAgICAgICAgICAgICAgIF90aGlzNS5yb3V0aW5lRGF0YS5ub3RhcnlQZXJzb25OYW1lID0gX3RoaXM1LmJhc2ljRGF0YS5kb3NzaWVyTnVtOwogICAgICAgICAgICAgICAgX3RoaXM1LnJvdXRpbmVEYXRhLmFzc2lzdGFudE5hbWUgPSBfdGhpczUuYmFzaWNEYXRhLmFzc2lzdGFudE5hbWU7CiAgICAgICAgICAgICAgICBfdGhpczUucm91dGluZURhdGEubm90YXJ5UGVyc29uSWQgPSBfdGhpczUuYmFzaWNEYXRhLm5vdGFyeVVzZXJJZDsKICAgICAgICAgICAgICAgIG1vZGlmaWNhdGlvbk9yZGVySW5mbyhfdGhpczUuYmFzaWNEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnZvbHVtZU51bVN0YXR1ID0gIV90aGlzNS52b2x1bWVOdW1TdGF0dTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNS5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlID09PSAxMSkgewogICAgICAgICAgICAgICAgICAgICAgLy8g5Lq66Ziy6L2m5L2NCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUucGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGUoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRmdW4ucmVwbGFjZUluc3RydW1lbnQoX3RoaXM1Lm9yZGVySWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfdGhpczUudm9sdW1lTnVtU3RhdHUgPSAhX3RoaXM1LnZvbHVtZU51bVN0YXR1OwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcGFwYXJraW5nU3BhY2VSZXBsYWNlVmFyaWFibGU6IGZ1bmN0aW9uIHBhcGFya2luZ1NwYWNlUmVwbGFjZVZhcmlhYmxlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzLCB2YXJpYWJsZSwgcmVzdWx0OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFJlcGxhY2VKc29uKF90aGlzNi5vcmRlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyaWFibGUgPSB7CiAgICAgICAgICAgICAgICAgIG9yZ0lkOiBfdGhpczYuYmFzaWNEYXRhLm9yZ0lkLAogICAgICAgICAgICAgICAgICBwcm9Db2RlOiAicmZjdyIsCiAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IF90aGlzNi5vcmRlcklkLAogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVR5cGU6IDAsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICIiLAogICAgICAgICAgICAgICAgICBqc29uOiBKU09OLnN0cmluZ2lmeShyZXMpLAogICAgICAgICAgICAgICAgICBpZERlbGV0ZTogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhcmlhYmxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlVmFyaWFibGUodmFyaWFibGUpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmm7/mjaLnu5PmnpwnLCByZXN1bHQpOwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5nbygwKTsKICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmVyaWZ5VGhlVm9sdW1lRm9ybTogZnVuY3Rpb24gdmVyaWZ5VGhlVm9sdW1lRm9ybSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzNy4kcmVmc1sndm9sdW1lRm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5p+l55yL6LSm5Y+35L+h5oGvCiAgICBjaGVja0FjY291bnRJbmZvOiBmdW5jdGlvbiBjaGVja0FjY291bnRJbmZvKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGdldEFjY291bnRJbmZvKHsKICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYmFzaWNEYXRhLnVzZXJBY2NvdW50SW5mb0lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC5hY2NvdW50RGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAocmVzLmRhdGEudXNlclR5cGUgIT09IDEpIHsKICAgICAgICAgIC8vIGdldEVudGVycHJpc2VQcml2eUluZm8oeyBhY2NvdW50SWQ6IHJlcy5kYXRhLmlkIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBfdGhpczgucHJpdnlEYXRhID0gcmVzLmRhdGEudXNlckluZm9EVE87CiAgICAgICAgICBfdGhpczgucHJpdnlEYXRhLm1vYmlsZSA9IHJlcy5kYXRhLm1vYmlsZTsKICAgICAgICAgIF90aGlzOC5hY2NvdW50RGlhbG9nVmlzaWJsZSA9IHRydWU7IC8vIH0pCiAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgLy8gfQogICAgICAgIH0KCiAgICAgICAgX3RoaXM4LmFjY291bnREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5ouS57ud5Y+X55CGCiAgICByZWZ1c2VkQWNjZXB0OiBmdW5jdGlvbiByZWZ1c2VkQWNjZXB0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMucmVmdXNlZEFjY2VwdERpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zdWJtaXRTdGF0dSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM5LiRyZWZzWydyZWZ1c2VkQWNjZXB0J10ucmVzZXRGaWVsZHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6KGl5YWF5p2Q5paZCiAgICByZWplY3RlZE1hdGVyaWFsOiBmdW5jdGlvbiByZWplY3RlZE1hdGVyaWFsKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdFN0YXR1ID0gZmFsc2U7CiAgICAgIGdldE1hdGVyaWFsRGVwb3QoewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICBtYXRlcmlhbE5hbWU6ICcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGlmIChyZXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzLmRhdGEubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgLy8gICAgIGlmIChyZXMuZGF0YVtpbmRleF0ub3JnTWF0ZXJpYWxEVE9TLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5kYXRhW2luZGV4XS5vcmdNYXRlcmlhbERUT1MubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAgICAgICAgIGlmIChyZXMuZGF0YVtpbmRleF0ub3JnTWF0ZXJpYWxEVE9TW2ldLmlzRmxhZyA9PT0gMSkgewogICAgICAgIC8vICAgICAgICAgICB0aGlzLmNoZWNrTGlzdC5wdXNoKHJlcy5kYXRhW2luZGV4XS5vcmdNYXRlcmlhbERUT1NbaV0uaWQpCiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgfQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQogICAgICAgIF90aGlzMTAubWF0ZXJpYWxEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMxMC5zZWFyY2hNYXRlcmlhbCA9ICcnOwogICAgICAgIF90aGlzMTAuY2hlY2tMaXN0ID0gW107CiAgICAgICAgX3RoaXMxMC5hZGRNYXRlcmlhbERhdGEgPSBbewogICAgICAgICAgaWQ6IDEsCiAgICAgICAgICBuZXdOYW1lOiAn5paw5p2Q5paZ5ZCN56ewJywKICAgICAgICAgIG5ld1JlbWFyazogJ+adkOaWmeWkh+azqCcsCiAgICAgICAgICBidG46ICfmt7vliqAnLAogICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIHJlbWFyazogJycKICAgICAgICAgIH0KICAgICAgICB9XTsKICAgICAgICBfdGhpczEwLm1hdGVyaWFsc0RpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBzdXBwbGVtZW50TWF0ZXJpYWw6IGZ1bmN0aW9uIHN1cHBsZW1lbnRNYXRlcmlhbCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYWN0aXZlTmFtZSA9PT0gJ2ZpcnN0JykgewogICAgICAgIGlmICh0aGlzLmNoZWNrTGlzdC5sZW5ndGggPCAxKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOmhuScsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnN1Ym1pdFN0YXR1KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnN1Ym1pdFN0YXR1ID0gdHJ1ZTsKICAgICAgICAgIHZhciBhcnIgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuY2hlY2tMaXN0Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1hdGVyaWFsRGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWF0ZXJpYWxEYXRhW2luZGV4XS5vcmdNYXRlcmlhbERUT1MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrTGlzdFtqXSA9PT0gdGhpcy5tYXRlcmlhbERhdGFbaW5kZXhdLm9yZ01hdGVyaWFsRFRPU1tpXS5pZCkgewogICAgICAgICAgICAgICAgICBhcnIucHVzaCh0aGlzLm1hdGVyaWFsRGF0YVtpbmRleF0ub3JnTWF0ZXJpYWxEVE9TW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBfaW5kZXggPSAwOyBfaW5kZXggPCBhcnIubGVuZ3RoOyBfaW5kZXgrKykgewogICAgICAgICAgICBhcnJbX2luZGV4XS5vcmRlcklkID0gdGhpcy5vcmRlcklkOwogICAgICAgICAgfQoKICAgICAgICAgIGFkZERldGVybWluZShhcnIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTEuYmFzaWNEYXRhKSk7CiAgICAgICAgICAgICAgdGRhdGEub3JkZXJTdGF0dXMgPSAyMDI7CiAgICAgICAgICAgICAgbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfdGhpczExLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBfaW5kZXgyID0gMDsgX2luZGV4MiA8IHRoaXMuYWRkTWF0ZXJpYWxEYXRhLmxlbmd0aDsgX2luZGV4MisrKSB7CiAgICAgICAgICBpZiAodGhpcy5hZGRNYXRlcmlhbERhdGFbX2luZGV4Ml0ubW9kZWwubmFtZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICAgICAgICBtYXRlcmlhbE5hbWU6IHRoaXMuYWRkTWF0ZXJpYWxEYXRhW19pbmRleDJdLm1vZGVsLm5hbWUsCiAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICBzdGF0dXM6IDAsCiAgICAgICAgICAgICAgY29udGVudDogdGhpcy5hZGRNYXRlcmlhbERhdGFbX2luZGV4Ml0ubW9kZWwucmVtYXJrCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGFyci5wdXNoKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpZiAodGhpcy5zdWJtaXRTdGF0dSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5zdWJtaXRTdGF0dSA9IHRydWU7CiAgICAgICAgICBhZGROZWVkRGV0ZXJtaW5lKGFycikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHZhciB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMxMS5iYXNpY0RhdGEpKTsKICAgICAgICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDIwMjsKICAgICAgICAgICAgICBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHJvdXRlci5nbygwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn6K+35re75Yqg5Li05pe25p2Q5paZJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBibGFua1Jlc2V0OiBmdW5jdGlvbiBibGFua1Jlc2V0KHZhbCkgewogICAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucmVqZWN0ZWRNYXRlcmlhbCgpOwogICAgICB9CiAgICB9LAogICAgLy8g6YCa6L+H5a6h5qC4CiAgICBvcGVyYXRlU3VjY2Vzc2Z1bGx5OiBmdW5jdGlvbiBvcGVyYXRlU3VjY2Vzc2Z1bGx5KCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CgogICAgICBpZiAodGhpcy5zdWJtaXRTdGF0dSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zdWJtaXRTdGF0dSA9IHRydWU7CiAgICAgIGRldGVybWluZVdoZXRoZXIoewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIC8vIGNvbnN0IHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmJhc2ljRGF0YSkpCiAgICAgICAgICAvLyB0ZGF0YS5vcmRlclN0YXR1cyA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXpkbCcgPyAxMDIgOiAxMDEKICAgICAgICAgIF90aGlzMTIuJG1zZ2JveCh7CiAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICBtZXNzYWdlOiBoKCdwJywgbnVsbCwgW2goJ3AnLCBudWxsLCAn56Gu6K6k5a6h5qC46YCa6L+H6K+l6K6i5Y2V77yfJyksIGgoJ3NwYW4nLCB7CiAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjogI0U2QTIzQycKICAgICAgICAgICAgfSwgJ+WuoeaguOmAmui/h+WQju+8jOaXoOazleWGjeasoeWuoeaguOOAgicpXSkKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTIuYmFzaWNEYXRhKSk7CgogICAgICAgICAgICBpZiAoX3RoaXMxMi5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5emRsJyB8fCBfdGhpczEyLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3JmY3cnKSB7CiAgICAgICAgICAgICAgdGRhdGEub3JkZXJTdGF0dXMgPSAxMDI7IC8vIDEwMiwgIuW+heetvue9siIKICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczEyLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicpIHsKICAgICAgICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDEwMzsgLy8gMTAzLCAi5b6F6KeG6aKRIgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMTAxOyAvLyAxMDEsICLlvoXmlK/ku5giCiAgICAgICAgICAgIH0gLy8gdGRhdGEub3JkZXJTdGF0dXMgPSB0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3l6ZGwnID8gMTAyIDogKHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IDEwMyA6IDEwMSkKCgogICAgICAgICAgICBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgX3RoaXMxMi4kcm91dGVyLmdvKDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5pON5L2cJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTIuc3VibWl0U3RhdHUgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczEyLnN1Ym1pdFN0YXR1ID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDUwOSkgewogICAgICAgICAgICBfdGhpczEyLiRtc2dib3goewogICAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WlveeahCcsCiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGgoJ3AnLCBudWxsLCBbaCgncCcsIG51bGwsICfmgqjmnKrlrqHmoLjmnZDmlpnvvIzor7flhYjlrqHmoLjmnZDmlpknKSAvLyBoKAogICAgICAgICAgICAgIC8vICAgJ3NwYW4nLAogICAgICAgICAgICAgIC8vICAgeyBzdHlsZTogJ2NvbG9yOiAjRTZBMjNDJyB9LAogICAgICAgICAgICAgIC8vICAgJ+WuoeaguOmAmui/h+WQju+8jOaXoOazleWGjeasoeWuoeaguOOAgicKICAgICAgICAgICAgICAvLyApCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczEyLiRtc2dib3goewogICAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WlveeahCcsCiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGgoJ3AnLCBudWxsLCBbaCgncCcsIG51bGwsIHJlcy5tc2cpXSkKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDloavlhpnlrozmi5Lnu53nkIbnlLHlkI7nmoTmj5DkuqQKICAgIHJlZnVzZWRBY2NlcHRSZWFzb25TdWJpbXQ6IGZ1bmN0aW9uIHJlZnVzZWRBY2NlcHRSZWFzb25TdWJpbXQoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ3JlZnVzZWRBY2NlcHQnXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQsIG9iaikgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMTMuc3VibWl0U3RhdHUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMTMuc3VibWl0U3RhdHUgPSB0cnVlOwogICAgICAgICAgX3RoaXMxMy5yZWZ1c2VkQWNjZXB0RGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIHZhciB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMxMy5iYXNpY0RhdGEpKTsKICAgICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gNDAxOwogICAgICAgICAgdGRhdGEub3JkZXJSZW1hcmsgPSBfdGhpczEzLnJlZnVzZWRBY2NlcHRGb3JtLnJlYXNvbjsKICAgICAgICAgIG1vZGlmaWNhdGlvbk9yZGVySW5mbyh0ZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIF90aGlzMTMuJHJvdXRlci5nbygwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIGJhc2ljRGF0YQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yqo5oCB5re75Yqg6KGo5Y2VCiAgICBhZGRGb3JtOiBmdW5jdGlvbiBhZGRGb3JtKHZhbCwgaW5kZXgpIHsKICAgICAgaWYgKHZhbC5idG4gPT09ICfmt7vliqAnKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBpZDogdGhpcy5hZGRNYXRlcmlhbERhdGEubGVuZ3RoICsgMSwKICAgICAgICAgIG5ld05hbWU6ICfmlrDmnZDmlpnlkI3np7AnLAogICAgICAgICAgbmV3UmVtYXJrOiAn5p2Q5paZ5aSH5rOoJywKICAgICAgICAgIGJ0bjogJ+WIoOmZpCcsCiAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgcmVtYXJrOiAnJwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdGhpcy5hZGRNYXRlcmlhbERhdGEucHVzaChkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZE1hdGVyaWFsRGF0YS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9LAogICAgLy8g57uI5q2i5Yqe55CGCiAgICB0ZXJtaW5hdGlvbjogZnVuY3Rpb24gdGVybWluYXRpb24oKSB7CiAgICAgIHRoaXMudGVybWluYXRpb25EaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjb25maXJtVGVybWluYXRpb246IGZ1bmN0aW9uIGNvbmZpcm1UZXJtaW5hdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sndGVybWluYXRpb25Gb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkLCBvYmopIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMxNC5iYXNpY0RhdGEpKTsKICAgICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gNDAyOwogICAgICAgICAgdGRhdGEub3JkZXJSZW1hcmsgPSBfdGhpczE0LnRlcm1pbmF0aW9uRGF0YS50ZXJtaW5hdGlvbkNhdXNlOwogICAgICAgICAgbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC4kcm91dGVyLmdvKDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkjeWItuetvue9sueggQogICAgY29weVNpZ25Db2RlOiBmdW5jdGlvbiBjb3B5U2lnbkNvZGUoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICBxckNvZGVOYW1lOiAn562+572y56CBJyAvLyB1c2VyVHlwZTogMAoKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gInJmY3ciKSB7CiAgICAgICAgZGF0YS51c2VyVHlwZSA9ICIxMCwxMSwxNiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YS51c2VyVHlwZSA9IDA7CiAgICAgIH0KCiAgICAgIFNpZ25lZENvZGVDb3B5KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMxNS5jb2RlVXJsID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgcmVzLmRhdGE7CiAgICAgICAgICBfdGhpczE1LmNvZGVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBodG1sMmNhbnZhcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUVItY29kZScpKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGNhbnZhcykgewogICAgICAgICAgICAgICAgdmFyIGltZ1VybCwgZGF0YSwgYmxvYjsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGltZ1VybCk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuYmxvYigpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNS5ibG9iRmlsZShibG9iLCAn562+572y56CBJyk7IC8vIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGUoWwogICAgICAgICAgICAgICAgICAgICAgICAvLyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBuZXcgQ2xpcGJvYXJkSXRlbSh7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBbYmxvYi50eXBlXTogYmxvYgogICAgICAgICAgICAgICAgICAgICAgICAvLyAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF0pCgoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGJsb2JGaWxlOiBmdW5jdGlvbiBibG9iRmlsZShibG9iLCBmaWxlTmFtZSkgewogICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7CiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpOyAvLyBsaW5rLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ3ZpZXdfd2luZG93JykKCiAgICAgICAgbGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7IC8vIOWIm+W7uuWvueixoXVybAoKICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7IC8vIGZpeCBGaXJlZm94CgogICAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7IC8vIOmAmui/h+iwg+eUqCBVUkwuY3JlYXRlT2JqZWN0VVJMKCkg5Yib5bu655qEIFVSTCDlr7nosaEKICAgICAgfQogICAgfSwKICAgIC8vIOWHuuWFt+ivgeS5pgogICAgY2VydGlmaWNhdGVJc3N1ZWQ6IGZ1bmN0aW9uIGNlcnRpZmljYXRlSXNzdWVkKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICdyZmN3JyAmJiAhdGhpcy5zaWduU3RhdHVzRmluaXNoKSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgnPHAiPuivt+WFiOWwhuWFrOivgeS5pui/m+ihjOeblueroOetvue9suWQju+8jOWGjeWPkemAgeeUteWtkOWFrOivgeS5pjwvcD4nLCAn5pON5L2c5o+Q56S6JywgewogICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICflpb0g55qEJywKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYmFzaWNEYXRhKSk7CgogICAgICBpZiAodGhpcy5iYXNpY0RhdGEub2J0YWluQ2VydFR5cGUgPT09IDEpIHsKICAgICAgICAvLyDpgq7lr4TpgIHovr4KICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDMwMjsgLy8gMzAyLCAi5b6F6YKu5a+EIgogICAgICB9IGVsc2UgewogICAgICAgIC8vIOe6v+S4iumihuivgQogICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMzAzOyAvLyAzMDMsICLlvoXpooTnuqYiCiAgICAgIH0KCiAgICAgIHZhciBvRGF0YSA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQKICAgICAgfSA6IHRkYXRhOwogICAgICB2YXIgYXBpVXJsID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gIm9yZy9zZW5kLW5vdGFyeS1wYXBlcj9vcmRlcklkPSIuY29uY2F0KHRoaXMub3JkZXJJZCwgIiZvcmRlclN0YXR1cz0iKS5jb25jYXQodGhpcy5iYXNpY0RhdGEub3JkZXJTdGF0dXMpIDogIm9yZy91cGRhdGUtb3JkZXItaW5mbyI7CiAgICAgIHZhciBtZXRoID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gJ0dFVCcgOiAnUE9TVCc7CgogICAgICBpZiAodGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CiAgICAgICAgdGhpcy4kYXhpb3MoYXBpVXJsLCBvRGF0YSwgewogICAgICAgICAgbWV0aG9kOiBtZXRoCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgX3RoaXMxNi4kcm91dGVyLmdvKDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMxNi4kYWxlcnQoJzxzcGFuIHN0eWxlPSJkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7Ij4nICsgJzxpIGNsYXNzPSJlbC1pY29uLXdhcm5pbmciIHN0eWxlPSJjb2xvcjojRTZBMjNDO2ZvbnQtc2l6ZTozMHB4O2xpbmUtaGVpZ2h0OjUwcHgiPjwvaT4nICsgJzxzcGFuIHN0eWxlPSJsaW5lLWhlaWdodDo1MHB4Ij4nICsgcmVzLm1zZyArICc8L3NwYW4+JyArICc8L3NwYW4+JywgJycsIHsKICAgICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgn5YWs6K+B5Lmm5bey5Yi25L2c5a6M5oiQ77yf56Gu5a6a5ZCO6ZyA5Y+R6K+B44CCJywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczE2LiRheGlvcyhhcGlVcmwsIG9EYXRhLCB7CiAgICAgICAgICAgIG1ldGhvZDogbWV0aAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHNhdmVEZWZlbnNlUGFya2luZ0hvbGRlckluZm8oX3RoaXMxNi5vcmRlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlh7rlhbfor4HkuaYtLSIsIHJlcyk7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTYuJHJvdXRlci5nbygwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSAvLyBlbHNlIHsKICAgICAgICAgICAgLy8gdGhpcy4kYWxlcnQoJzxpIGNsYXNzPSJlbC1pY29uLXdhcm5pbmciIHN0eWxlPSJjb2xvcjojRTZBMjNDIj48L2k+JyArIHJlcy5tc2csICcnLCB7CiAgICAgICAgICAgIC8vICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAvLyAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gewogICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgLy8gdGhpcy4kYWxlcnQoJzxzcGFuIHN0eWxlPSJkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7Ij4nICsgJzxpIGNsYXNzPSJlbC1pY29uLXdhcm5pbmciIHN0eWxlPSJjb2xvcjojRTZBMjNDO2ZvbnQtc2l6ZTozMHB4O2xpbmUtaGVpZ2h0OjUwcHgiPjwvaT4nICsgJzxzcGFuIHN0eWxlPSJsaW5lLWhlaWdodDo1MHB4Ij4nICsgcmVzLm1zZyArICc8L3NwYW4+JyArICc8L3NwYW4+JywgJycsIHsKICAgICAgICAgICAgLy8gICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUKICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgLy8gfQoKICAgICAgICAgIH0pOyAvLyBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgLy8gICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfSkKCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxNi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g57q/5LiL5pSv5LuY5oyJ6ZKuCiAgICBvZmZsaW5lUGF5bWVudDogZnVuY3Rpb24gb2ZmbGluZVBheW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHZhciB0ZXh0ID0gdGhpcy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gJ+ehruiupOiuouWNlei0ueeUqOW3suaUr+S7mO+8nycgOiAn56Gu6K6k5Y+Y5pu05Li657q/5LiL5pSv5LuY77yfJzsKICAgICAgdGhpcy4kY29uZmlybSh0ZXh0LCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczE3LmJhc2ljRGF0YSkpOyAvLyB0ZGF0YS5vcmRlclN0YXR1cyA9IHRoaXMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/IDIgOiAodGhpcy5iYXNpY0RhdGEuYnVzaW5lc3NUeXBlICE9PSA1ID8gMTAyIDogMzAyKQoKICAgICAgICBpZiAoX3RoaXMxNy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnKSB7CiAgICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDI7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczE3LmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3JmY3cnKSB7CiAgICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDMwMTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTcuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gNSkgewogICAgICAgICAgdGRhdGEub3JkZXJTdGF0dXMgPSAzMDI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMTAyOwogICAgICAgIH0gLy8gaWYgKHRoaXMuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSAhPT0gNSkgewogICAgICAgIC8vICAgdGRhdGEub3JkZXJTdGF0dXMgPSAxMDIKICAgICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vICAgdGRhdGEub3JkZXJTdGF0dXMgPSAzMDIKICAgICAgICAvLyB9CgoKICAgICAgICB0ZGF0YS5wYXltZW50U3RhdHVzID0gMTsgLy8gdGRhdGEub3JkZXJSZW1hcmsgPSB2YWx1ZQoKICAgICAgICBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIGlmIChfdGhpczE3LmJhc2ljRGF0YS5wcm9kQ29kZSA9PT0gJ3lzZicpIHsKICAgICAgICAgICAgICAvLyDkuIDmiYvmiL/lj5HpgIHnlLXlrZDlhazor4HkuaYKICAgICAgICAgICAgICBzZW5kTm90YXJ5UGFwZXIoewogICAgICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMxNy5vcmRlcklkLAogICAgICAgICAgICAgICAgb3JkZXJTdGF0dXM6IF90aGlzMTcuYmFzaWNEYXRhLm9yZGVyU3RhdHVzCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmV0KSB7CiAgICAgICAgICAgICAgICBpZiAocmV0LnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kcm91dGVyLmdvKDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMTcuJHJvdXRlci5nbygwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5pON5L2cJwogICAgICAgIH0pOwogICAgICB9KTsgLy8gdGhpcy4kcHJvbXB0KCflpIfms6jvvJonLCAn56Gu5a6a5a6i5oi36L+b6KGM57q/5LiL5pSv5LuY6LS555So77yfJywgewogICAgICAvLyAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgLy8gICBpbnB1dFR5cGU6ICd0ZXh0YXJlYScsCiAgICAgIC8vICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgIC8vICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlCiAgICAgIC8vIH0pLnRoZW4oKHsgdmFsdWUgfSkgPT4gewogICAgICAvLyAgIHZhciB0ZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5iYXNpY0RhdGEpKQogICAgICAvLyAgIGlmICh0aGlzLmJhc2ljRGF0YS5idXNpbmVzc1R5cGUgIT09IDUpIHsKICAgICAgLy8gICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMTAyCiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMzAyCiAgICAgIC8vICAgfQogICAgICAvLyAgIHRkYXRhLnBheW1lbnRTdGF0dXMgPSAxCiAgICAgIC8vICAgdGRhdGEub3JkZXJSZW1hcmsgPSB2YWx1ZQogICAgICAvLyAgIG1vZGlmaWNhdGlvbk9yZGVySW5mbyh0ZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgIC8vICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgLy8gICAgICAgdGhpcy4kcm91dGVyLmdvKDApCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gfSkuY2F0Y2goKCkgPT4gewogICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAvLyAgICAgdHlwZTogJ2luZm8nLAogICAgICAvLyAgICAgbWVzc2FnZTogJ+WPlua2iOi+k+WFpScKICAgICAgLy8gICB9KQogICAgICAvLyB9KQogICAgfSwKICAgIC8vIOWRvOWPq+W/q+mAkuaPveaUtgogICAgY2FsbENvdXJpZXI6IGZ1bmN0aW9uIGNhbGxDb3VyaWVyKCkgewogICAgICB2YXIgc3RyID0gIiciICsgdGhpcy5iYXNpY0RhdGEub3JkZXJOdW0gKyAiJyI7IC8vIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgLy8gICBuYW1lOiAnbWFpbExpc3QnLAogICAgICAvLyAgIHF1ZXJ5OiB7IG9yZGVyTnVtOiBzdHIsIHVzZXJUeXBlOiAxIH0KICAgICAgLy8gfSkKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiZXhwcmVzc0RlbGl2ZXJ5IiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgZnJvbTogImVudHJ5RGV0YWlsc09yZGVyIiwKICAgICAgICAgIGlkczogW3RoaXMuZXhwcmVzc0lkXSwKICAgICAgICAgIGZyb21PcmRlcklkOiB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlcklkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDorr7nva7poobor4Hkv6Hmga8KICAgIHNldExpY2Vuc2VJbmZvOiBmdW5jdGlvbiBzZXRMaWNlbnNlSW5mbygpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgZ2V0QWxsQWRkcmVzcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMxOC5vcHRpb25zID0gcmVzLmRhdGE7CiAgICAgICAgICBfdGhpczE4LmFwcG9pbnRtZW50RGlhbG9nVmlzaWJsZSA9IHRydWU7CgogICAgICAgICAgX3RoaXMxOC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczE4LiRyZWZzWydzZXRGb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0U2V0RGF0YTogZnVuY3Rpb24gc3VibWl0U2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1snc2V0Rm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCwgb2JqKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBnZXRSZWNlaXZlckluZm8oewogICAgICAgICAgICBvcmRlck51bTogX3RoaXMxOS5iYXNpY0RhdGEub3JkZXJOdW0KICAgICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJlcykgewogICAgICAgICAgICAgIHZhciBkYXRhLCBfb2JqLCBfcmVzOwoKICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgX29iaiA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgX29iaiA9IF90aGlzMTkub3B0aW9ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/memHjOeahHVzZXJMaXN05bCx5piv5LiK6Z2i6YGN5Y6G55qE5pWw5o2u5rqQCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm9yZ0FkZHJlc3MgPT09IF90aGlzMTkuc2V0RGF0YS5zaXRlOyAvLyDnrZvpgInlh7rljLnphY3mlbDmja4KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgZGF0YS5yZWNlaXZlTnVtYmVyID0gX3RoaXMxOS5zZXREYXRhLm51bTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVjZWl2ZVRpbWUgPSBfdGhpczE5LnNldERhdGEudGltZTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVjZWl2ZUFkZHJlc3MgPSBfdGhpczE5LnNldERhdGEuc2l0ZTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVjZWl2ZVBvaW50TmFtZSA9IF9vYmoub2ZmaWNlTmFtZTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVjZWl2ZVN0YXR1cyA9IDE7IC8vIDAsICLmnKrpooTnuqYiIDEsICLlt7LpooTnuqYiCgogICAgICAgICAgICAgICAgICAgICAgZGF0YS5vcmRlck51bSA9IF90aGlzMTkuYmFzaWNEYXRhLm9yZGVyTnVtOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTkuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gMTEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwb2ludG1lbnRUaW1lKGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICAgICAgX3JlcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIumihOe6pi0tLS0tIiwgX3Jlcyk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFfcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS4kbWVzc2FnZS5zdWNjZXNzKCLpooTnuqbmiJDlip8iKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE5LiRyb3V0ZXIuZ28oMCk7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS4kbWVzc2FnZS5lcnJvcihfcmVzLm1zZyB8fCAi6aKE57qm5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIik7CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgICAgICAgbW9kaWZpY2F0aW9uUmVjZWl2ZUluZm8oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUZXh0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcklkOiBfdGhpczE5Lm9yZGVySWQKICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTkuYmFzaWNEYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkYXRhLm9yZGVyU3RhdHVzID0gMzA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmljYXRpb25PcmRlckluZm8odGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOS4kcm91dGVyLmdvKDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDnn63kv6Hmj5AKICAgIFNNU1JlbWluZGVyOiBmdW5jdGlvbiBTTVNSZW1pbmRlcigpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMC4kY29uZmlybSgn5Y+R6YCB55+t5L+h5o+Q6YaS55So5oi36aKG5Y+W5YWs6K+B5LmmJywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjAuYmFzaWNEYXRhLmJ1c2luZXNzVHlwZSA9PT0gMTEpIHsKICAgICAgICAgICAgICAgICAgICBnZXRSZWNlaXZlckluZm8oewogICAgICAgICAgICAgICAgICAgICAgb3JkZXJOdW06IF90aGlzMjAuYmFzaWNEYXRhLm9yZGVyTnVtCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwb2ludG1lbnRUaW1lKHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXQuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIwLiRtZXNzYWdlLnN1Y2Nlc3MoIuWPkemAgeefreS/oeaPkOmGkuaIkOWKnyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMC4kbWVzc2FnZS5lcnJvcigi5Y+R6YCB55+t5L+h5o+Q6YaS5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2VuZFRleHRNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IF90aGlzMjAub3JkZXJJZAogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgcmVzLnN1Y2Nlc3MgJiYgX3RoaXMyMC4kbWVzc2FnZS5zdWNjZXNzKCLlj5HpgIHnn63kv6Hmj5DphpLmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIwLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWPkemAgScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5a6M5oiQ5Yqe55CGCiAgICBjb21wbGV0ZWRUaGU6IGZ1bmN0aW9uIGNvbXBsZXRlZFRoZSgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgbWVzc2FnZTogaCgncCcsIG51bGwsIFtoKCdwJywgbnVsbCwgJ+eCueWHu+WQju+8jOWKnueQhuiuouWNleWwhue7k+adn+OAgicpLCBoKCdzcGFuJywgewogICAgICAgICAgc3R5bGU6ICdjb2xvcjogI0U2QTIzQycKICAgICAgICB9LCAn56Gu5a6a5ZCO77yM5peg5rOV5pKk5Zue77yBJyldKQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMjEuYmFzaWNEYXRhKSk7CiAgICAgICAgdGRhdGEub3JkZXJTdGF0dXMgPSAzMDY7CiAgICAgICAgbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICBfdGhpczIxLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIxLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGVudGVyVmlkZW86IGZ1bmN0aW9uIGVudGVyVmlkZW8oKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zKCJvcmcvc2lnbi1yZWdpb24tZXhpc3Q/b3JkZXJJZD0iLmNvbmNhdCh0aGlzLm9yZGVySWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoIXJlcy5kYXRhKSB7CiAgICAgICAgICBfdGhpczIyLiRtZXNzYWdlLmVycm9yKCfmnInmlofku7blsJrmnKrorr7nva7nrb7nvbLljLrln58nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnZGVsZWdhdGVWaWRlbycsCiAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgb3JkZXJJZDogX3RoaXMyMi5vcmRlcklkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybVZpZGVvQ29tcGxldGlvbjogZnVuY3Rpb24gY29uZmlybVZpZGVvQ29tcGxldGlvbigpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBzdGEsIGgsIHRpcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMjMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMy5kZXRlcm1pbmVJZlRoZVZpZGVvSXNDb21wbGV0ZWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgc3RhID0gX2NvbnRleHQ4LnQwOwoKICAgICAgICAgICAgICAgIGlmIChzdGEpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGggPSBfdGhpczIzLiRjcmVhdGVFbGVtZW50OwogICAgICAgICAgICAgICAgdGlwID0gX3RoaXMyMy5iYXNpY0RhdGEucHJvZENvZGUgPT09ICd5c2YnID8gJ+ehruWumuinhumikeW3suWujOaIkO+8nycgOiAn56Gu5a6a6KeG6aKR5bey5a6M5oiQ77yf56Gu5a6a5ZCO5LiN5Y+v5YaN6L+b6KGM6KeG6aKRJzsKCiAgICAgICAgICAgICAgICBfdGhpczIzLiRtc2dib3goewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaCgncCcsIG51bGwsIFtoKCdwJywgbnVsbCwgdGlwKV0pCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczIzLmJhc2ljRGF0YSkpOwogICAgICAgICAgICAgICAgICB0ZGF0YS5vcmRlclN0YXR1cyA9IDEwMTsKICAgICAgICAgICAgICAgICAgdmFyIGFwaVVybCA9IF90aGlzMjMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICJvcmcvY29uZmlybS1WaWRlby1Db21wbGV0ZS8iLmNvbmNhdChfdGhpczIzLm9yZGVySWQpIDogIm9yZy9jb25maXJtLWlzLXZpZGVvP29yZGVySWQ9Ii5jb25jYXQoX3RoaXMyMy5iYXNpY0RhdGEuaWQpOwogICAgICAgICAgICAgICAgICB2YXIgbWV0aCA9IF90aGlzMjMuYmFzaWNEYXRhLnByb2RDb2RlID09PSAneXNmJyA/ICdHRVQnIDogJ1BVVCc7CgogICAgICAgICAgICAgICAgICBfdGhpczIzLiRheGlvcyhhcGlVcmwsIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRoCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgLy8gbW9kaWZpY2F0aW9uT3JkZXJJbmZvKHRkYXRhKS50aGVuKCh2YWwpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh2YWwuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMy4kcm91dGVyLmdvKDApOyAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAvLyB9KQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRldGVybWluZUlmVGhlVmlkZW9Jc0NvbXBsZXRlZDogZnVuY3Rpb24gZGV0ZXJtaW5lSWZUaGVWaWRlb0lzQ29tcGxldGVkKCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIGlzVmlkZW87CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNC4kYXhpb3MoIm9yZy9jaGVjay1WaWRlby1Db21wbGV0ZS8iLmNvbmNhdChfdGhpczI0Lm9yZGVySWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaXNWaWRlbyA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXNWaWRlbyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICBpZiAoaXNWaWRlby5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczI0LiRhbGVydChpc1ZpZGVvLm1zZywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0UVJDb2RlOiBmdW5jdGlvbiBnZXRRUkNvZGUodHlwZSkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciBkYXRhLCBxcmNvZGVTdWM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyNS5wZXJzb25uZWxRUkNvZGVMaXN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBvcmRlcklkOiBfdGhpczI1Lm9yZGVySWQsCiAgICAgICAgICAgICAgICAgIHVzZXJUeXBlOiB0eXBlID09PSAxID8gMiA6IDAsCiAgICAgICAgICAgICAgICAgIHFyQ29kZU5hbWU6IHR5cGUgPT09IDEgPyAn5YWs6K+B5ZGY6KeG6aKR5LqM57u056CBJyA6ICfnlKjmiLfnrb7nvbIv6KeG6aKR5LqM57u056CBJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHFyY29kZVN1YyA9IHR5cGUgIT09IDE7CgogICAgICAgICAgICAgICAgaWYgKCEodHlwZSA9PT0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI1LnNlbmRNZXNzYWdlcygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBxcmNvZGVTdWMgPSBfY29udGV4dDEwLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmIChxcmNvZGVTdWMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyNS4kYXhpb3MoIm9yZy9RUkNvZGUiLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUucGVyc29ubmVsUVJDb2RlTGlzdCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuJHN0b3JlLmNvbW1pdCgnYXBwL0NIQU5HRV9JTUFHRScsIFsnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyByZXMuZGF0YV0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuc2VuZFNtcyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LiRzdG9yZS5jb21taXQoJ2FwcC9NQVNLX0NIQU5HRScsIG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LiRtZXNzYWdlLmVycm9yKCfojrflj5bkuoznu7TnoIHlpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRTbXNMaW5rOiBmdW5jdGlvbiBzZW5kU21zTGluaygpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgZ2V0UHJvcG9zZUluZm8oewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciBhcnJheSA9IHJlcy5kYXRhOwogICAgICAgICAgdmFyIHBob25lTGlzdCA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgaWYgKGFycmF5W2luZGV4XS5yb2xlQ29kZSA9PSAnbXNyJykgewogICAgICAgICAgICAgIGlmIChhcnJheVtpbmRleF0ub3JnYW5pemF0aW9uVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgcGhvbmVMaXN0LnB1c2goYXJyYXlbaW5kZXhdLm9yZ2FuaXphdGlvblBob25lKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGhvbmVMaXN0LnB1c2goYXJyYXlbaW5kZXhdLm1vYmlsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRpcCA9ICflsIblr7nmiYvmnLrlj7cnICsgcGhvbmVMaXN0LmpvaW4oJ+OAgScpICsgJ+WPkemAgeWQq+acieWwj+eoi+W6j+i3s+i9rOmTvuaOpeeahOefreS/oe+8jOivt+mAmuefpeW9k+S6i+S6uu+8jOW5tue6puWumuWPjOaWuei/m+ihjOinhumikemAmuivneeahOaXtumXtOOAgic7CgogICAgICAgICAgX3RoaXMyNi4kY29uZmlybSh0aXAsICfmj5DnpLonLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZW5kU21zVG9UaGVQYXJ0aWVzKHsKICAgICAgICAgICAgICBvcmRlcklkOiBfdGhpczI2Lm9yZGVySWQKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgaWYgKHZhbC5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBfdGhpczI2LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn55+t5L+h5Y+R6YCB5oiQ5YqfJwogICAgICAgICAgICAgICAgfSk7IC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXBwL0NIQU5HRV9JTUFHRScsIFtdKQogICAgICAgICAgICAgICAgLy8gdGhpcy5zZW5kU21zID0gZmFsc2UKCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMjYuJG1lc3NhZ2UuZXJyb3IoJ+efreS/oeWPkemAgeWksei0pScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMjYuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Y+R6YCBJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczI2LiRtZXNzYWdlLmVycm9yKCfojrflj5borqLljZXlvZPkuovkurrkv6Hmga/lpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRNZXNzYWdlczogZnVuY3Rpb24gc2VuZE1lc3NhZ2VzKCkgewogICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciB0aGF0LCBwaG9uZSwgZ3p5SWQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhhdCA9IF90aGlzMjc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuJGF4aW9zKCJvcmcvc2VsZWN0LW9yZGVyLW5vdGFyeS11c2VyLW1vYmlsZSIsIHsKICAgICAgICAgICAgICAgICAgb3JkZXJJZDogdGhhdC5vcmRlcklkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcGhvbmUgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICBnenlJZCA9IHBob25lLmRhdGEgIT09IG51bGwgPyBwaG9uZS5kYXRhLmlkIDogJyc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyNy4kcHJvbXB0KCcnLCAn5aGr5YaZ5YWs6K+B5ZGY5omL5py65Y+3JywgewogICAgICAgICAgICAgICAgICAgIGlucHV0UGxhY2Vob2xkZXI6ICfor7fovpPlhaXloavlhpnlhazor4HlkZjmiYvmnLrlj7cnLAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgICAgICBpbnB1dEVycm9yTWVzc2FnZTogJ+i+k+WFpeS4jeiDveS4uuepuicsCiAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogcGhvbmUuZGF0YSAhPT0gbnVsbCA/IHBob25lLmRhdGEubm90YXJ5VXNlck1vYmlsZSA6ICcnLAogICAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbGlkYXRvcjogZnVuY3Rpb24gaW5wdXRWYWxpZGF0b3IodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIOeCueWHu+aMiemSruaXtu+8jOWvueaWh+acrOahhumHjOmdoueahOWAvOi/m+ihjOmqjOivgQogICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ+i+k+WFpeS4jeiDveS4uuepuic7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEvXjFbM3w0fDV8Nnw3fDh8OV1bMC05XVxkezh9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfovpPlhaXmraPnoa7nmoTmiYvmnLrlj7cnOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfY2FsbGJhY2sgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoYWN0aW9uLCBpbnN0YW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VjOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYWN0aW9uID09PSAnY29uZmlybScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LiRheGlvcygib3JnL29yZGVyLW5vdGFyeS11c2VyLW1vYmlsZSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IHRoYXQub3JkZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGFyeVVzZXJNb2JpbGU6IGluc3RhbmNlLmlucHV0VmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZ3p5SWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YyA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN1Yy5zdWNjZXNzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2soX3g1LCBfeDYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgICAgICAgICAgICAgICAgICB9KCkKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pCc57Si5p2Q5paZCiAgICBzZWFyY2hNYXRlcmlhbE5hbWU6IGZ1bmN0aW9uIHNlYXJjaE1hdGVyaWFsTmFtZSgpIHsKICAgICAgdmFyIF90aGlzMjggPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkLAogICAgICAgIG1hdGVyaWFsTmFtZTogdGhpcy5zZWFyY2hNYXRlcmlhbAogICAgICB9OwogICAgICBnZXRNYXRlcmlhbERlcG90KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMjgubWF0ZXJpYWxEYXRhID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVRhYkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVUYWJDbGljaygpIHsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndGFiQWN0aXZlTmFtZScsIHRoaXMudGFiQWN0aXZlTmFtZSk7CiAgICB9LAogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygtMSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdidXNpbmVzc0xpc3QnCiAgICAgIH0pOwogICAgfSwKICAgIGdldFByb2R1Y3RUeXBlOiBmdW5jdGlvbiBnZXRQcm9kdWN0VHlwZSh2YWwpIHsKICAgICAgdmFyIHRhYk5hbWVMaXN0ID0gewogICAgICAgICJyZmN3IjogIuS6i+mhueS/oeaBryIsCiAgICAgICAgInlzZiI6ICLmiL/kuqfkv6Hmga8iCiAgICAgIH07CgogICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGFiTmFtZUxpc3QsIHZhbCkpIHsKICAgICAgICByZXR1cm4gdGFiTmFtZUxpc3RbdmFsXTsKICAgICAgfQoKICAgICAgcmV0dXJuICLlhbbku5YiOwogICAgfQogIH0KfTs="},null]}