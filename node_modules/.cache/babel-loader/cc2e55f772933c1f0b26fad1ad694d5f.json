{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/src/utils/index.js","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/utils/index.js","mtime":1634724784703},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgZm9yZ2UgZnJvbSAnbm9kZS1mb3JnZSc7CmltcG9ydCBMYXlvdXQgZnJvbSAnQC9sYXlvdXQnOwppbXBvcnQgeyBheGlvcyB9IGZyb20gJy4vYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9pbmRleCc7Ci8qKgogKiBDcmVhdGVkIGJ5IFBhbkppYUNoZW4gb24gMTYvMTEvMTguCiAqLwoKLyoqCiAqIFBhcnNlIHRoZSB0aW1lIHRvIHN0cmluZwogKiBAcGFyYW0geyhPYmplY3R8c3RyaW5nfG51bWJlcil9IHRpbWUKICogQHBhcmFtIHtzdHJpbmd9IGNGb3JtYXQKICogQHJldHVybnMge3N0cmluZyB8IG51bGx9CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGltZSh0aW1lLCBjRm9ybWF0KSB7CiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDAgfHwgIXRpbWUpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIGZvcm1hdCA9IGNGb3JtYXQgfHwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JzsKICB2YXIgZGF0ZTsKCiAgaWYgKF90eXBlb2YodGltZSkgPT09ICdvYmplY3QnKSB7CiAgICBkYXRlID0gdGltZTsKICB9IGVsc2UgewogICAgaWYgKHR5cGVvZiB0aW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoL15bMC05XSskLy50ZXN0KHRpbWUpKSB7CiAgICAgICAgLy8gc3VwcG9ydCAiMTU0ODIyMTQ5MDYzOCIKICAgICAgICB0aW1lID0gcGFyc2VJbnQodGltZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gc3VwcG9ydCBzYWZhcmkKICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MzEwOTUzL2ludmFsaWQtZGF0ZS1pbi1zYWZhcmkKICAgICAgICB0aW1lID0gdGltZS5yZXBsYWNlKG5ldyBSZWdFeHAoLy0vZ20pLCAnLycpOwogICAgICB9CiAgICB9CgogICAgaWYgKHR5cGVvZiB0aW1lID09PSAnbnVtYmVyJyAmJiB0aW1lLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxMCkgewogICAgICB0aW1lID0gdGltZSAqIDEwMDA7CiAgICB9CgogICAgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwogIH0KCiAgdmFyIGZvcm1hdE9iaiA9IHsKICAgIHk6IGRhdGUuZ2V0RnVsbFllYXIoKSwKICAgIG06IGRhdGUuZ2V0TW9udGgoKSArIDEsCiAgICBkOiBkYXRlLmdldERhdGUoKSwKICAgIGg6IGRhdGUuZ2V0SG91cnMoKSwKICAgIGk6IGRhdGUuZ2V0TWludXRlcygpLAogICAgczogZGF0ZS5nZXRTZWNvbmRzKCksCiAgICBhOiBkYXRlLmdldERheSgpCiAgfTsKICB2YXIgdGltZV9zdHIgPSBmb3JtYXQucmVwbGFjZSgveyhbeW1kaGlzYV0pK30vZywgZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7CiAgICB2YXIgdmFsdWUgPSBmb3JtYXRPYmpba2V5XTsgLy8gTm90ZTogZ2V0RGF5KCkgcmV0dXJucyAwIG9uIFN1bmRheQoKICAgIGlmIChrZXkgPT09ICdhJykgewogICAgICByZXR1cm4gWyfml6UnLCAn5LiAJywgJ+S6jCcsICfkuIknLCAn5ZubJywgJ+S6lCcsICflha0nXVt2YWx1ZV07CiAgICB9CgogICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICB9KTsKICByZXR1cm4gdGltZV9zdHI7Cn0KLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lCiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb24KICogQHJldHVybnMge3N0cmluZ30KICovCgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZSh0aW1lLCBvcHRpb24pIHsKICBpZiAoKCcnICsgdGltZSkubGVuZ3RoID09PSAxMCkgewogICAgdGltZSA9IHBhcnNlSW50KHRpbWUpICogMTAwMDsKICB9IGVsc2UgewogICAgdGltZSA9ICt0aW1lOwogIH0KCiAgdmFyIGQgPSBuZXcgRGF0ZSh0aW1lKTsKICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICB2YXIgZGlmZiA9IChub3cgLSBkKSAvIDEwMDA7CgogIGlmIChkaWZmIDwgMzApIHsKICAgIHJldHVybiAn5Yia5YiaJzsKICB9IGVsc2UgaWYgKGRpZmYgPCAzNjAwKSB7CiAgICAvLyBsZXNzIDEgaG91cgogICAgcmV0dXJuIE1hdGguY2VpbChkaWZmIC8gNjApICsgJ+WIhumSn+WJjSc7CiAgfSBlbHNlIGlmIChkaWZmIDwgMzYwMCAqIDI0KSB7CiAgICByZXR1cm4gTWF0aC5jZWlsKGRpZmYgLyAzNjAwKSArICflsI/ml7bliY0nOwogIH0gZWxzZSBpZiAoZGlmZiA8IDM2MDAgKiAyNCAqIDIpIHsKICAgIHJldHVybiAnMeWkqeWJjSc7CiAgfQoKICBpZiAob3B0aW9uKSB7CiAgICByZXR1cm4gcGFyc2VUaW1lKHRpbWUsIG9wdGlvbik7CiAgfSBlbHNlIHsKICAgIHJldHVybiAiIi5jb25jYXQoZC5nZXRNb250aCgpICsgMSwgIlx1NjcwOCIpLmNvbmNhdChkLmdldERhdGUoKSwgIlx1NjVFNSIpLmNvbmNhdChkLmdldEhvdXJzKCksICJcdTY1RjYiKS5jb25jYXQoZC5nZXRNaW51dGVzKCksICJcdTUyMDYiKTsKICB9Cn0KLyoqCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwKICogQHJldHVybnMge09iamVjdH0KICovCgpleHBvcnQgZnVuY3Rpb24gcGFyYW0yT2JqKHVybCkgewogIHZhciBzZWFyY2ggPSBkZWNvZGVVUklDb21wb25lbnQodXJsLnNwbGl0KCc/JylbMV0pLnJlcGxhY2UoL1wrL2csICcgJyk7CgogIGlmICghc2VhcmNoKSB7CiAgICByZXR1cm4ge307CiAgfQoKICB2YXIgb2JqID0ge307CiAgdmFyIHNlYXJjaEFyciA9IHNlYXJjaC5zcGxpdCgnJicpOwogIHNlYXJjaEFyci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICB2YXIgaW5kZXggPSB2LmluZGV4T2YoJz0nKTsKCiAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgIHZhciBuYW1lID0gdi5zdWJzdHJpbmcoMCwgaW5kZXgpOwogICAgICB2YXIgdmFsID0gdi5zdWJzdHJpbmcoaW5kZXggKyAxLCB2Lmxlbmd0aCk7CiAgICAgIG9ialtuYW1lXSA9IHZhbDsKICAgIH0KICB9KTsKICByZXR1cm4gb2JqOwp9Ci8qKgogKiBlbC1tc2cKICogQHBhcmFtIHtzdHJpbmd9IG1zZwogKiBAcGFyYW0ge3N0cmluZ30gdHlwZQogKi8KCmV4cG9ydCBmdW5jdGlvbiBtc2cobXNnLCB0eXBlKSB7CiAgTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBtc2csCiAgICB0eXBlOiB0eXBlIHx8ICdpbmZvJywKICAgIGR1cmF0aW9uOiAyMDAwCiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIFM0KCkgewogIHJldHVybiAoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDAgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpOwp9Ci8qKgogKiDojrflj5Z1dWlkCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldFV1aWQoKSB7CiAgcmV0dXJuICIiLmNvbmNhdChTNCgpKS5jb25jYXQoUzQoKSwgIi0iKS5jb25jYXQoUzQoKSwgIi0iKS5jb25jYXQoUzQoKSwgIi0iKS5jb25jYXQoUzQoKSwgIi0iKS5jb25jYXQoUzQoKSwgIi0iKS5jb25jYXQoUzQoKSkuY29uY2F0KFM0KCkpOwp9Ci8qKgogKiDlr4bnoIFyYXMgLT4gYmFzZTY05Yqg5a+GCiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg6KaB5Yqg5a+G55qE5YaF5a65CiAqIEBwYXJhbSB7c3RyaW5nfSBwdWJLZXkg5a+G6ZKlCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHJhc0VuY3J5cHQoc3RyLCBwdWJLZXkpIHsKICB2YXIgcHVibGljSyA9IGZvcmdlLnBraS5wdWJsaWNLZXlGcm9tUGVtKCctLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuJyArIHB1YktleSArICdcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLScpOwogIHJldHVybiBmb3JnZS51dGlsLmVuY29kZTY0KHB1YmxpY0suZW5jcnlwdChzdHIpKTsKfQovKioKICogYmFzZTY05Yqg5a+GCiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg6KaB5Yqg5a+G55qE5YaF5a65CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NChzdHIpIHsKICByZXR1cm4gZm9yZ2UudXRpbC5lbmNvZGU2NChzdHIpOwp9Ci8qKgogKiDovazmjaJtZW515qCRCiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg6KaB5Yqg5a+G55qE5YaF5a65CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldE1lbnVUcmVlKGRhdGEsIGFycikgewogIGlmIChkYXRhKSB7CiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YSksCiAgICAgICAgX3N0ZXA7CgogICAgdHJ5IHsKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgdmFyIGkgPSBfc3RlcC52YWx1ZTsKICAgICAgICB2YXIgY2ggPSBbXTsKCiAgICAgICAgaWYgKGkuY2hpbGRyZW4gJiYgaS5jaGlsZHJlbi5sZW5ndGggIT09IDApIHsKICAgICAgICAgIGNoID0gZ2V0TWVudVRyZWUoaS5jaGlsZHJlbiwgW10pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgICB2YXIgaW5kZXggPSBpLnBhdGgubGFzdEluZGV4T2YoJy8nKSArIDE7CiAgICAgICAgZGF0YS51cmwgPSBpLnBhdGg7CiAgICAgICAgZGF0YS5uYW1lID0gIiIuY29uY2F0KGkucGF0aE5hbWUpOwoKICAgICAgICBpZiAoaS5wYXRoLmluZGV4T2YoJ2h0dHA6Ly8nKSAhPT0gLTEgfHwgaS5wYXRoLmluZGV4T2YoJ2h0dHBzOi8vJykgIT09IC0xKSB7CiAgICAgICAgICBkYXRhLnBhdGggPSBpLnBhdGg7CiAgICAgICAgICBkYXRhLmNvbXBvbmVudCA9IGkucGFyZW50SWQgPT09ICcwJyA/IExheW91dCA6IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy9vcGVuL2luZGV4LnZ1ZSJdLCByZXNvbHZlKTsKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGEucGF0aCA9ICIiLmNvbmNhdChpbmRleCA+IDEgPyBpLnBhdGguc3Vic3RyaW5nKGluZGV4LCBpLnBhdGgubGVuZ3RoKSA6IGkucGF0aCk7CiAgICAgICAgICBkYXRhLmNvbXBvbmVudCA9IGkucGFyZW50SWQgPT09ICcwJyA/IExheW91dCA6IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cyIuY29uY2F0KGkucGF0aCwgIi52dWUiKV0sIHJlc29sdmUpOwogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGlmIChpLnBhcmVudElkID09PSAnMCcpIHsKICAgICAgICAgIGRhdGEucmVkaXJlY3QgPSAiIi5jb25jYXQoaS5wYXRoLCAiL2luZGV4Iik7CiAgICAgICAgICBkYXRhLmFsd2F5c1Nob3cgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZGF0YS5oaWRkZW4gPSAhIWkuaGlkZGVuOwogICAgICAgIGRhdGEuZXh0ZXJuYWxMaW5rRmxhZyA9ICEhaS5leHRlcm5hbExpbmtGbGFnOwogICAgICAgIGRhdGEuY3VycmVudFdpbmRvd0ZsYWcgPSAhIWkuY3VycmVudFdpbmRvd0ZsYWc7CiAgICAgICAgZGF0YS5tZXRhID0gewogICAgICAgICAgdGl0bGU6IGkubmFtZSwKICAgICAgICAgIGljb246IGkuaWNvbiA/IGkuaWNvbiA6ICdlbC1pY29uLXMtb3JkZXInCiAgICAgICAgfTsKCiAgICAgICAgaWYgKGNoICYmIGNoLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGRhdGEuY2hpbGRyZW4gPSBjaDsKICAgICAgICB9CgogICAgICAgIGFyci5wdXNoKGRhdGEpOwogICAgICB9OwoKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICBfbG9vcCgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvci5mKCk7CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9IGVsc2UgewogICAgcmV0dXJuIFtdOwogIH0KfSAvLyDojrflj5bmlofku7bmtYHmnKzlnLDkuIvovb0KCmV4cG9ydCBmdW5jdGlvbiBibG9iRmlsZShibG9iLCBmaWxlTmFtZSkgewogIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHsKICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVOYW1lKTsKICB9IGVsc2UgewogICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICB2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTsgLy8gbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICd2aWV3X3dpbmRvdycpCgogICAgbGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7IC8vIOWIm+W7uuWvueixoXVybAoKICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsgLy8gZml4IEZpcmVmb3gKCiAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgbGluay5jbGljaygpOwogICAgYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7IC8vIOmAmui/h+iwg+eUqCBVUkwuY3JlYXRlT2JqZWN0VVJMKCkg5Yib5bu655qEIFVSTCDlr7nosaEKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VJbnN0cnVtZW50KG9yZGVySWQpIHsKICBheGlvcygib3JnL2dldC1jZXJ0aWZ5aW5nLWNvbmZpcm0taW5mby8iLmNvbmNhdChvcmRlcklkKSwge30sIHsKICAgIG1ldGhvZDogJ0dFVCcKICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIGNvbnNvbGUubG9nKHJlcywgJy0tLS0tLS0tLS0tLS3mlofmnKzmm7/mjaLnmoTkv6Hmga8tLS0tLS0tLS0tLS0tLS0tLS0tLScpOyAvLyB2YXIgcHJvQ29kZT1yZXMuZGF0YS5vcmRlckluZm8ucHJvZENvZGUKCiAgICB2YXIgYXBwbGlEYXRhLCBhZ2VuY3lEYXRhOwoKICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mby5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgaWYgKHBhcnNlSW50KHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW2luZGV4XS5wcm9wb3NlclR5cGUpID09PSAwKSB7CiAgICAgICAgYXBwbGlEYXRhID0gcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9baW5kZXhdOwogICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW2luZGV4XS5wcm9wb3NlclR5cGUpID09PSAxMSkgewogICAgICAgIGFnZW5jeURhdGEgPSByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tpbmRleF07CiAgICAgIH0KICAgIH0KCiAgICBheGlvcygib3JnL29yZGVyLXByb3Bvc2VyLW1hdGVyaWFsLWFsbC1wcm9wb3Nlci8iLmNvbmNhdChvcmRlcklkKSwge30sIHsKICAgICAgbWV0aG9kOiAnR0VUJwogICAgfSkudGhlbihmdW5jdGlvbiAocCkgewogICAgICBjb25zb2xlLmxvZyhwLCAn5p2Q5paZ5L+h5oGvLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgICAgdmFyIHN0ciA9ICcnOwoKICAgICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgcC5kYXRhLmxlbmd0aDsgX2luZGV4KyspIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAuZGF0YVtfaW5kZXhdLm1haWxPcmRlck1hdGVyaWFsVHlwZVZPUy5sZW5ndGg7IGkrKykgewogICAgICAgICAgc3RyICs9IHAuZGF0YVtfaW5kZXhdLm1haWxPcmRlck1hdGVyaWFsVHlwZVZPU1tpXS5tYXRlcmlhbE5hbWUgKyAn77yMJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB0cmFuc2ZlckRhdGEgPSB7CiAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICBwcm9Db2RlOiByZXMuZGF0YS5vcmRlckluZm8ucHJvZENvZGUsCiAgICAgICAgdGVtcGxhdGVUeXBlOiAwLAogICAgICAgIGpzb246IHsKICAgICAgICAgIOWFrOivgeS5puS7veaVsDogcmVzLmRhdGEub3JkZXJJbmZvLnByb2RDb2RlICE9PSAneXpkbCcgPyByZXMuZGF0YS5vcmRlckluZm8ucHJvZENvZGUgPT09ICd5c2YnID8gJy0nIDogcmVzLmRhdGEub2ZmbGluZVJlY2VpdmUubm90YXJ5TnVtIDogcmVzLmRhdGEub3JkZXJJbmZvLm9idGFpbkNlcnRUeXBlID09PSAxID8gcmVzLmRhdGEub3JkZXJFeHByZXNzU2VuZERUT1Mubm90YXJ5TnVtIDogcmVzLmRhdGEub2ZmbGluZVJlY2VpdmUubm90YXJ5TnVtLAogICAgICAgICAg6aKG5Y+W5pa55byPOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IDEgPyAn6YKu5a+E6YCB6L6+ICcgOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IG51bGwgPyAn55S15a2Q5YWs6K+B5LmmJyA6ICfnur/kuIvpooblj5YnLAogICAgICAgICAg5YWs6K+B5Lmm6aKG5Y+W5pa55byPOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IDEgPyAn6YKu5a+E6YCB6L6+ICcgOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IG51bGwgPyAn55S15a2Q5YWs6K+B5LmmJyA6ICfnur/kuIvpooblj5YnLAogICAgICAgICAg6K+B5piO5p2Q5paZOiBzdHIucmVwbGFjZSgv77yMJC9naSwgJycpLAogICAgICAgICAg6aKG6K+B5Lq65aeT5ZCNOiByZXMuZGF0YS5vcmRlckluZm8ucHJvZENvZGUgIT09ICd5emRsJyA/IHJlcy5kYXRhLm9yZGVySW5mby5wcm9kQ29kZSA9PT0gJ3lzZicgPyAnLScgOiByZXMuZGF0YS5vZmZsaW5lUmVjZWl2ZS5yZWNlaXZlTmFtZSA6IHJlcy5kYXRhLm9yZGVyQ2VydGlmaWVyLm5hbWUsCiAgICAgICAgICDpoobor4Hkurror4Hku7blj7c6IHJlcy5kYXRhLm9yZGVySW5mby5wcm9kQ29kZSAhPT0gJ3l6ZGwnID8gcmVzLmRhdGEub3JkZXJJbmZvLnByb2RDb2RlID09PSAneXNmJyA/ICctJyA6IHJlcy5kYXRhLm9mZmxpbmVSZWNlaXZlLmNhcmROdW0gOiByZXMuZGF0YS5vcmRlckNlcnRpZmllci5jYXJkTnVtYmVyLAogICAgICAgICAg6aKG6K+B5Lq655S16K+dOiByZXMuZGF0YS5vcmRlckluZm8ucHJvZENvZGUgIT09ICd5emRsJyA/IHJlcy5kYXRhLm9yZGVySW5mby5wcm9kQ29kZSA9PT0gJ3lzZicgPyAnLScgOiByZXMuZGF0YS5vZmZsaW5lUmVjZWl2ZS5tb2JpbGUgOiByZXMuZGF0YS5vcmRlckNlcnRpZmllci5tb2JpbGUsCiAgICAgICAgICDlkIjorqE6IHJlcy5kYXRhLm9yZGVySW5mby50b3RhbENvc3QsCiAgICAgICAgICDmlLbku7bkurrlnLDlnYA6IHJlcy5kYXRhLm9yZGVyRXhwcmVzc1NlbmREVE9TID8gcmVzLmRhdGEub3JkZXJFeHByZXNzU2VuZERUT1MucmVjZWl2ZUFkZHJlc3MgKyByZXMuZGF0YS5vcmRlckV4cHJlc3NTZW5kRFRPUy5yZWNlaXZlRGV0YWlsQWRkcmVzcyA6ICcnLAogICAgICAgICAg5YWs6K+B5ZGYOiByZXMuZGF0YS5vcmRlckRvc3NpZXIgPyByZXMuZGF0YS5vcmRlckRvc3NpZXIubm90YXJ5VXNlck5hbWUgOiAnJywKICAgICAgICAgIOWFrOivgeWRmOWKqeeQhjogcmVzLmRhdGEub3JkZXJEb3NzaWVyID8gcmVzLmRhdGEub3JkZXJEb3NzaWVyLmFzc2lzdGFudFVzZXJOYW1lIDogJycsCiAgICAgICAgICDljbflrpflj7c6IHJlcy5kYXRhLm9yZGVySW5mby5kb3NzaWVyTnVtLAogICAgICAgICAg5pel5pyfOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IDIgPyByZXMuZGF0YS5vZmZsaW5lUmVjZWl2ZS5yZWNlaXZlVGltZSA6ICcnLAogICAgICAgICAg5pS25Lu25Lq65aeT5ZCNOiByZXMuZGF0YS5vcmRlckluZm8ub2J0YWluQ2VydFR5cGUgPT09IDEgPyByZXMuZGF0YS5vcmRlckV4cHJlc3NTZW5kRFRPUy5hcHBsaWNhbnROYW1lIDogJycsCiAgICAgICAgICDmlLbku7bkurrogZTns7vmlrnlvI86IHJlcy5kYXRhLm9yZGVySW5mby5vYnRhaW5DZXJ0VHlwZSA9PT0gMSA/IHJlcy5kYXRhLm9yZGVyRXhwcmVzc1NlbmREVE9TLnJlY2VpdmVNb2JpbGUgPyByZXMuZGF0YS5vcmRlckV4cHJlc3NTZW5kRFRPUy5yZWNlaXZlTW9iaWxlIDogcmVzLmRhdGEub3JkZXJFeHByZXNzU2VuZERUT1MucmVjZWl2ZUZpeGVkTGluZSA6ICcnLAogICAgICAgICAgYXBwbGljYXRpb25QZW9wbGU6IFtdCiAgICAgICAgfQogICAgICB9OwoKICAgICAgZnVuY3Rpb24gdHlwZUZpbHRlcih2YWwpIHsKICAgICAgICB2YXIgc3RyID0gJyc7CgogICAgICAgIHN3aXRjaCAodHJ1ZSkgewogICAgICAgICAgY2FzZSBwYXJzZUludCh2YWwpID09PSAxMTE6CiAgICAgICAgICAgIHN0ciA9ICflsYXmsJHouqvku73or4EnOwogICAgICAgICAgICByZXR1cm4gc3RyOwoKICAgICAgICAgIGNhc2UgcGFyc2VJbnQodmFsKSA9PT0gMTMwOgogICAgICAgICAgICBzdHIgPSAn5riv5r6z5bGF5rCR5bGF5L2P6K+BJzsKICAgICAgICAgICAgcmV0dXJuIHN0cjsKCiAgICAgICAgICBjYXNlIHBhcnNlSW50KHZhbCkgPT09IDEzMToKICAgICAgICAgICAgc3RyID0gJ+WPsOa5vuWxheawkeWxheS9j+ivgSc7CiAgICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgICAgY2FzZSBwYXJzZUludCh2YWwpID09PSAxMTg6CiAgICAgICAgICAgIHN0ciA9ICfmuK/mvrPlsYXmsJHmnaXlvoDlhoXlnLDpgJrooYzor4EnOwogICAgICAgICAgICByZXR1cm4gc3RyOwoKICAgICAgICAgIGNhc2UgcGFyc2VJbnQodmFsKSA9PT0gMTMyOgogICAgICAgICAgICBzdHIgPSAn5Lit5Zu95oqk54WnJzsKICAgICAgICAgICAgcmV0dXJuIHN0cjsKCiAgICAgICAgICBjYXNlIHBhcnNlSW50KHZhbCkgPT09IDEyNjoKICAgICAgICAgICAgc3RyID0gJ+iQpeS4muaJp+eFpyc7CiAgICAgICAgICAgIHJldHVybiBzdHI7CgogICAgICAgICAgY2FzZSBwYXJzZUludCh2YWwpID09PSAxMjc6CiAgICAgICAgICAgIHN0ciA9ICfms6jlhozor4HkuaYnOwogICAgICAgICAgICByZXR1cm4gc3RyOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocmVzLmRhdGEub3JkZXJJbmZvLmJpZFR5cGUgPT09IDIpIHsKICAgICAgICB2YXIgYXJyYXkgPSByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mbzsKICAgICAgICB2YXIgZnUgPSB7fTsKICAgICAgICB2YXIgdHUgPSB7fTsKCiAgICAgICAgZm9yICh2YXIgX2luZGV4MiA9IDA7IF9pbmRleDIgPCBhcnJheS5sZW5ndGg7IF9pbmRleDIrKykgewogICAgICAgICAgaWYgKHBhcnNlSW50KGFycmF5W19pbmRleDJdLnByb3Bvc2VyVHlwZSkgPT09IDApIHsKICAgICAgICAgICAgZnUgPSBhcnJheVtfaW5kZXgyXTsKICAgICAgICAgICAgdmFyIGFwID0gewogICAgICAgICAgICAgIG5hbWU6IGZ1LnJlYWxOYW1lLAogICAgICAgICAgICAgIGNhcmRUeXBlOiB0eXBlRmlsdGVyKGZ1LmNhcmRUeXBlKSwKICAgICAgICAgICAgICBjYXJkTnVtOiBmdS5jYXJkTnVtLAogICAgICAgICAgICAgIGJpcnRoRGF5OiBmdS5iaXJ0aGRheSwKICAgICAgICAgICAgICBzZXg6IHBhcnNlSW50KGZ1LmdlbmRlcikgPT09IDEgPyAn55S3JyA6ICflpbMnLAogICAgICAgICAgICAgIG1vYmlsZTogZnUubW9iaWxlLAogICAgICAgICAgICAgIGFkZHJlc3M6IGZ1LmRldGFpbEFkZHJlc3MsCiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uTW9iaWxlOiBmdS5vcmdhbml6YXRpb25QaG9uZSwKICAgICAgICAgICAgICBvcmdhbml6YXRpb25DYXJkTnVtOiBmdS5vcmdhbml6YXRpb25DYXJkTnVtLAogICAgICAgICAgICAgIG9yZ2FuaXphdGlvbk5hbWU6IGZ1Lm9yZ2FuaXphdGlvbk5hbWUsCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbk5hbWU6IGZ1LnJlYWxOYW1lLAogICAgICAgICAgICAgIGFydGlmaWNpYWxQZXJzb25DYXJkTnVtOiBmdS5jYXJkTnVtLAogICAgICAgICAgICAgIGFydGlmaWNpYWxQZXJzb25CaXJ0aERheTogZnUuYmlydGhkYXksCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvblNleDogcGFyc2VJbnQoZnUuZ2VuZGVyKSA9PT0gMSA/ICfnlLcnIDogJ+WlsycKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdHJhbnNmZXJEYXRhLmpzb24uYXBwbGljYXRpb25QZW9wbGUucHVzaChhcCk7CiAgICAgICAgICAgIHRyYW5zZmVyRGF0YS5qc29uLnB5UGVvcGxlID0gW3sKICAgICAgICAgICAgICBuYW1lOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1swXS5yZWFsTmFtZSwKICAgICAgICAgICAgICBjYXJkVHlwZTogdHlwZUZpbHRlcihyZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1swXS5jYXJkVHlwZSksCiAgICAgICAgICAgICAgY2FyZE51bTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bMF0uY2FyZE51bSwKICAgICAgICAgICAgICBiaXJ0aERheTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bMF0uYmlydGhkYXksCiAgICAgICAgICAgICAgc2V4OiBwYXJzZUludChyZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1swXS5nZW5kZXIpID09PSAxID8gJ+eUtycgOiAn5aWzJywKICAgICAgICAgICAgICBtb2JpbGU6IHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvWzBdLm1vYmlsZSwKICAgICAgICAgICAgICBhZGRyZXNzOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1swXS5kZXRhaWxBZGRyZXNzCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICB0cmFuc2ZlckRhdGEuanNvbi5wc09yZ2FuaXphdGlvbiA9IFt7CiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uTW9iaWxlOiBhcHBsaURhdGEub3JnYW5pemF0aW9uUGhvbmUsCiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uQ2FyZE51bTogYXBwbGlEYXRhLm9yZ2FuaXphdGlvbkNhcmROdW0sCiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uTmFtZTogYXBwbGlEYXRhLm9yZ2FuaXphdGlvbk5hbWUsCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbk5hbWU6IGFwcGxpRGF0YS5yZWFsTmFtZSwKICAgICAgICAgICAgICBhcnRpZmljaWFsUGVyc29uQ2FyZE51bTogYXBwbGlEYXRhLmNhcmROdW0sCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbkJpcnRoRGF5OiBhcHBsaURhdGEuYmlydGhkYXksCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvblNleDogcGFyc2VJbnQoYXBwbGlEYXRhLmdlbmRlcikgPT09IDEgPyAn55S3JyA6ICflpbMnCiAgICAgICAgICAgIH1dOwogICAgICAgICAgfSBlbHNlIGlmIChwYXJzZUludChhcnJheVtfaW5kZXgyXS5wcm9wb3NlclR5cGUpID09PSAxMSkgewogICAgICAgICAgICB0dSA9IGFycmF5W19pbmRleDJdOwogICAgICAgICAgICB0cmFuc2ZlckRhdGEuanNvbi5hcHBsaWNhdGlvblBlb3BsZSA9IFt7CiAgICAgICAgICAgICAgbmFtZTogdHUucmVhbE5hbWUsCiAgICAgICAgICAgICAgY2FyZFR5cGU6IHR5cGVGaWx0ZXIodHUuY2FyZFR5cGUpLAogICAgICAgICAgICAgIGNhcmROdW06IHR1LmNhcmROdW0sCiAgICAgICAgICAgICAgYmlydGhEYXk6IHR1LmJpcnRoZGF5LAogICAgICAgICAgICAgIHNleDogcGFyc2VJbnQodHUuZ2VuZGVyKSA9PT0gMSA/ICfnlLcnIDogJ+WlsycsCiAgICAgICAgICAgICAgbW9iaWxlOiB0dS5tb2JpbGUsCiAgICAgICAgICAgICAgYWRkcmVzczogdHUuZGV0YWlsQWRkcmVzcywKICAgICAgICAgICAgICBvcmdhbml6YXRpb25Nb2JpbGU6IGZ1Lm9yZ2FuaXphdGlvblBob25lLAogICAgICAgICAgICAgIG9yZ2FuaXphdGlvbkNhcmROdW06IGZ1Lm9yZ2FuaXphdGlvbkNhcmROdW0sCiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uTmFtZTogZnUub3JnYW5pemF0aW9uTmFtZSwKICAgICAgICAgICAgICBhcnRpZmljaWFsUGVyc29uTmFtZTogZnUucmVhbE5hbWUsCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbkNhcmROdW06IGZ1LmNhcmROdW0sCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbkJpcnRoRGF5OiBmdS5iaXJ0aGRheSwKICAgICAgICAgICAgICBhcnRpZmljaWFsUGVyc29uU2V4OiBwYXJzZUludChmdS5nZW5kZXIpID09PSAxID8gJ+eUtycgOiAn5aWzJwogICAgICAgICAgICB9XTsKICAgICAgICAgICAgdHJhbnNmZXJEYXRhLmpzb24ucHlQZW9wbGUgPSBbewogICAgICAgICAgICAgIG5hbWU6IGFnZW5jeURhdGEucmVhbE5hbWUsCiAgICAgICAgICAgICAgY2FyZFR5cGU6IHR5cGVGaWx0ZXIoYWdlbmN5RGF0YS5jYXJkVHlwZSksCiAgICAgICAgICAgICAgY2FyZE51bTogYWdlbmN5RGF0YS5jYXJkTnVtLAogICAgICAgICAgICAgIGJpcnRoRGF5OiBhZ2VuY3lEYXRhLmJpcnRoZGF5LAogICAgICAgICAgICAgIHNleDogcGFyc2VJbnQoYWdlbmN5RGF0YS5nZW5kZXIpID09PSAxID8gJ+eUtycgOiAn5aWzJywKICAgICAgICAgICAgICBtb2JpbGU6IGFnZW5jeURhdGEubW9iaWxlLAogICAgICAgICAgICAgIGFkZHJlc3M6IGFnZW5jeURhdGEuZGV0YWlsQWRkcmVzcwogICAgICAgICAgICB9XTsKICAgICAgICAgICAgdHJhbnNmZXJEYXRhLmpzb24ucHNPcmdhbml6YXRpb24gPSBbewogICAgICAgICAgICAgIG9yZ2FuaXphdGlvbk1vYmlsZTogYXBwbGlEYXRhLm9yZ2FuaXphdGlvblBob25lLAogICAgICAgICAgICAgIG9yZ2FuaXphdGlvbkNhcmROdW06IGFwcGxpRGF0YS5vcmdhbml6YXRpb25DYXJkTnVtLAogICAgICAgICAgICAgIG9yZ2FuaXphdGlvbk5hbWU6IGFwcGxpRGF0YS5vcmdhbml6YXRpb25OYW1lLAogICAgICAgICAgICAgIGFydGlmaWNpYWxQZXJzb25OYW1lOiBhcHBsaURhdGEucmVhbE5hbWUsCiAgICAgICAgICAgICAgYXJ0aWZpY2lhbFBlcnNvbkNhcmROdW06IGFwcGxpRGF0YS5jYXJkTnVtLAogICAgICAgICAgICAgIGFydGlmaWNpYWxQZXJzb25CaXJ0aERheTogYXBwbGlEYXRhLmJpcnRoZGF5LAogICAgICAgICAgICAgIGFydGlmaWNpYWxQZXJzb25TZXg6IHBhcnNlSW50KGFwcGxpRGF0YS5nZW5kZXIpID09PSAxID8gJ+eUtycgOiAn5aWzJwogICAgICAgICAgICB9XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJhbnNmZXJEYXRhLmpzb24ucHNQZW9wbGUgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgX2luZGV4MyA9IDA7IF9pbmRleDMgPCByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mby5sZW5ndGg7IF9pbmRleDMrKykgewogICAgICAgICAgdmFyIGd1ID0gewogICAgICAgICAgICBuYW1lOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5yZWFsTmFtZSwKICAgICAgICAgICAgY2FyZFR5cGU6IHR5cGVGaWx0ZXIocmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4M10uY2FyZFR5cGUpLAogICAgICAgICAgICBjYXJkTnVtOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5jYXJkTnVtLAogICAgICAgICAgICBiaXJ0aERheTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4M10uYmlydGhkYXksCiAgICAgICAgICAgIHNleDogcGFyc2VJbnQocmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4M10uZ2VuZGVyKSA9PT0gMSA/ICfnlLcnIDogJ+WlsycsCiAgICAgICAgICAgIG1vYmlsZTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4M10ubW9iaWxlLAogICAgICAgICAgICBhZGRyZXNzOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5kZXRhaWxBZGRyZXNzCiAgICAgICAgICB9OwogICAgICAgICAgdHJhbnNmZXJEYXRhLmpzb24uYXBwbGljYXRpb25QZW9wbGUucHVzaChndSk7CiAgICAgICAgICB2YXIgcHNvYmogPSB7CiAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW19pbmRleDNdLnJlYWxOYW1lLAogICAgICAgICAgICBjYXJkVHlwZTogdHlwZUZpbHRlcihyZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5jYXJkVHlwZSksCiAgICAgICAgICAgIGNhcmROdW06IHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW19pbmRleDNdLmNhcmROdW0sCiAgICAgICAgICAgIGJpcnRoRGF5OiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5iaXJ0aGRheSwKICAgICAgICAgICAgc2V4OiBwYXJzZUludChyZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5nZW5kZXIpID09PSAxID8gJ+eUtycgOiAn5aWzJywKICAgICAgICAgICAgbW9iaWxlOiByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mb1tfaW5kZXgzXS5tb2JpbGUsCiAgICAgICAgICAgIGFkZHJlc3M6IHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW19pbmRleDNdLmRldGFpbEFkZHJlc3MKICAgICAgICAgIH07CiAgICAgICAgICB0cmFuc2ZlckRhdGEuanNvbi5wc1Blb3BsZS5wdXNoKHBzb2JqKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBwZUFyciA9IFtdOwoKICAgICAgaWYgKHJlcy5kYXRhLm9yZGVySW5mby5wcm9kQ29kZSA9PT0gJ3l6ZGwnKSB7CiAgICAgICAgZm9yICh2YXIgX2luZGV4NCA9IDA7IF9pbmRleDQgPCByZXMuZGF0YS5vcmRlclByb3Bvc2VySW5mby5sZW5ndGg7IF9pbmRleDQrKykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW19pbmRleDRdLnJvbGVDb2RlID09PSAnbHl6cicpIHsKICAgICAgICAgICAgdmFyIHJlb2JqID0gewogICAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLm9yZGVyUHJvcG9zZXJJbmZvW19pbmRleDRdLnJlYWxOYW1lLAogICAgICAgICAgICAgIHNleDogcGFyc2VJbnQocmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4NF0uZ2VuZGVyKSA9PT0gMSA/ICfnlLcnIDogJ+WlsycsCiAgICAgICAgICAgICAgY2FyZE51bTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4NF0uY2FyZE51bSwKICAgICAgICAgICAgICBiaXJ0aERheTogcmVzLmRhdGEub3JkZXJQcm9wb3NlckluZm9bX2luZGV4NF0uYmlydGhkYXkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcGVBcnIucHVzaChyZW9iaik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0cmFuc2ZlckRhdGEuanNvbi50ZXN0YXRvciA9IFtwZUFyclswXV07CiAgICAgIH0KCiAgICAgIHZhciB2ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0cmFuc2ZlckRhdGEpKTsKICAgICAgY29uc29sZS5sb2codik7CiAgICAgIHRyYW5zZmVyRGF0YS5qc29uID0gSlNPTi5zdHJpbmdpZnkodHJhbnNmZXJEYXRhLmpzb24pOwogICAgICBheGlvcygib3JnL3JlcGxhY2UtdmFyaWFibGUiLCB0cmFuc2ZlckRhdGEsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhKSB7CiAgICAgICAgICB2YXIgc3VjLCByZVZlcjsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEsIHRyYW5zZmVyRGF0YSwgJy0tLS0tLS0tLS0tLS3mlofmnKzmm7/mjaLmiJDlip/nmoTkv6Hmga8tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgICAgICAgICAgICBzdWMgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLm9yZGVySW5mby5wcm9kQ29kZSA9PT0gJ3l6ZGwnICYmIHBlQXJyLmxlbmd0aCA9PT0gMikpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHYudHlwZSA9IDE7CiAgICAgICAgICAgICAgICAgIHYuanNvbi50ZXN0YXRvciA9IFtwZUFyclsxXV07CiAgICAgICAgICAgICAgICAgIHYuanNvbiA9IEpTT04uc3RyaW5naWZ5KHYuanNvbik7CiAgICAgICAgICAgICAgICAgIHYuaXNEZWxldGUgPSAwOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKCJvcmcvcmVwbGFjZS12YXJpYWJsZSIsIHYsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgIHJlVmVyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgc3VjID0gcmVWZXIuc3VjY2VzczsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICBzdWMgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIGlmIChzdWMpIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIuZ28oMCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSk7CiAgfSk7Cn0="},null]}