{"remainingRequest":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jenkins_data/workspace/页面-公证处后台/src/components/setting/moduleOperation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jenkins_data/workspace/页面-公证处后台/src/components/setting/moduleOperation.vue","mtime":1634724784697},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins_data/workspace/页面-公证处后台/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvamVua2luc19kYXRhL3dvcmtzcGFjZS9cdTk4NzVcdTk3NjItXHU1MTZDXHU4QkMxXHU1OTA0XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGhvbWVQYWdlVXBsb2FkSW1hZ2UsIGFkZFRlbXBsYXRlLCBnZXRBbGxvY2F0aW9uTWFwLCBlZGl0VGVtcGxhdGUgfSBmcm9tICcuLi8uLi9hcGkvc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCJbYH4hQCMkXiYqKCk9fHt9JSc6OycsXFxbXFxdLjw+Lz9+77yBQCPvv6XigKbigKYmKu+8iO+8ieKAlOKAlHx7feOAkOOAkeKAmO+8m++8mifjgILvvIzjgIHvvJ9dIik7CiAgICB2YXIgc3ltYm9sID0gbmV3IFJlZ0V4cCgiW2B+IUAjJF4mKigpPXx7fSUnOjsnXFxbXFxdLjw+Lz9+77yBQCPvv6XigKbigKYmKu+8iO+8ieKAlOKAlHx7feOAkOOAkeKAmO+8m++8mifjgILjgIHvvJ9dIik7CiAgICB2YXIgaXNfcGF0aCA9IC9eKFtoSF1bdFRdezJ9W3BQXTpcL1wvfFtoSF1bdFRdezJ9W3BQXVtzU106XC9cLykoKFtBLVphLXowLTktfiNdKylcLikrKFtBLVphLXowLTktfiNcLy5dKSskLzsKCiAgICB2YXIgdmVyaWZ5TW9kdWxlTmFtZSA9IGZ1bmN0aW9uIHZlcmlmeU1vZHVsZU5hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZS5yZXBsYWNlKC9ccysvZywgIiIpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5LiN6IO95Li656m6JykpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoIDwgMiB8fCB2YWx1ZS5yZXBsYWNlKC9ccysvZywgIiIpLmxlbmd0aCA+IDE1KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaUyLTE15Liq5a2XJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZlcmlmeUJ1c2luZXNzVGl0bGUgPSBmdW5jdGlvbiB2ZXJpZnlCdXNpbmVzc1RpdGxlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPT09IDApIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4jeiDveS4uuepuicpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZS5yZXBsYWNlKC9ccysvZywgIiIpLmxlbmd0aCA8IDIgfHwgdmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPiAxNSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWlMi0xNeS4quWtlycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAocGF0dGVybi50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fli7/lkKvnrKblj7cnKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIHZhciB2ZXJpZnlMYWJlbCA9IGZ1bmN0aW9uIHZlcmlmeUxhYmVsKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPT09IDApIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gNSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35Yu/6LaF6L+HNeS4quWtlycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAocGF0dGVybi50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fli7/lkKvnrKblj7cnKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIHZhciB2ZXJpZnlCdXNpbmVzc0Rlc2NyaWJlID0gZnVuY3Rpb24gdmVyaWZ5QnVzaW5lc3NEZXNjcmliZShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPCAyIHx8IHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gMTUwKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaUyLTE1MOS4quWtlycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHZhciB2ZXJpZnlCdXR0b25UZXh0ID0gZnVuY3Rpb24gdmVyaWZ5QnV0dG9uVGV4dChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPCAyIHx8IHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gNSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWlMi015Liq5a2XJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChwYXR0ZXJuLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WLv+WQq+espuWPtycpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZlcmlmeUlzTGluayA9IGZ1bmN0aW9uIHZlcmlmeUlzTGluayhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCFpc19wYXRoLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahFVSTOmTvuaOpe+8jOWmgmh0dHBzOi8vd3d3LmJhaWR1LmNvbScpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdmFyIHB1YmxpY2l0eV92ZXJpZnlCdXNpbmVzc1RpdGxlID0gZnVuY3Rpb24gcHVibGljaXR5X3ZlcmlmeUJ1c2luZXNzVGl0bGUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZS5yZXBsYWNlKC9ccysvZywgIiIpLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAodmFsdWUucmVwbGFjZSgvXHMrL2csICIiKS5sZW5ndGggPCAyIHx8IHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gMTUpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWlMi0xNeS4quWtlycpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHBhdHRlcm4udGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fli7/lkKvnrKblj7cnKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBwdWJsaWNpdHlfdmVyaWZ5SXNMaW5rID0gZnVuY3Rpb24gcHVibGljaXR5X3ZlcmlmeUlzTGluayhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gMCkgewogICAgICAgIGlmICghaXNfcGF0aC50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7nmoRVUkzpk77mjqXvvIzlpoJodHRwczovL3d3dy5iYWlkdS5jb20nKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHB1YmxpY2l0eV92ZXJpZnlMYWJlbCA9IGZ1bmN0aW9uIHB1YmxpY2l0eV92ZXJpZnlMYWJlbChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnJlcGxhY2UoL1xzKy9nLCAiIikubGVuZ3RoID4gMCAmJiBzeW1ib2wudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WLv+WQq+espuWPtycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHVwbG9hZEltZ0hpbnQ6ICfor7fkuIrkvKDlm77niYcnLAogICAgICBpbWdGaWxlRGF0YTogJycsCiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgYnVzaW5lc3NTdHlsZURhdGE6IHsKICAgICAgICB0aXRsZUNvbG9yOiAnIzMzMzMzMycsCiAgICAgICAgbGFiZWxDb2xvcjogJyMzMzMzMzMnLAogICAgICAgIGRlc2NyaXB0aW9uQ29sb3I6ICcjMzMzMzMzJywKICAgICAgICBidXR0b25Db2xvcjogJyMxOTg5RkEnLAogICAgICAgIGJ1dHRvblRleHRDb2xvcjogJyNmZmZmZmYnLAogICAgICAgIGJ1dHRvbkhvdmVyQ29sb3I6ICcjZmZjYTI4JwogICAgICB9LAogICAgICBwdWJsaWNpdHlTdHlsZURhdGE6IHsKICAgICAgICB0aXRsZUNvbG9yOiAnIzMzMzMzMycsCiAgICAgICAgbGFiZWxDb2xvcjogJyMzMzMzMzMnCiAgICAgIH0sCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdGVtcGxhdGVOYW1lOiAnJywKICAgICAgICB0ZW1wbGF0ZVR5cGU6ICcnLAogICAgICAgIHRlbXBsYXRlU3R5bGU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVGb3JtQnVzaW5lc3M6IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGJ1dHRvblRleHQ6ICfnq4vljbPlip7nkIYnLAogICAgICAgIGJ1dHRvblVybDogJycsCiAgICAgICAgbGFiZWw6IFt7CiAgICAgICAgICBsYWJlbE5hbWU6ICfmoIfnrb7vvJonLAogICAgICAgICAgbGFiZWw6ICcnLAogICAgICAgICAgaWNvOiAnZWwtaWNvbi1jaXJjbGUtcGx1cycsCiAgICAgICAgICB0eXBlOiAnYWRkJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHJ1bGVGb3JtUHVibGljaXR5OiB7CiAgICAgICAgcHVibGljaXR5X3RpdGxlOiAnJywKICAgICAgICBpbWdVcmw6ICcnLAogICAgICAgIHB1YmxpY2l0eV9sYWJlbDogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB0ZW1wbGF0ZU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHZhbGlkYXRvcjogdmVyaWZ5TW9kdWxlTmFtZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHRlbXBsYXRlVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaooeWdl+exu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIHRlbXBsYXRlU3R5bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmqKHlnZfmoLflvI8iLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiB2ZXJpZnlCdXNpbmVzc1RpdGxlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgbGFiZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB2YWxpZGF0b3I6IHZlcmlmeUxhYmVsLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZGVzY3JpcHRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHZhbGlkYXRvcjogdmVyaWZ5QnVzaW5lc3NEZXNjcmliZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJ1dHRvblRleHQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHZhbGlkYXRvcjogdmVyaWZ5QnV0dG9uVGV4dCwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJ1dHRvblVybDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpei3r+eUseWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwdWJsaWNpdHlfdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICB2YWxpZGF0b3I6IHB1YmxpY2l0eV92ZXJpZnlMYWJlbCwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHB1YmxpY2l0eV9sYWJlbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgIHZhbGlkYXRvcjogcHVibGljaXR5X3ZlcmlmeUxhYmVsLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgaW1nVXJsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICB0ZW1wbGF0ZVR5cGVEYXRhOiBbewogICAgICAgIHZhbHVlOiAxLAogICAgICAgIGxhYmVsOiAn5Lia5Yqh5YWl5Y+jJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICflrqPkvKDkvY0nCiAgICAgIH1dLAogICAgICB0ZW1wbGF0ZVN0eWxlRGF0YTogW10sCiAgICAgIHNlbGVjdF9zaG93OiBmYWxzZSwKICAgICAgcG9wdXBTaG93OiBmYWxzZSwKICAgICAgc2FtcGxlR3JhcGhTaG93OiBmYWxzZSwKICAgICAgcHJldmlld1Nob3c6IGZhbHNlLAogICAgICB0eXBlOiAnJywKICAgICAgcGFyYW1zOiAnJywKICAgICAgaWQ6ICcnLAogICAgICB1cmxzOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZExhYmVsOiBmdW5jdGlvbiBhZGRMYWJlbCgpIHsKICAgICAgaWYgKHRoaXMucnVsZUZvcm1CdXNpbmVzcy5sYWJlbC5sZW5ndGggPCAzKSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybUJ1c2luZXNzLmxhYmVsLnB1c2goewogICAgICAgICAgbGFiZWxOYW1lOiAnJywKICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgIGljbzogJ2VsLWljb24tcmVtb3ZlJywKICAgICAgICAgIHR5cGU6ICdzdWJ0cmFjdCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAn5pyA5aSa5LiJ5Liq5qCH562+JwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlTGFiZWw6IGZ1bmN0aW9uIHJlbW92ZUxhYmVsKGluZGV4KSB7CiAgICAgIHRoaXMucnVsZUZvcm1CdXNpbmVzcy5sYWJlbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHByZXZpZXdFdmVudDogZnVuY3Rpb24gcHJldmlld0V2ZW50KCkgewogICAgICB0aGlzLnBvcHVwU2hvdyA9IHRydWU7CiAgICAgIHRoaXMucHJldmlld1Nob3cgPSB0cnVlOwogICAgfSwKICAgIHNhbXBsZVNob3dFdmVudDogZnVuY3Rpb24gc2FtcGxlU2hvd0V2ZW50KCkgewogICAgICB0aGlzLnBvcHVwU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuc2FtcGxlR3JhcGhTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBwb3B1cEhpZGVFdmVudDogZnVuY3Rpb24gcG9wdXBIaWRlRXZlbnQoKSB7CiAgICAgIHRoaXMucG9wdXBTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuc2FtcGxlR3JhcGhTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMucHJldmlld1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICB0ZW1wbGF0ZVR5cGVFdmVudDogZnVuY3Rpb24gdGVtcGxhdGVUeXBlRXZlbnQoKSB7CiAgICAgIGlmICh0aGlzLnR5cGUgIT09ICdlZGl0TW9kdWxlJykgewogICAgICAgIHRoaXMucnVsZUZvcm0udGVtcGxhdGVTdHlsZSA9ICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5ydWxlRm9ybS50ZW1wbGF0ZVR5cGUgPT09IDEpIHsKICAgICAgICB0aGlzLnRlbXBsYXRlU3R5bGVEYXRhID0gW3sKICAgICAgICAgIHZhbHVlOiAxLAogICAgICAgICAgbGFiZWw6ICfkuJrliqHmoLflvI8xJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbHVlOiAyLAogICAgICAgICAgbGFiZWw6ICfkuJrliqHmoLflvI8yJwogICAgICAgIH1dOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGVtcGxhdGVTdHlsZURhdGEgPSBbewogICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICBsYWJlbDogJ+Wuo+S8oOS9jeagt+W8jzEnCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCiAgICAvLyDmj5DkuqTooajljZUKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlRm9ybUJ1c2luZXNzKTsKCiAgICAgIGlmICh0aGlzLmltZ0ZpbGVEYXRhID09PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iuS8oOWbvueJhycKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtID0gW107CiAgICAgIHZhciBmb3JtMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBfdGhpczIuJHJlZnNbJ3J1bGVGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgZm9ybS5wdXNoKGZvcm0xKTsKCiAgICAgIGlmICh0aGlzLnJ1bGVGb3JtLnRlbXBsYXRlVHlwZSA9PT0gMSkgewogICAgICAgIHRoaXMucGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5ydWxlRm9ybSwgdGhpcy5ydWxlRm9ybUJ1c2luZXNzLCB0aGlzLmJ1c2luZXNzU3R5bGVEYXRhLCB7CiAgICAgICAgICBpbWdGaWxlOiB0aGlzLmltZ0ZpbGVEYXRhCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGZvcm0yID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgX3RoaXMyLiRyZWZzWydydWxlRm9ybUJ1c2luZXNzJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGZvcm0ucHVzaChmb3JtMik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnJ1bGVGb3JtLCB0aGlzLnJ1bGVGb3JtUHVibGljaXR5LCB0aGlzLnB1YmxpY2l0eVN0eWxlRGF0YSwgewogICAgICAgICAgaW1nRmlsZTogdGhpcy5pbWdGaWxlRGF0YQogICAgICAgIH0pOwogICAgICAgIHZhciBmb3JtMyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIF90aGlzMi4kcmVmc1sncnVsZUZvcm1QdWJsaWNpdHknXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgZm9ybS5wdXNoKGZvcm0zKTsKICAgICAgfQoKICAgICAgdGhpcy52ZXJpZnlGb3JtKGZvcm0sIHRoaXMucGFyYW1zKTsKICAgIH0sCiAgICB2ZXJpZnlGb3JtOiBmdW5jdGlvbiB2ZXJpZnlGb3JtKGZvcm0sIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIFByb21pc2UuYWxsKGZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBpc192ZXJpZnkgPSByZXMudG9TdHJpbmcoKS5pbmRleE9mKCdmYWxzZScpID09PSAtMSA/IHRydWUgOiBmYWxzZTsKCiAgICAgICAgaWYgKHBhcmFtcy50ZW1wbGF0ZVR5cGUgPT09IDEpIHsKICAgICAgICAgIHZhciBsYWJlbHMgPSAnJzsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGFyYW1zLmxhYmVsKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBpID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgbGFiZWxzICs9IGkubGFiZWwgKyAnLCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBsYWJlbHMgPSBsYWJlbHMuc3Vic3RyKDAsIGxhYmVscy5sZW5ndGggLSAxKTsKICAgICAgICAgIHBhcmFtcy5sYWJlbCA9IGxhYmVsczsKICAgICAgICB9CgogICAgICAgIGlmIChwYXJhbXMudGVtcGxhdGVUeXBlID09PSAyKSB7CiAgICAgICAgICBwYXJhbXMudGl0bGUgPSBwYXJhbXMucHVibGljaXR5X3RpdGxlOwogICAgICAgICAgcGFyYW1zLmxhYmVsID0gcGFyYW1zLnB1YmxpY2l0eV9sYWJlbDsKICAgICAgICAgIGRlbGV0ZSBwYXJhbXMucHVibGljaXR5X3RpdGxlOwogICAgICAgICAgZGVsZXRlIHBhcmFtcy5wdWJsaWNpdHlfbGFiZWw7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXNfdmVyaWZ5KSB7CiAgICAgICAgICBpZiAoX3RoaXMzLnR5cGUgPT09ICdlZGl0TW9kdWxlJykgewogICAgICAgICAgICBkZWxldGUgcGFyYW1zLnRlbXBsYXRlVHlwZTsKICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy50ZW1wbGF0ZVN0eWxlOwogICAgICAgICAgICBwYXJhbXMuaWQgPSBfdGhpczMuaWQ7CiAgICAgICAgICAgIGVkaXRUZW1wbGF0ZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgX3RoaXMzLmdvQmFjaygpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmqKHlnZfnvJbovpHmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRUZW1wbGF0ZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgX3RoaXMzLmdvQmFjaygpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmqKHlnZfmlrDlop7miJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHBhbmR1YW46IGZ1bmN0aW9uIHBhbmR1YW4oKSB7CiAgICAgIGlmICh0aGlzLnJ1bGVGb3JtLnRlbXBsYXRlVHlwZSA9PT0gJycpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7flhYjpgInmi6nmqKHlnZfnsbvlnosnCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3Rfc2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPCAwKSB7CiAgICAgICAgX3RoaXMudXBsb2FkSW1nSGludCA9ICflm77niYfmoLzlvI/kuI3nrKblkIjopoHmsYInOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5qC85byP5LiN5pSv5oyB77yM5LuF5pSv5oyBanBnL2pwZWcvcG5n5qC85byPJyk7CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGlzMU0gPSBmaWxlLnNpemUgPCA2MDAgKiAxMDI0OyAvLyDpmZDliLblsI/kuo4zMDBrYgoKICAgICAgaWYgKCFpczFNKSB7CiAgICAgICAgX3RoaXMudXBsb2FkSW1nSGludCA9ICflm77niYflpKflsI/kuI3nrKblkIjopoHmsYInOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5Zu+54mH5aSn5bCP5LiN56ym5ZCI6KaB5rGCJyk7CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgX1VSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDsKCiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICAgIHZhciB3aWR0aCA9IF90aGlzLnJ1bGVGb3JtLnRlbXBsYXRlVHlwZSA9PSAxID8gNjAwIDogMTIwMDsKICAgICAgICB2YXIgaGVpZ2h0ID0gX3RoaXMucnVsZUZvcm0udGVtcGxhdGVUeXBlID09IDEgPyA0NTAgOiA0MDA7CgogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlOwogICAgICAgICAgdmFsaWQgPyByZXNvbHZlKCkgOiByZWplY3QoKTsKICAgICAgICB9OwoKICAgICAgICBpbWcuc3JjID0gX1VSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBmaWxlOwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXBsb2FkSW1nSGludCA9ICflm77niYflsLrlr7jkuI3nrKblkIjopoHmsYInOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5Zu+54mH5bC65a+45LiN56ym5ZCI6KaB5rGCJyk7CgogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cExvYWRGaWxlOiBmdW5jdGlvbiB1cExvYWRGaWxlKGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZmlsZSA9IGUuZmlsZTsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpOwogICAgICBob21lUGFnZVVwbG9hZEltYWdlKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciBfVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOwoKICAgICAgICAgIF90aGlzNC5pbWFnZVVybCA9IF9VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICAgICAgX3RoaXM0LmltZ0ZpbGVEYXRhID0gSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhY2snLCB0cnVlKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBkYXRhRWNobzogZnVuY3Rpb24gZGF0YUVjaG8oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy50eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKCiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdlZGl0TW9kdWxlJyAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0ZW1wbGF0ZUVkaXQnKSkgewogICAgICAgIHZhciB0ZW1wbGF0ZURhdGEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RlbXBsYXRlRWRpdCcpKTsKICAgICAgICB0aGlzLmlkID0gdGVtcGxhdGVEYXRhLmlkOwogICAgICAgIGdldEFsbG9jYXRpb25NYXAoewogICAgICAgICAgaWQ6IHRlbXBsYXRlRGF0YS5pZAogICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaW1hZ2VVcmwgPSAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwnICsgcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgfSkpOwoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKTsKICAgICAgICB0aGlzLnJ1bGVGb3JtLnRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlRGF0YS50ZW1wbGF0ZU5hbWU7CiAgICAgICAgdGhpcy5ydWxlRm9ybS50ZW1wbGF0ZVR5cGUgPSB0ZW1wbGF0ZURhdGEudGVtcGxhdGVUeXBlOwogICAgICAgIHRoaXMucnVsZUZvcm0udGVtcGxhdGVTdHlsZSA9IHRlbXBsYXRlRGF0YS50ZW1wbGF0ZVN0eWxlOwogICAgICAgIHRoaXMuaW1nRmlsZURhdGEgPSB0ZW1wbGF0ZURhdGEuaW1nRmlsZTsKICAgICAgICB0aGlzLnRlbXBsYXRlVHlwZUV2ZW50KCk7CgogICAgICAgIGlmICh0ZW1wbGF0ZURhdGEudGVtcGxhdGVUeXBlID09PSAxKSB7CiAgICAgICAgICB0aGlzLmJ1c2luZXNzU3R5bGVEYXRhLnRpdGxlQ29sb3IgPSB0ZW1wbGF0ZURhdGEudGl0bGVDb2xvcjsKICAgICAgICAgIHRoaXMuYnVzaW5lc3NTdHlsZURhdGEubGFiZWxDb2xvciA9IHRlbXBsYXRlRGF0YS5sYWJlbENvbG9yOwogICAgICAgICAgdGhpcy5idXNpbmVzc1N0eWxlRGF0YS5kZXNjcmlwdGlvbkNvbG9yID0gdGVtcGxhdGVEYXRhLmRlc2NyaXB0aW9uQ29sb3I7CiAgICAgICAgICB0aGlzLmJ1c2luZXNzU3R5bGVEYXRhLmJ1dHRvbkNvbG9yID0gdGVtcGxhdGVEYXRhLmJ1dHRvbkNvbG9yOwogICAgICAgICAgdGhpcy5idXNpbmVzc1N0eWxlRGF0YS5idXR0b25UZXh0Q29sb3IgPSB0ZW1wbGF0ZURhdGEuYnV0dG9uVGV4dENvbG9yOwogICAgICAgICAgdGhpcy5idXNpbmVzc1N0eWxlRGF0YS5idXR0b25Ib3ZlckNvbG9yID0gdGVtcGxhdGVEYXRhLmJ1dHRvbkhvdmVyQ29sb3I7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtQnVzaW5lc3MudGl0bGUgPSB0ZW1wbGF0ZURhdGEudGl0bGU7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtQnVzaW5lc3MuZGVzY3JpcHRpb24gPSB0ZW1wbGF0ZURhdGEuZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtQnVzaW5lc3MuYnV0dG9uVGV4dCA9IHRlbXBsYXRlRGF0YS5idXR0b25UZXh0OwogICAgICAgICAgdGhpcy5ydWxlRm9ybUJ1c2luZXNzLmJ1dHRvblVybCA9IHRlbXBsYXRlRGF0YS5idXR0b25Vcmw7CiAgICAgICAgICB2YXIgYXJyYXlEYXRhID0gW107CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZURhdGEubGFiZWwuc3BsaXQoIiwiKS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgIGxhYmVsOiB0ZW1wbGF0ZURhdGEubGFiZWwuc3BsaXQoIiwiKVtpXQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICAgICAgICBvYmoubGFiZWxOYW1lID0gJ+agh+etvu+8mic7CiAgICAgICAgICAgICAgb2JqLmljbyA9ICdlbC1pY29uLWNpcmNsZS1wbHVzJzsKICAgICAgICAgICAgICBvYmoudHlwZSA9ICdhZGQnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG9iai5sYWJlbE5hbWUgPSAnJzsKICAgICAgICAgICAgICBvYmouaWNvID0gJ2VsLWljb24tcmVtb3ZlJzsKICAgICAgICAgICAgICBvYmoudHlwZSA9ICdzdWJ0cmFjdCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFycmF5RGF0YS5wdXNoKG9iaik7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5ydWxlRm9ybUJ1c2luZXNzLmxhYmVsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhcnJheURhdGEpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucnVsZUZvcm1CdXNpbmVzcy5sYWJlbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucnVsZUZvcm1QdWJsaWNpdHkucHVibGljaXR5X3RpdGxlID0gdGVtcGxhdGVEYXRhLnRpdGxlOwogICAgICAgICAgdGhpcy5ydWxlRm9ybVB1YmxpY2l0eS5wdWJsaWNpdHlfbGFiZWwgPSB0ZW1wbGF0ZURhdGEubGFiZWw7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtUHVibGljaXR5LmltZ1VybCA9IHRlbXBsYXRlRGF0YS5pbWdVcmw7CiAgICAgICAgICB0aGlzLnB1YmxpY2l0eVN0eWxlRGF0YS50aXRsZUNvbG9yID0gdGVtcGxhdGVEYXRhLnRpdGxlQ29sb3I7CiAgICAgICAgICB0aGlzLnB1YmxpY2l0eVN0eWxlRGF0YS5sYWJlbENvbG9yID0gdGVtcGxhdGVEYXRhLmxhYmVsQ29sb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5kYXRhRWNobygpOwogIH0KfTs="},null]}